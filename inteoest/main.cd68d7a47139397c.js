(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{4562:(ln,nt,w)=>{"use strict";w.d(nt,{$:()=>Rr,A:()=>fe,G:()=>xe,K:()=>Rt,L:()=>jt,N:()=>no,P:()=>aa,R:()=>fi,U:()=>Ce,V:()=>xo,W:()=>Oo,X:()=>Ds,Y:()=>Fa,Z:()=>rs,_:()=>Cs,a:()=>As,a0:()=>Zo,a1:()=>Ht,a2:()=>Tr,a3:()=>ui,a4:()=>Gr,a5:()=>bs,a6:()=>_a,a7:()=>Mi,a8:()=>Zi,a9:()=>ho,aA:()=>ir,aB:()=>je,aC:()=>X,aD:()=>ti,aE:()=>ie,aF:()=>Ge,aG:()=>fc,aH:()=>Gs,aI:()=>Ro,aJ:()=>mn,aN:()=>Rs,aQ:()=>qo,aa:()=>na,ab:()=>Va,ac:()=>du,ad:()=>wo,ae:()=>Xi,af:()=>Pl,ag:()=>ws,ah:()=>C,ak:()=>De,al:()=>Yt,am:()=>yn,ap:()=>G,aq:()=>gi,as:()=>Ia,at:()=>Ei,au:()=>Ve,av:()=>wn,aw:()=>It,ax:()=>qe,ay:()=>xs,az:()=>Cd,b:()=>sl,c:()=>Ah,d:()=>la,e:()=>yo,f:()=>Ed,g:()=>kl,h:()=>dc,i:()=>vu,j:()=>fl,k:()=>Bl,l:()=>Ca,m:()=>Ad,o:()=>Du,p:()=>ve,r:()=>yu,s:()=>cl,u:()=>Qi,w:()=>ia});var l=w(5861),M=w(9058),H=w(534),Q=w(7879),_e=w(7582),le=w(4537);const ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},fe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const xe=function $e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Ke=function we(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},rt=new M.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Le=new Q.Yd("@firebase/auth");function dt(_,...f){Le.logLevel<=Q.in.ERROR&&Le.error(`Auth (${H.SDK_VERSION}): ${_}`,...f)}function qe(_,...f){throw ge(_,...f)}function je(_,...f){return ge(_,...f)}function Xe(_,f,m){const D=Object.assign(Object.assign({},Ke()),{[f]:m});return new M.LL("auth","Firebase",D).create(f,{appName:_.name})}function Se(_,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&qe(_,"argument-error"),Xe(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ge(_,...f){if("string"!=typeof _){const m=f[0],D=[...f.slice(1)];return D[0]&&(D[0].appName=_.name),_._errorFactory.create(m,...D)}return rt.create(_,...f)}function X(_,f,...m){if(!_)throw ge(f,...m)}function ke(_){const f="INTERNAL ASSERTION FAILED: "+_;throw dt(f),new Error(f)}function Ve(_,f){_||ke(f)}function ft(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function lt(){return"http:"===yt()||"https:"===yt()}function yt(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Xt{constructor(f,m){this.shortDelay=f,this.longDelay=m,Ve(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,M.uI)()||(0,M.b$)()}get(){return function Wt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(lt()||(0,M.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tt(_,f){Ve(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class he{static initialize(f,m,D){this.fetchImpl=f,m&&(this.headersImpl=m),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ke("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ke("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ke("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Re=new Xt(3e4,6e4);function Ee(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function at(_,f,m,D){return pt.apply(this,arguments)}function pt(){return(pt=(0,l.Z)(function*(_,f,m,D,q={}){return Ft(_,q,(0,l.Z)(function*(){let oe={},_t={};D&&("GET"===f?_t=D:oe={body:JSON.stringify(D)});const Bt=(0,M.xO)(Object.assign({key:_.config.apiKey},_t)).slice(1),In=yield _._getAdditionalHeaders();return In["Content-Type"]="application/json",_.languageCode&&(In["X-Firebase-Locale"]=_.languageCode),he.fetch()(Cn(_,_.config.apiHost,m,Bt),Object.assign({method:f,headers:In,referrerPolicy:"no-referrer"},oe))}))})).apply(this,arguments)}function Ft(_,f,m){return on.apply(this,arguments)}function on(){return(on=(0,l.Z)(function*(_,f,m){_._canInitEmulator=!1;const D=Object.assign(Object.assign({},ne),f);try{const q=new St(_),oe=yield Promise.race([m(),q.promise]);q.clearNetworkTimeout();const _t=yield oe.json();if("needConfirmation"in _t)throw At(_,"account-exists-with-different-credential",_t);if(oe.ok&&!("errorMessage"in _t))return _t;{const Bt=oe.ok?_t.errorMessage:_t.error.message,[In,lr]=Bt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===In)throw At(_,"credential-already-in-use",_t);if("EMAIL_EXISTS"===In)throw At(_,"email-already-in-use",_t);if("USER_DISABLED"===In)throw At(_,"user-disabled",_t);const Er=D[In]||In.toLowerCase().replace(/[_\s]+/g,"-");if(lr)throw Xe(_,Er,lr);qe(_,Er)}}catch(q){if(q instanceof M.ZR)throw q;qe(_,"network-request-failed",{message:String(q)})}})).apply(this,arguments)}function en(_,f,m,D){return $t.apply(this,arguments)}function $t(){return($t=(0,l.Z)(function*(_,f,m,D,q={}){const oe=yield at(_,f,m,D,q);return"mfaPendingCredential"in oe&&qe(_,"multi-factor-auth-required",{_serverResponse:oe}),oe})).apply(this,arguments)}function Cn(_,f,m,D){const q=`${f}${m}?${D}`;return _.config.emulator?tt(_.config,q):`${_.config.apiScheme}://${q}`}function Vt(_){switch(_){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class St{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,D)=>{this.timer=setTimeout(()=>D(je(this.auth,"network-request-failed")),Re.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function At(_,f,m){const D={appName:_.name};m.email&&(D.email=m.email),m.phoneNumber&&(D.phoneNumber=m.phoneNumber);const q=je(_,f,D);return q.customData._tokenResponse=m,q}function kt(_){return void 0!==_&&void 0!==_.getResponse}function qt(_){return void 0!==_&&void 0!==_.enterprise}class An{constructor(f){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=f.recaptchaEnforcementState}getProviderEnforcementState(f){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const m of this.recaptchaEnforcementState)if(m.provider&&m.provider===f)return Vt(m.enforcementState);return null}isProviderEnabled(f){return"ENFORCE"===this.getProviderEnforcementState(f)||"AUDIT"===this.getProviderEnforcementState(f)}}function Zn(){return(Zn=(0,l.Z)(function*(_){return(yield at(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function dn(_,f){return kn.apply(this,arguments)}function kn(){return(kn=(0,l.Z)(function*(_,f){return at(_,"GET","/v2/recaptchaConfig",Ee(_,f))})).apply(this,arguments)}function Dr(){return(Dr=(0,l.Z)(function*(_,f){return at(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function qn(){return(qn=(0,l.Z)(function*(_,f){return at(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function br(){return(br=(0,l.Z)(function*(_,f){return at(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Cr(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function xn(){return(xn=(0,l.Z)(function*(_,f=!1){const m=(0,M.m9)(_),D=yield m.getIdToken(f),q=cr(D);X(q&&q.exp&&q.auth_time&&q.iat,m.auth,"internal-error");const oe="object"==typeof q.firebase?q.firebase:void 0,_t=null==oe?void 0:oe.sign_in_provider;return{claims:q,token:D,authTime:Cr(Hr(q.auth_time)),issuedAtTime:Cr(Hr(q.iat)),expirationTime:Cr(Hr(q.exp)),signInProvider:_t||null,signInSecondFactor:(null==oe?void 0:oe.sign_in_second_factor)||null}})).apply(this,arguments)}function Hr(_){return 1e3*Number(_)}function cr(_){const[f,m,D]=_.split(".");if(void 0===f||void 0===m||void 0===D)return dt("JWT malformed, contained fewer than 3 sections"),null;try{const q=(0,M.tV)(m);return q?JSON.parse(q):(dt("Failed to decode base64 JWT payload"),null)}catch(q){return dt("Caught error parsing JWT payload as JSON",null==q?void 0:q.toString()),null}}function bn(_,f){return er.apply(this,arguments)}function er(){return(er=(0,l.Z)(function*(_,f,m=!1){if(m)return f;try{return yield f}catch(D){throw D instanceof M.ZR&&function Nr({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(D)&&_.auth.currentUser===_&&(yield _.auth.signOut()),D}})).apply(this,arguments)}class Ur{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const q=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,q)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const D=this.getInterval(f);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),D)}iteration(){var f=this;return(0,l.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===(null==m?void 0:m.code)&&f.schedule(!0))}f.schedule()})()}}class ur{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cr(this.lastLoginAt),this.creationTime=Cr(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Dn(_){return Qn.apply(this,arguments)}function Qn(){return Qn=(0,l.Z)(function*(_){var f;const m=_.auth,D=yield _.getIdToken(),q=yield bn(_,function jn(_,f){return br.apply(this,arguments)}(m,{idToken:D}));X(null==q?void 0:q.users.length,m,"internal-error");const oe=q.users[0];_._notifyReloadListener(oe);const _t=null!==(f=oe.providerUserInfo)&&void 0!==f&&f.length?function Lr(_){return _.map(f=>{var{providerId:m}=f,D=(0,_e._T)(f,["providerId"]);return{providerId:m,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}(oe.providerUserInfo):[],Bt=function Hn(_,f){return[..._.filter(D=>!f.some(q=>q.providerId===D.providerId)),...f]}(_.providerData,_t),Er=!!_.isAnonymous&&!(_.email&&oe.passwordHash||null!=Bt&&Bt.length),qr={uid:oe.localId,displayName:oe.displayName||null,photoURL:oe.photoUrl||null,email:oe.email||null,emailVerified:oe.emailVerified||!1,phoneNumber:oe.phoneNumber||null,tenantId:oe.tenantId||null,providerData:Bt,metadata:new ur(oe.createdAt,oe.lastLoginAt),isAnonymous:Er};Object.assign(_,qr)}),Qn.apply(this,arguments)}function Vn(){return(Vn=(0,l.Z)(function*(_){const f=(0,M.m9)(_);yield Dn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function hr(){return(hr=(0,l.Z)(function*(_,f){const m=yield Ft(_,{},(0,l.Z)(function*(){const D=(0,M.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:q,apiKey:oe}=_.config,_t=Cn(_,q,"/v1/token",`key=${oe}`),Bt=yield _._getAdditionalHeaders();return Bt["Content-Type"]="application/x-www-form-urlencoded",he.fetch()(_t,{method:"POST",headers:Bt,body:D})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}function te(){return(te=(0,l.Z)(function*(_,f){return at(_,"POST","/v2/accounts:revokeToken",Ee(_,f))})).apply(this,arguments)}class B{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){X(f.idToken,"internal-error"),X(typeof f.idToken<"u","internal-error"),X(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function fn(_){const f=cr(_);return X(f,"internal-error"),X(typeof f.exp<"u","internal-error"),X(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var D=this;return(0,l.Z)(function*(){return X(!D.accessToken||D.refreshToken,f,"user-token-expired"),m||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(f,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var D=this;return(0,l.Z)(function*(){const{accessToken:q,refreshToken:oe,expiresIn:_t}=yield function Ir(_,f){return hr.apply(this,arguments)}(f,m);D.updateTokensAndExpiration(q,oe,Number(_t))})()}updateTokensAndExpiration(f,m,D){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(f,m){const{refreshToken:D,accessToken:q,expirationTime:oe}=m,_t=new B;return D&&(X("string"==typeof D,"internal-error",{appName:f}),_t.refreshToken=D),q&&(X("string"==typeof q,"internal-error",{appName:f}),_t.accessToken=q),oe&&(X("number"==typeof oe,"internal-error",{appName:f}),_t.expirationTime=oe),_t}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new B,this.toJSON())}_performRefresh(){return ke("not implemented")}}function R(_,f){X("string"==typeof _||typeof _>"u","internal-error",{appName:f})}class b{constructor(f){var{uid:m,auth:D,stsTokenManager:q}=f,oe=(0,_e._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ur(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=D,this.stsTokenManager=q,this.accessToken=q.accessToken,this.displayName=oe.displayName||null,this.email=oe.email||null,this.emailVerified=oe.emailVerified||!1,this.phoneNumber=oe.phoneNumber||null,this.photoURL=oe.photoURL||null,this.isAnonymous=oe.isAnonymous||!1,this.tenantId=oe.tenantId||null,this.providerData=oe.providerData?[...oe.providerData]:[],this.metadata=new ur(oe.createdAt||void 0,oe.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,l.Z)(function*(){const D=yield bn(m,m.stsTokenManager.getToken(m.auth,f));return X(D,m.auth,"internal-error"),m.accessToken!==D&&(m.accessToken=D,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),D})()}getIdTokenResult(f){return function rr(_){return xn.apply(this,arguments)}(this,f)}reload(){return function kr(_){return Vn.apply(this,arguments)}(this)}_assign(f){this!==f&&(X(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const m=new b(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(f){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var D=this;return(0,l.Z)(function*(){let q=!1;f.idToken&&f.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(f),q=!0),m&&(yield Dn(D)),yield D.auth._persistUserIfCurrent(D),q&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var f=this;return(0,l.Z)(function*(){const m=yield f.getIdToken();return yield bn(f,function En(_,f){return Dr.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var D,q,oe,_t,Bt,In,lr,Er;const qr=null!==(D=m.displayName)&&void 0!==D?D:void 0,us=null!==(q=m.email)&&void 0!==q?q:void 0,_s=null!==(oe=m.phoneNumber)&&void 0!==oe?oe:void 0,jl=null!==(_t=m.photoURL)&&void 0!==_t?_t:void 0,Oa=null!==(Bt=m.tenantId)&&void 0!==Bt?Bt:void 0,Os=null!==(In=m._redirectEventId)&&void 0!==In?In:void 0,Cu=null!==(lr=m.createdAt)&&void 0!==lr?lr:void 0,Ka=null!==(Er=m.lastLoginAt)&&void 0!==Er?Er:void 0,{uid:bu,emailVerified:Za,isAnonymous:Hl,providerData:Pd,stsTokenManager:Xa}=m;X(bu&&Xa,f,"internal-error");const Ip=B.fromJSON(this.name,Xa);X("string"==typeof bu,f,"internal-error"),R(qr,f.name),R(us,f.name),X("boolean"==typeof Za,f,"internal-error"),X("boolean"==typeof Hl,f,"internal-error"),R(_s,f.name),R(jl,f.name),R(Oa,f.name),R(Os,f.name),R(Cu,f.name),R(Ka,f.name);const wu=new b({uid:bu,auth:f,email:us,emailVerified:Za,displayName:qr,isAnonymous:Hl,photoURL:jl,phoneNumber:_s,tenantId:Oa,stsTokenManager:Ip,createdAt:Cu,lastLoginAt:Ka});return Pd&&Array.isArray(Pd)&&(wu.providerData=Pd.map(ki=>Object.assign({},ki))),Os&&(wu._redirectEventId=Os),wu}static _fromIdTokenResponse(f,m,D=!1){return(0,l.Z)(function*(){const q=new B;q.updateFromServerResponse(m);const oe=new b({uid:m.localId,auth:f,stsTokenManager:q,isAnonymous:D});return yield Dn(oe),oe})()}}const W=new Map;function ie(_){Ve(_ instanceof Function,"Expected a class definition");let f=W.get(_);return f?(Ve(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,W.set(_,f),f)}const Ce=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,D){var q=this;return(0,l.Z)(function*(){q.storage[m]=D})()}_get(m){var D=this;return(0,l.Z)(function*(){const q=D.storage[m];return void 0===q?null:q})()}_remove(m){var D=this;return(0,l.Z)(function*(){delete D.storage[m]})()}_addListener(m,D){}_removeListener(m,D){}}return _.type="NONE",_})();function Ge(_,f,m){return`firebase:${_}:${f}:${m}`}class Dt{constructor(f,m,D){this.persistence=f,this.auth=m,this.userKey=D;const{config:q,name:oe}=this.auth;this.fullUserKey=Ge(this.userKey,q.apiKey,oe),this.fullPersistenceKey=Ge("persistence",q.apiKey,oe),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,l.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?b._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,l.Z)(function*(){if(m.persistence===f)return;const D=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,D?m.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,D="authUser"){return(0,l.Z)(function*(){if(!m.length)return new Dt(ie(Ce),f,D);const q=(yield Promise.all(m.map(function(){var lr=(0,l.Z)(function*(Er){if(yield Er._isAvailable())return Er});return function(Er){return lr.apply(this,arguments)}}()))).filter(lr=>lr);let oe=q[0]||ie(Ce);const _t=Ge(D,f.config.apiKey,f.name);let Bt=null;for(const lr of m)try{const Er=yield lr._get(_t);if(Er){const qr=b._fromJSON(f,Er);lr!==oe&&(Bt=qr),oe=lr;break}}catch{}const In=q.filter(lr=>lr._shouldAllowMigration);return oe._shouldAllowMigration&&In.length?(oe=In[0],Bt&&(yield oe._set(_t,Bt.toJSON())),yield Promise.all(m.map(function(){var lr=(0,l.Z)(function*(Er){if(Er!==oe)try{yield Er._remove(_t)}catch{}});return function(Er){return lr.apply(this,arguments)}}())),new Dt(oe,f,D)):new Dt(oe,f,D)})()}}function gt(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(mr(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Mt(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Qe(f))return"Blackberry";if(zt(f))return"Webos";if(rn(f))return"Safari";if((f.includes("chrome/")||Fn(f))&&!f.includes("edge/"))return"Chrome";if(It(f))return"Android";{const D=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function Mt(_=(0,M.z$)()){return/firefox\//i.test(_)}function rn(_=(0,M.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Fn(_=(0,M.z$)()){return/crios\//i.test(_)}function mr(_=(0,M.z$)()){return/iemobile/i.test(_)}function It(_=(0,M.z$)()){return/android/i.test(_)}function Qe(_=(0,M.z$)()){return/blackberry/i.test(_)}function zt(_=(0,M.z$)()){return/webos/i.test(_)}function wn(_=(0,M.z$)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function ir(_=(0,M.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function Kr(_=(0,M.z$)()){return wn(_)||It(_)||zt(_)||Qe(_)||/windows phone/i.test(_)||mr(_)}function Ue(_,f=[]){let m;switch(_){case"Browser":m=gt((0,M.z$)());break;case"Worker":m=`${gt((0,M.z$)())}-${_}`;break;default:m=_}const D=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${H.SDK_VERSION}/${D}`}class wt{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const D=oe=>new Promise((_t,Bt)=>{try{_t(f(oe))}catch(In){Bt(In)}});D.onAbort=m,this.queue.push(D);const q=this.queue.length-1;return()=>{this.queue[q]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,l.Z)(function*(){if(m.auth.currentUser===f)return;const D=[];try{for(const q of m.queue)yield q(f),q.onAbort&&D.push(q.onAbort)}catch(q){D.reverse();for(const oe of D)try{oe()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null==q?void 0:q.message})}})()}}function xt(){return(xt=(0,l.Z)(function*(_,f={}){return at(_,"GET","/v2/passwordPolicy",Ee(_,f))})).apply(this,arguments)}class Tn{constructor(f){var m,D,q,oe;const _t=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(m=_t.minPasswordLength)&&void 0!==m?m:6,_t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=_t.maxPasswordLength),void 0!==_t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=_t.containsLowercaseCharacter),void 0!==_t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=_t.containsUppercaseCharacter),void 0!==_t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=_t.containsNumericCharacter),void 0!==_t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=_t.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(q=null===(D=f.allowedNonAlphanumericCharacters)||void 0===D?void 0:D.join(""))&&void 0!==q?q:"",this.forceUpgradeOnSignin=null!==(oe=f.forceUpgradeOnSignin)&&void 0!==oe&&oe,this.schemaVersion=f.schemaVersion}validatePassword(f){var m,D,q,oe,_t,Bt;const In={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,In),this.validatePasswordCharacterOptions(f,In),In.isValid&&(In.isValid=null===(m=In.meetsMinPasswordLength)||void 0===m||m),In.isValid&&(In.isValid=null===(D=In.meetsMaxPasswordLength)||void 0===D||D),In.isValid&&(In.isValid=null===(q=In.containsLowercaseLetter)||void 0===q||q),In.isValid&&(In.isValid=null===(oe=In.containsUppercaseLetter)||void 0===oe||oe),In.isValid&&(In.isValid=null===(_t=In.containsNumericCharacter)||void 0===_t||_t),In.isValid&&(In.isValid=null===(Bt=In.containsNonAlphanumericCharacter)||void 0===Bt||Bt),In}validatePasswordLengthOptions(f,m){const D=this.customStrengthOptions.minPasswordLength,q=this.customStrengthOptions.maxPasswordLength;D&&(m.meetsMinPasswordLength=f.length>=D),q&&(m.meetsMaxPasswordLength=f.length<=q)}validatePasswordCharacterOptions(f,m){let D;this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);for(let q=0;q<f.length;q++)D=f.charAt(q),this.updatePasswordCharacterOptionsStatuses(m,D>="a"&&D<="z",D>="A"&&D<="Z",D>="0"&&D<="9",this.allowedNonAlphanumericCharacters.includes(D))}updatePasswordCharacterOptionsStatuses(f,m,D,q,oe){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=D)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=q)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=oe))}}class pn{constructor(f,m,D,q){this.app=f,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=D,this.config=q,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kn(this),this.idTokenSubscription=new Kn(this),this.beforeStateQueue=new wt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=q.sdkClientVersion}_initializeWithPersistence(f,m){var D=this;return m&&(this._popupRedirectResolver=ie(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var q,oe;if(!D._deleted&&(D.persistenceManager=yield Dt.create(D,f),!D._deleted)){if(null!==(q=D._popupRedirectResolver)&&void 0!==q&&q._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(m),D.lastNotifiedUid=(null===(oe=D.currentUser)||void 0===oe?void 0:oe.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,l.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,l.Z)(function*(){var D;const q=yield m.assertedPersistence.getCurrentUser();let oe=q,_t=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Bt=null===(D=m.redirectUser)||void 0===D?void 0:D._redirectEventId,In=null==oe?void 0:oe._redirectEventId,lr=yield m.tryRedirectSignIn(f);(!Bt||Bt===In)&&null!=lr&&lr.user&&(oe=lr.user,_t=!0)}if(!oe)return m.directlySetCurrentUser(null);if(!oe._redirectEventId){if(_t)try{yield m.beforeStateQueue.runMiddleware(oe)}catch(Bt){oe=q,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Bt))}return oe?m.reloadAndSetCurrentUserOrClear(oe):m.directlySetCurrentUser(null)}return X(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===oe._redirectEventId?m.directlySetCurrentUser(oe):m.reloadAndSetCurrentUserOrClear(oe)})()}tryRedirectSignIn(f){var m=this;return(0,l.Z)(function*(){let D=null;try{D=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,l.Z)(function*(){try{yield Dn(f)}catch(D){if("auth/network-request-failed"!==(null==D?void 0:D.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function cn(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,l.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,l.Z)(function*(){const D=f?(0,M.m9)(f):null;return D&&X(D.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(D&&D._clone(m))})()}_updateCurrentUser(f,m=!1){var D=this;return(0,l.Z)(function*(){if(!D._deleted)return f&&X(D.tenantId===f.tenantId,D,"tenant-id-mismatch"),m||(yield D.beforeStateQueue.runMiddleware(f)),D.queue((0,l.Z)(function*(){yield D.directlySetCurrentUser(f),D.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,l.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(ie(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var m=this;return(0,l.Z)(function*(){m._getPasswordPolicyInternal()||(yield m._updatePasswordPolicy());const D=m._getPasswordPolicyInternal();return D.schemaVersion!==m.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(m._errorFactory.create("unsupported-password-policy-schema-version",{})):D.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,l.Z)(function*(){const m=yield function Et(_){return xt.apply(this,arguments)}(f),D=new Tn(m);null===f.tenantId?f._projectPasswordPolicy=D:f._tenantPasswordPolicies[f.tenantId]=D})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new M.LL("auth","Firebase",f())}onAuthStateChanged(f,m,D){return this.registerStateListener(this.authStateSubscription,f,m,D)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,D){return this.registerStateListener(this.idTokenSubscription,f,m,D)}authStateReady(){return new Promise((f,m)=>{if(this.currentUser)f();else{const D=this.onAuthStateChanged(()=>{D(),f()},m)}})}revokeAccessToken(f){var m=this;return(0,l.Z)(function*(){if(m.currentUser){const D=yield m.currentUser.getIdToken(),q={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:f,idToken:D};null!=m.tenantId&&(q.tenantId=m.tenantId),yield function He(_,f){return te.apply(this,arguments)}(m,q)}})()}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var D=this;return(0,l.Z)(function*(){const q=yield D.getOrInitRedirectPersistenceManager(m);return null===f?q.removeCurrentUser():q.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const D=f&&ie(f)||m._popupRedirectResolver;X(D,m,"argument-error"),m.redirectPersistenceManager=yield Dt.create(m,[ie(D._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,l.Z)(function*(){var D,q;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(D=m._currentUser)||void 0===D?void 0:D._redirectEventId)===f?m._currentUser:(null===(q=m.redirectUser)||void 0===q?void 0:q._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,l.Z)(function*(){if(f===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,D,q){if(this._deleted)return()=>{};const oe="function"==typeof m?m:m.next.bind(m);let _t=!1;const Bt=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(Bt,this,"internal-error"),Bt.then(()=>{_t||oe(this.currentUser)}),"function"==typeof m){const In=f.addObserver(m,D,q);return()=>{_t=!0,In()}}{const In=f.addObserver(m);return()=>{_t=!0,In()}}}directlySetCurrentUser(f){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Ue(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,l.Z)(function*(){var m;const D={"X-Client-Version":f.clientVersion};f.app.options.appId&&(D["X-Firebase-gmpid"]=f.app.options.appId);const q=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();q&&(D["X-Firebase-Client"]=q);const oe=yield f._getAppCheckToken();return oe&&(D["X-Firebase-AppCheck"]=oe),D})()}_getAppCheckToken(){var f=this;return(0,l.Z)(function*(){var m;const D=yield null===(m=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return null!=D&&D.error&&function ze(_,...f){Le.logLevel<=Q.in.WARN&&Le.warn(`Auth (${H.SDK_VERSION}): ${_}`,...f)}(`Error while retrieving App Check token: ${D.error}`),null==D?void 0:D.token})()}}function mn(_){return(0,M.m9)(_)}class Kn{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,M.ne)(m=>this.observer=m)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ae(_){return new Promise((f,m)=>{const D=document.createElement("script");D.setAttribute("src",_),D.onload=f,D.onerror=q=>{const oe=je("internal-error");oe.customData=q,m(oe)},D.type="text/javascript",D.charset="UTF-8",function ce(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(D)})}function K(_){return`__${_}${Math.floor(1e6*Math.random())}`}class Je{constructor(f){this.type="recaptcha-enterprise",this.auth=mn(f)}verify(f="verify",m=!1){var D=this;return(0,l.Z)(function*(){function oe(){return oe=(0,l.Z)(function*(Bt){if(!m){if(null==Bt.tenantId&&null!=Bt._agentRecaptchaConfig)return Bt._agentRecaptchaConfig.siteKey;if(null!=Bt.tenantId&&void 0!==Bt._tenantRecaptchaConfigs[Bt.tenantId])return Bt._tenantRecaptchaConfigs[Bt.tenantId].siteKey}return new Promise(function(){var In=(0,l.Z)(function*(lr,Er){dn(Bt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(qr=>{if(void 0!==qr.recaptchaKey){const us=new An(qr);return null==Bt.tenantId?Bt._agentRecaptchaConfig=us:Bt._tenantRecaptchaConfigs[Bt.tenantId]=us,lr(us.siteKey)}Er(new Error("recaptcha Enterprise site key undefined"))}).catch(qr=>{Er(qr)})});return function(lr,Er){return In.apply(this,arguments)}}())}),oe.apply(this,arguments)}function _t(Bt,In,lr){const Er=window.grecaptcha;qt(Er)?Er.enterprise.ready(()=>{Er.enterprise.execute(Bt,{action:f}).then(qr=>{In(qr)}).catch(()=>{In("NO_RECAPTCHA")})}):lr(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Bt,In)=>{(function q(Bt){return oe.apply(this,arguments)})(D.auth).then(lr=>{if(!m&&qt(window.grecaptcha))_t(lr,Bt,In);else{if(typeof window>"u")return void In(new Error("RecaptchaVerifier is only supported in browser"));Ae("https://www.google.com/recaptcha/enterprise.js?render="+lr).then(()=>{_t(lr,Bt,In)}).catch(Er=>{In(Er)})}}).catch(lr=>{In(lr)})})})()}}function Ct(_,f,m){return tn.apply(this,arguments)}function tn(){return(tn=(0,l.Z)(function*(_,f,m,D=!1){const q=new Je(_);let oe;try{oe=yield q.verify(m)}catch{oe=yield q.verify(m,!0)}const _t=Object.assign({},f);return Object.assign(_t,D?{captchaResp:oe}:{captchaResponse:oe}),Object.assign(_t,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(_t,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),_t})).apply(this,arguments)}function Qt(_,f,m,D){return tr.apply(this,arguments)}function tr(){return tr=(0,l.Z)(function*(_,f,m,D){var q;if(null!==(q=_._getRecaptchaConfig())&&void 0!==q&&q.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const oe=yield Ct(_,f,m,"getOobCode"===m);return D(_,oe)}return D(_,f).catch(function(){var oe=(0,l.Z)(function*(_t){if("auth/missing-recaptcha-token"===_t.code){console.log(`${m} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Bt=yield Ct(_,f,m,"getOobCode"===m);return D(_,Bt)}return Promise.reject(_t)});return function(_t){return oe.apply(this,arguments)}}())}),tr.apply(this,arguments)}function Rt(_,f,m){const D=mn(_);X(D._canInitEmulator,D,"emulator-config-failed"),X(/^https?:\/\//.test(f),D,"invalid-emulator-scheme");const q=!(null==m||!m.disableWarnings),oe=vt(f),{host:_t,port:Bt}=function Zt(_){const f=vt(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!m)return{host:"",port:null};const D=m[2].split("@").pop()||"",q=/^(\[[^\]]+\])(:|$)/.exec(D);if(q){const oe=q[1];return{host:oe,port:un(D.substr(oe.length+1))}}{const[oe,_t]=D.split(":");return{host:oe,port:un(_t)}}}(f);D.config.emulator={url:`${oe}//${_t}${null===Bt?"":`:${Bt}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:_t,port:Bt,protocol:oe.replace(":",""),options:Object.freeze({disableWarnings:q})}),q||function nn(){function _(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function vt(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function un(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class jt{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return ke("not implemented")}_getIdTokenResponse(f){return ke("not implemented")}_linkToIdToken(f,m){return ke("not implemented")}_getReauthenticationResolver(f){return ke("not implemented")}}function gn(_,f){return nr.apply(this,arguments)}function nr(){return(nr=(0,l.Z)(function*(_,f){return at(_,"POST","/v1/accounts:resetPassword",Ee(_,f))})).apply(this,arguments)}function wr(){return(wr=(0,l.Z)(function*(_,f){return at(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ai(_,f){return I.apply(this,arguments)}function I(){return(I=(0,l.Z)(function*(_,f){return at(_,"POST","/v1/accounts:signUp",f)})).apply(this,arguments)}function x(){return(x=(0,l.Z)(function*(_,f){return at(_,"POST","/v1/accounts:update",Ee(_,f))})).apply(this,arguments)}function Te(_,f){return ut.apply(this,arguments)}function ut(){return(ut=(0,l.Z)(function*(_,f){return en(_,"POST","/v1/accounts:signInWithPassword",Ee(_,f))})).apply(this,arguments)}function pr(_,f){return jr.apply(this,arguments)}function jr(){return(jr=(0,l.Z)(function*(_,f){return at(_,"POST","/v1/accounts:sendOobCode",Ee(_,f))})).apply(this,arguments)}function yr(){return(yr=(0,l.Z)(function*(_,f){return pr(_,f)})).apply(this,arguments)}function Ui(_,f){return eo.apply(this,arguments)}function eo(){return(eo=(0,l.Z)(function*(_,f){return pr(_,f)})).apply(this,arguments)}function bo(_,f){return zo.apply(this,arguments)}function zo(){return(zo=(0,l.Z)(function*(_,f){return pr(_,f)})).apply(this,arguments)}function Wo(){return(Wo=(0,l.Z)(function*(_,f){return pr(_,f)})).apply(this,arguments)}function go(){return(go=(0,l.Z)(function*(_,f){return en(_,"POST","/v1/accounts:signInWithEmailLink",Ee(_,f))})).apply(this,arguments)}function Ti(){return(Ti=(0,l.Z)(function*(_,f){return en(_,"POST","/v1/accounts:signInWithEmailLink",Ee(_,f))})).apply(this,arguments)}class Fr extends jt{constructor(f,m,D,q=null){super("password",D),this._email=f,this._password=m,this._tenantId=q}static _fromEmailAndPassword(f,m){return new Fr(f,m,"password")}static _fromEmailAndCode(f,m,D=null){return new Fr(f,m,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(null!=m&&m.email&&null!=m&&m.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,l.Z)(function*(){switch(m.signInMethod){case"password":return Qt(f,{returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Te);case"emailLink":return function lo(_,f){return go.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:qe(f,"internal-error")}})()}_linkToIdToken(f,m){var D=this;return(0,l.Z)(function*(){switch(D.signInMethod){case"password":return Qt(f,{idToken:m,returnSecureToken:!0,email:D._email,password:D._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ai);case"emailLink":return function uo(_,f){return Ti.apply(this,arguments)}(f,{idToken:m,email:D._email,oobCode:D._password});default:qe(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function to(_,f){return mo.apply(this,arguments)}function mo(){return(mo=(0,l.Z)(function*(_,f){return en(_,"POST","/v1/accounts:signInWithIdp",Ee(_,f))})).apply(this,arguments)}class no extends jt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new no(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):qe("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:D,signInMethod:q}=m,oe=(0,_e._T)(m,["providerId","signInMethod"]);if(!D||!q)return null;const _t=new no(D,q);return _t.idToken=oe.idToken||void 0,_t.accessToken=oe.accessToken||void 0,_t.secret=oe.secret,_t.nonce=oe.nonce,_t.pendingToken=oe.pendingToken||null,_t}_getIdTokenResponse(f){return to(f,this.buildRequest())}_linkToIdToken(f,m){const D=this.buildRequest();return D.idToken=m,to(f,D)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,to(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,M.xO)(m)}return f}}function ts(){return(ts=(0,l.Z)(function*(_,f){return at(_,"POST","/v1/accounts:sendVerificationCode",Ee(_,f))})).apply(this,arguments)}function ea(){return(ea=(0,l.Z)(function*(_,f){return en(_,"POST","/v1/accounts:signInWithPhoneNumber",Ee(_,f))})).apply(this,arguments)}function Mo(){return(Mo=(0,l.Z)(function*(_,f){const m=yield en(_,"POST","/v1/accounts:signInWithPhoneNumber",Ee(_,f));if(m.temporaryProof)throw At(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ns={USER_NOT_FOUND:"user-not-found"};function Fs(){return(Fs=(0,l.Z)(function*(_,f){return en(_,"POST","/v1/accounts:signInWithPhoneNumber",Ee(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ns)})).apply(this,arguments)}class ro extends jt{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new ro({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new ro({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function Js(_,f){return ea.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function ta(_,f){return Mo.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Ki(_,f){return Fs.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:D,verificationCode:q}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:D,code:q}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:D,phoneNumber:q,temporaryProof:oe}=f;return D||m||q||oe?new ro({verificationId:m,verificationCode:D,phoneNumber:q,temporaryProof:oe}):null}}class Vs{constructor(f){var m,D,q,oe,_t,Bt;const In=(0,M.zd)((0,M.pd)(f)),lr=null!==(m=In.apiKey)&&void 0!==m?m:null,Er=null!==(D=In.oobCode)&&void 0!==D?D:null,qr=function ma(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(q=In.mode)&&void 0!==q?q:null);X(lr&&Er&&qr,"argument-error"),this.apiKey=lr,this.operation=qr,this.code=Er,this.continueUrl=null!==(oe=In.continueUrl)&&void 0!==oe?oe:null,this.languageCode=null!==(_t=In.languageCode)&&void 0!==_t?_t:null,this.tenantId=null!==(Bt=In.tenantId)&&void 0!==Bt?Bt:null}static parseLink(f){const m=function ds(_){const f=(0,M.zd)((0,M.pd)(_)).link,m=f?(0,M.zd)((0,M.pd)(f)).deep_link_id:null,D=(0,M.zd)((0,M.pd)(_)).deep_link_id;return(D?(0,M.zd)((0,M.pd)(D)).link:null)||D||m||f||_}(f);try{return new Vs(m)}catch{return null}}}let xo=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,D){return Fr._fromEmailAndPassword(m,D)}static credentialWithLink(m,D){const q=Vs.parseLink(D);return X(q,"argument-error"),Fr._fromEmailAndCode(m,q.code,q.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class ji{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class pi extends ji{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class rs extends pi{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return X("providerId"in m&&"signInMethod"in m,"argument-error"),no._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return X(f.idToken||f.accessToken,"argument-error"),no._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return rs.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return rs.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:D,oauthTokenSecret:q,pendingToken:oe,nonce:_t,providerId:Bt}=f;if(!D&&!q&&!m&&!oe||!Bt)return null;try{return new rs(Bt)._credential({idToken:m,accessToken:D,nonce:_t,pendingToken:oe})}catch{return null}}}let Oo=(()=>{class _ extends pi{constructor(){super("facebook.com")}static credential(m){return no._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Ds=(()=>{class _ extends pi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,D){return no._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:D})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:D,oauthAccessToken:q}=m;if(!D&&!q)return null;try{return _.credential(D,q)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Fa=(()=>{class _ extends pi{constructor(){super("github.com")}static credential(m){return no._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class qo extends jt{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return to(f,this.buildRequest())}_linkToIdToken(f,m){const D=this.buildRequest();return D.idToken=m,to(f,D)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,to(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:D,signInMethod:q,pendingToken:oe}=m;return D&&q&&oe&&D===q?new qo(D,oe):null}static _create(f,m){return new qo(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Cs extends ji{constructor(f){X(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Cs.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Cs.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=qo.fromJSON(f);return X(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:D}=f;if(!m||!D)return null;try{return qo._create(D,m)}catch{return null}}}let Rr=(()=>{class _ extends pi{constructor(){super("twitter.com")}static credential(m,D){return no._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:D})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:D,oauthTokenSecret:q}=m;if(!D||!q)return null;try{return _.credential(D,q)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function hi(_,f){return vi.apply(this,arguments)}function vi(){return(vi=(0,l.Z)(function*(_,f){return en(_,"POST","/v1/accounts:signUp",Ee(_,f))})).apply(this,arguments)}class Si{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,D,q=!1){return(0,l.Z)(function*(){const oe=yield b._fromIdTokenResponse(f,D,q),_t=_i(D);return new Si({user:oe,providerId:_t,_tokenResponse:D,operationType:m})})()}static _forOperation(f,m,D){return(0,l.Z)(function*(){yield f._updateTokensIfNecessary(D,!0);const q=_i(D);return new Si({user:f,providerId:q,_tokenResponse:D,operationType:m})})()}}function _i(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Zo(_){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,l.Z)(function*(_){var f;const m=mn(_);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new Si({user:m.currentUser,providerId:null,operationType:"signIn"});const D=yield hi(m,{returnSecureToken:!0}),q=yield Si._fromIdTokenResponse(m,"signIn",D,!0);return yield m._updateCurrentUser(q.user),q})).apply(this,arguments)}class fs extends M.ZR{constructor(f,m,D,q){var oe;super(m.code,m.message),this.operationType=D,this.user=q,Object.setPrototypeOf(this,fs.prototype),this.customData={appName:f.name,tenantId:null!==(oe=f.tenantId)&&void 0!==oe?oe:void 0,_serverResponse:m.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(f,m,D,q){return new fs(f,m,D,q)}}function $s(_,f,m,D){return("reauthenticate"===f?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(oe=>{throw"auth/multi-factor-auth-required"===oe.code?fs._fromErrorAndOperation(_,oe,f,D):oe})}function Z(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function G(_,f){return ye.apply(this,arguments)}function ye(){return ye=(0,l.Z)(function*(_,f){const m=(0,M.m9)(_);yield Ut(!0,m,f);const{providerUserInfo:D}=yield function Yn(_,f){return qn.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),q=Z(D||[]);return m.providerData=m.providerData.filter(oe=>q.has(oe.providerId)),q.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),ye.apply(this,arguments)}function Fe(_,f){return it.apply(this,arguments)}function it(){return(it=(0,l.Z)(function*(_,f,m=!1){const D=yield bn(_,f._linkToIdToken(_.auth,yield _.getIdToken()),m);return Si._forOperation(_,"link",D)})).apply(this,arguments)}function Ut(_,f,m){return k.apply(this,arguments)}function k(){return(k=(0,l.Z)(function*(_,f,m){yield Dn(f);const q=!1===_?"provider-already-linked":"no-such-provider";X(Z(f.providerData).has(m)===_,f.auth,q)})).apply(this,arguments)}function P(_,f){return ee.apply(this,arguments)}function ee(){return(ee=(0,l.Z)(function*(_,f,m=!1){const{auth:D}=_,q="reauthenticate";try{const oe=yield bn(_,$s(D,q,f,_),m);X(oe.idToken,D,"internal-error");const _t=cr(oe.idToken);X(_t,D,"internal-error");const{sub:Bt}=_t;return X(_.uid===Bt,D,"user-mismatch"),Si._forOperation(_,q,oe)}catch(oe){throw"auth/user-not-found"===(null==oe?void 0:oe.code)&&qe(D,"user-mismatch"),oe}})).apply(this,arguments)}function L(_,f){return de.apply(this,arguments)}function de(){return(de=(0,l.Z)(function*(_,f,m=!1){const D="signIn",q=yield $s(_,D,f),oe=yield Si._fromIdTokenResponse(_,D,q);return m||(yield _._updateCurrentUser(oe.user)),oe})).apply(this,arguments)}function Ht(_,f){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,l.Z)(function*(_,f){return L(mn(_),f)})).apply(this,arguments)}function Tr(_,f){return zr.apply(this,arguments)}function zr(){return(zr=(0,l.Z)(function*(_,f){const m=(0,M.m9)(_);return yield Ut(!1,m,f.providerId),Fe(m,f)})).apply(this,arguments)}function ui(_,f){return dr.apply(this,arguments)}function dr(){return(dr=(0,l.Z)(function*(_,f){return P((0,M.m9)(_),f)})).apply(this,arguments)}function Ri(){return(Ri=(0,l.Z)(function*(_,f){return en(_,"POST","/v1/accounts:signInWithCustomToken",Ee(_,f))})).apply(this,arguments)}function Gr(_,f){return Qr.apply(this,arguments)}function Qr(){return Qr=(0,l.Z)(function*(_,f){const m=mn(_),D=yield function Fi(_,f){return Ri.apply(this,arguments)}(m,{token:f,returnSecureToken:!0}),q=yield Si._fromIdTokenResponse(m,"signIn",D);return yield m._updateCurrentUser(q.user),q}),Qr.apply(this,arguments)}class co{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Pi._fromServerResponse(f,m):"totpInfo"in m?No._fromServerResponse(f,m):qe(f,"internal-error")}}class Pi extends co{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Pi(m)}}class No extends co{constructor(f){super("totp",f)}static _fromServerResponse(f,m){return new No(m)}}function Vi(_,f,m){var D;X((null===(D=m.url)||void 0===D?void 0:D.length)>0,_,"invalid-continue-uri"),X(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(X(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(X(m.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function sr(_){return va.apply(this,arguments)}function va(){return(va=(0,l.Z)(function*(_){const f=mn(_);f._getPasswordPolicyInternal()&&(yield f._updatePasswordPolicy())})).apply(this,arguments)}function bs(_,f,m){return io.apply(this,arguments)}function io(){return(io=(0,l.Z)(function*(_,f,m){const D=mn(_),q={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};m&&Vi(D,q,m),yield Qt(D,q,"getOobCode",Ui)})).apply(this,arguments)}function _a(_,f,m){return zi.apply(this,arguments)}function zi(){return zi=(0,l.Z)(function*(_,f,m){yield gn((0,M.m9)(_),{oobCode:f,newPassword:m}).catch(function(){var D=(0,l.Z)(function*(q){throw"auth/password-does-not-meet-requirements"===q.code&&sr(_),q});return function(q){return D.apply(this,arguments)}}())}),zi.apply(this,arguments)}function Mi(_,f){return Yr.apply(this,arguments)}function Yr(){return Yr=(0,l.Z)(function*(_,f){yield function me(_,f){return x.apply(this,arguments)}((0,M.m9)(_),{oobCode:f})}),Yr.apply(this,arguments)}function Zi(_,f){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,l.Z)(function*(_,f){const m=(0,M.m9)(_),D=yield gn(m,{oobCode:f}),q=D.requestType;switch(X(q,m,"internal-error"),q){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":X(D.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":X(D.mfaInfo,m,"internal-error");default:X(D.email,m,"internal-error")}let oe=null;return D.mfaInfo&&(oe=co._fromServerResponse(mn(m),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:oe},operation:q}})).apply(this,arguments)}function ho(_,f){return ps.apply(this,arguments)}function ps(){return(ps=(0,l.Z)(function*(_,f){const{data:m}=yield Zi((0,M.m9)(_),f);return m.email})).apply(this,arguments)}function na(_,f,m){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,l.Z)(function*(_,f,m){const D=mn(_),_t=yield Qt(D,{returnSecureToken:!0,email:f,password:m,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hi).catch(In=>{throw"auth/password-does-not-meet-requirements"===In.code&&sr(_),In}),Bt=yield Si._fromIdTokenResponse(D,"signIn",_t);return yield D._updateCurrentUser(Bt.user),Bt})).apply(this,arguments)}function Va(_,f,m){return Ht((0,M.m9)(_),xo.credential(f,m)).catch(function(){var D=(0,l.Z)(function*(q){throw"auth/password-does-not-meet-requirements"===q.code&&sr(_),q});return function(q){return D.apply(this,arguments)}}())}function du(_,f,m){return is.apply(this,arguments)}function is(){return(is=(0,l.Z)(function*(_,f,m){const D=mn(_),q={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};(function oe(_t,Bt){X(Bt.handleCodeInApp,D,"argument-error"),Bt&&Vi(D,_t,Bt)})(q,m),yield Qt(D,q,"getOobCode",bo)})).apply(this,arguments)}function wo(_,f){const m=Vs.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function Xi(_,f,m){return ra.apply(this,arguments)}function ra(){return(ra=(0,l.Z)(function*(_,f,m){const D=(0,M.m9)(_),q=xo.credentialWithLink(f,m||ft());return X(q._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),Ht(D,q)})).apply(this,arguments)}function ya(){return(ya=(0,l.Z)(function*(_,f){return at(_,"POST","/v1/accounts:createAuthUri",Ee(_,f))})).apply(this,arguments)}function Pl(_,f){return ol.apply(this,arguments)}function ol(){return ol=(0,l.Z)(function*(_,f){const D={identifier:f,continueUri:lt()?ft():"http://localhost"},{signinMethods:q}=yield function $a(_,f){return ya.apply(this,arguments)}((0,M.m9)(_),D);return q||[]}),ol.apply(this,arguments)}function ws(_,f){return hu.apply(this,arguments)}function hu(){return hu=(0,l.Z)(function*(_,f){const m=(0,M.m9)(_),q={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&Vi(m.auth,q,f);const{email:oe}=yield function _r(_,f){return yr.apply(this,arguments)}(m.auth,q);oe!==_.email&&(yield _.reload())}),hu.apply(this,arguments)}function C(_,f,m){return j.apply(this,arguments)}function j(){return j=(0,l.Z)(function*(_,f,m){const D=(0,M.m9)(_),oe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};m&&Vi(D.auth,oe,m);const{email:_t}=yield function Qs(_,f){return Wo.apply(this,arguments)}(D.auth,oe);_t!==_.email&&(yield _.reload())}),j.apply(this,arguments)}function $(){return($=(0,l.Z)(function*(_,f){return at(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function De(_,f){return Ze.apply(this,arguments)}function Ze(){return Ze=(0,l.Z)(function*(_,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const D=(0,M.m9)(_),oe={idToken:yield D.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},_t=yield bn(D,function Ne(_,f){return $.apply(this,arguments)}(D.auth,oe));D.displayName=_t.displayName||null,D.photoURL=_t.photoUrl||null;const Bt=D.providerData.find(({providerId:In})=>"password"===In);Bt&&(Bt.displayName=D.displayName,Bt.photoURL=D.photoURL),yield D._updateTokensIfNecessary(_t)}),Ze.apply(this,arguments)}function Yt(_,f){return Pr((0,M.m9)(_),f,null)}function yn(_,f){return Pr((0,M.m9)(_),null,f)}function Pr(_,f,m){return xr.apply(this,arguments)}function xr(){return xr=(0,l.Z)(function*(_,f,m){const{auth:D}=_,oe={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(oe.email=f),m&&(oe.password=m);const _t=yield bn(_,function vr(_,f){return wr.apply(this,arguments)}(D,oe));yield _._updateTokensIfNecessary(_t,!0)}),xr.apply(this,arguments)}class or{constructor(f,m,D={}){this.isNewUser=f,this.providerId=m,this.profile=D}}class ei extends or{constructor(f,m,D,q){super(f,m,D),this.username=q}}class Mr extends or{constructor(f,m){super(f,"facebook.com",m)}}class wi extends ei{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Xo extends or{constructor(f,m){super(f,"google.com",m)}}class sn extends ei{constructor(f,m,D){super(f,"twitter.com",m,D)}}function gi(_){const{user:f,_tokenResponse:m}=_;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Jr(_){var f,m;if(!_)return null;const{providerId:D}=_,q=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},oe=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!D&&null!=_&&_.idToken){const _t=null===(m=null===(f=cr(_.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(_t)return new or(oe,"anonymous"!==_t&&"custom"!==_t?_t:null)}if(!D)return null;switch(D){case"facebook.com":return new Mr(oe,q);case"github.com":return new wi(oe,q);case"google.com":return new Xo(oe,q);case"twitter.com":return new sn(oe,q,_.screenName||null);case"custom":case"anonymous":return new or(oe,null);default:return new or(oe,D,q)}}(m)}function ia(_,f,m,D){return(0,M.m9)(_).onIdTokenChanged(f,m,D)}class oo{constructor(f,m,D){this.type=f,this.credential=m,this.user=D}static _fromIdtoken(f,m){return new oo("enroll",f,m)}static _fromMfaPendingCredential(f){return new oo("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,D;if(null!=f&&f.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return oo._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(D=f.multiFactorSession)&&void 0!==D&&D.idToken)return oo._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Ea{constructor(f,m,D){this.session=f,this.hints=m,this.signInResolver=D}static _fromError(f,m){const D=mn(f),q=m.customData._serverResponse,oe=(q.mfaInfo||[]).map(Bt=>co._fromServerResponse(D,Bt));X(q.mfaPendingCredential,D,"internal-error");const _t=oo._fromMfaPendingCredential(q.mfaPendingCredential);return new Ea(_t,oe,function(){var Bt=(0,l.Z)(function*(In){const lr=yield In._process(D,_t);delete q.mfaInfo,delete q.mfaPendingCredential;const Er=Object.assign(Object.assign({},q),{idToken:lr.idToken,refreshToken:lr.refreshToken});switch(m.operationType){case"signIn":const qr=yield Si._fromIdTokenResponse(D,m.operationType,Er);return yield D._updateCurrentUser(qr.user),qr;case"reauthenticate":return X(m.user,D,"internal-error"),Si._forOperation(m.user,m.operationType,Er);default:qe(D,"internal-error")}});return function(In){return Bt.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,l.Z)(function*(){return m.signInResolver(f)})()}}function Ia(_,f){var m;const D=(0,M.m9)(_),q=f;return X(f.customData.operationType,D,"argument-error"),X(null===(m=q.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,D,"argument-error"),Ea._fromError(D,q)}class oa{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(D=>co._fromServerResponse(f.auth,D)))})}static _fromUser(f){return new oa(f)}getSession(){var f=this;return(0,l.Z)(function*(){return oo._fromIdtoken(yield f.user.getIdToken(),f.user)})()}enroll(f,m){var D=this;return(0,l.Z)(function*(){const q=f,oe=yield D.getSession(),_t=yield bn(D.user,q._process(D.user.auth,oe,m));return yield D.user._updateTokensIfNecessary(_t),D.user.reload()})()}unenroll(f){var m=this;return(0,l.Z)(function*(){const D="string"==typeof f?f:f.uid,q=yield m.user.getIdToken();try{const oe=yield bn(m.user,function gr(_,f){return at(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Ee(_,f))}(m.user.auth,{idToken:q,mfaEnrollmentId:D}));m.enrolledFactors=m.enrolledFactors.filter(({uid:_t})=>_t!==D),yield m.user._updateTokensIfNecessary(oe),yield m.user.reload()}catch(oe){throw oe}})()}}const xl=new WeakMap;function Ei(_){const f=(0,M.m9)(_);return xl.has(f)||xl.set(f,oa._fromUser(f)),xl.get(f)}const ar="__sak";class sa{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ar,"1"),this.storage.removeItem(ar),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const sl=(()=>{class _ extends sa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,D)=>this.onStorageEvent(m,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Wr(){const _=(0,M.z$)();return rn(_)||wn(_)}()&&function st(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Kr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const D of Object.keys(this.listeners)){const q=this.storage.getItem(D),oe=this.localCache[D];q!==oe&&m(D,oe,q)}}onStorageEvent(m,D=!1){if(!m.key)return void this.forAllChangedKeys((Bt,In,lr)=>{this.notifyListeners(Bt,lr)});const q=m.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Bt=this.storage.getItem(q);if(m.newValue!==Bt)null!==m.newValue?this.storage.setItem(q,m.newValue):this.storage.removeItem(q);else if(this.localCache[q]===m.newValue&&!D)return}const oe=()=>{const Bt=this.storage.getItem(q);!D&&this.localCache[q]===Bt||this.notifyListeners(q,Bt)},_t=this.storage.getItem(q);!function Ln(){return(0,M.w1)()&&10===document.documentMode}()||_t===m.newValue||m.newValue===m.oldValue?oe():setTimeout(oe,10)}notifyListeners(m,D){this.localCache[m]=D;const q=this.listeners[m];if(q)for(const oe of Array.from(q))oe(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,D,q)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:D,newValue:q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(D)}_removeListener(m,D){this.listeners[m]&&(this.listeners[m].delete(D),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,D){var q=()=>super._set,oe=this;return(0,l.Z)(function*(){yield q().call(oe,m,D),oe.localCache[m]=JSON.stringify(D)})()}_get(m){var D=()=>super._get,q=this;return(0,l.Z)(function*(){const oe=yield D().call(q,m);return q.localCache[m]=JSON.stringify(oe),oe})()}_remove(m){var D=()=>super._remove,q=this;return(0,l.Z)(function*(){yield D().call(q,m),delete q.localCache[m]})()}}return _.type="LOCAL",_})(),As=(()=>{class _ extends sa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,D){}_removeListener(m,D){}}return _.type="SESSION",_})();let Ss=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const D=this.receivers.find(oe=>oe.isListeningto(m));if(D)return D;const q=new _(m);return this.receivers.push(q),q}isListeningto(m){return this.eventTarget===m}handleEvent(m){var D=this;return(0,l.Z)(function*(){const q=m,{eventId:oe,eventType:_t,data:Bt}=q.data,In=D.handlersMap[_t];if(null==In||!In.size)return;q.ports[0].postMessage({status:"ack",eventId:oe,eventType:_t});const lr=Array.from(In).map(function(){var qr=(0,l.Z)(function*(us){return us(q.origin,Bt)});return function(us){return qr.apply(this,arguments)}}()),Er=yield function ic(_){return Promise.all(_.map(function(){var f=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(D){return{fulfilled:!1,reason:D}}});return function(m){return f.apply(this,arguments)}}()))}(lr);q.ports[0].postMessage({status:"done",eventId:oe,eventType:_t,response:Er})})()}_subscribe(m,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(D)}_unsubscribe(m,D){this.handlersMap[m]&&D&&this.handlersMap[m].delete(D),(!D||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Rs(_="",f=10){let m="";for(let D=0;D<f;D++)m+=Math.floor(10*Math.random());return _+m}class Ba{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,D=50){var q=this;return(0,l.Z)(function*(){const oe=typeof MessageChannel<"u"?new MessageChannel:null;if(!oe)throw new Error("connection_unavailable");let _t,Bt;return new Promise((In,lr)=>{const Er=Rs("",20);oe.port1.start();const qr=setTimeout(()=>{lr(new Error("unsupported_event"))},D);Bt={messageChannel:oe,onMessage(us){const _s=us;if(_s.data.eventId===Er)switch(_s.data.status){case"ack":clearTimeout(qr),_t=setTimeout(()=>{lr(new Error("timeout"))},3e3);break;case"done":clearTimeout(_t),In(_s.data.response);break;default:clearTimeout(qr),clearTimeout(_t),lr(new Error("invalid_response"))}}},q.handlers.add(Bt),oe.port1.addEventListener("message",Bt.onMessage),q.target.postMessage({eventType:f,eventId:Er,data:m},[oe.port2])}).finally(()=>{Bt&&q.removeMessageHandler(Bt)})})()}}function Gi(){return window}function Ao(){return typeof Gi().WorkerGlobalScope<"u"&&"function"==typeof Gi().importScripts}function Jt(){return(Jt=(0,l.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const al="firebaseLocalStorageDb",Us="firebaseLocalStorage",_o="fbase_key";class Lo{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ps(_,f){return _.transaction([Us],f?"readwrite":"readonly").objectStore(Us)}function gu(){const _=indexedDB.open(al,1);return new Promise((f,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const D=_.result;try{D.createObjectStore(Us,{keyPath:_o})}catch(q){m(q)}}),_.addEventListener("success",(0,l.Z)(function*(){const D=_.result;D.objectStoreNames.contains(Us)?f(D):(D.close(),yield function Ms(){const _=indexedDB.deleteDatabase(al);return new Lo(_).toPromise()}(),f(yield gu()))}))})}function Ta(_,f,m){return ll.apply(this,arguments)}function ll(){return(ll=(0,l.Z)(function*(_,f,m){const D=Ps(_,!0).put({[_o]:f,value:m});return new Lo(D).toPromise()})).apply(this,arguments)}function gs(){return(gs=(0,l.Z)(function*(_,f){const m=Ps(_,!1).get(f),D=yield new Lo(m).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function sc(_,f){const m=Ps(_,!0).delete(f);return new Lo(m).toPromise()}const vu=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield gu()),m.db})()}_withRetries(m){var D=this;return(0,l.Z)(function*(){let q=0;for(;;)try{const oe=yield D._openDb();return yield m(oe)}catch(oe){if(q++>3)throw oe;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return Ao()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=Ss._getInstance(function Bs(){return Ao()?self:null}()),m.receiver._subscribe("keyChanged",function(){var D=(0,l.Z)(function*(q,oe){return{keyProcessed:(yield m._poll()).includes(oe.key)}});return function(q,oe){return D.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var D=(0,l.Z)(function*(q,oe){return["keyChanged"]});return function(q,oe){return D.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var D,q;if(m.activeServiceWorker=yield function oc(){return Jt.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ba(m.activeServiceWorker);const oe=yield m.sender._send("ping",{},800);oe&&null!==(D=oe[0])&&void 0!==D&&D.fulfilled&&null!==(q=oe[0])&&void 0!==q&&q.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var D=this;return(0,l.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function Zr(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:m},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield gu();return yield Ta(m,ar,"1"),yield sc(m,ar),!0}catch{}return!1})()}_withPendingWrite(m){var D=this;return(0,l.Z)(function*(){D.pendingWrites++;try{yield m()}finally{D.pendingWrites--}})()}_set(m,D){var q=this;return(0,l.Z)(function*(){return q._withPendingWrite((0,l.Z)(function*(){return yield q._withRetries(oe=>Ta(oe,m,D)),q.localCache[m]=D,q.notifyServiceWorker(m)}))})()}_get(m){var D=this;return(0,l.Z)(function*(){const q=yield D._withRetries(oe=>function so(_,f){return gs.apply(this,arguments)}(oe,m));return D.localCache[m]=q,q})()}_remove(m){var D=this;return(0,l.Z)(function*(){return D._withPendingWrite((0,l.Z)(function*(){return yield D._withRetries(q=>sc(q,m)),delete D.localCache[m],D.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const D=yield m._withRetries(_t=>{const Bt=Ps(_t,!1).getAll();return new Lo(Bt).toPromise()});if(!D)return[];if(0!==m.pendingWrites)return[];const q=[],oe=new Set;for(const{fbase_key:_t,value:Bt}of D)oe.add(_t),JSON.stringify(m.localCache[_t])!==JSON.stringify(Bt)&&(m.notifyListeners(_t,Bt),q.push(_t));for(const _t of Object.keys(m.localCache))m.localCache[_t]&&!oe.has(_t)&&(m.notifyListeners(_t,null),q.push(_t));return q})()}notifyListeners(m,D){this.localCache[m]=D;const q=this.listeners[m];if(q)for(const oe of Array.from(q))oe(D)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(D)}_removeListener(m,D){this.listeners[m]&&(this.listeners[m].delete(D),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),F=1e12;class ae{constructor(f){this.auth=f,this.counter=F,this._widgets=new Map}render(f,m){const D=this.counter;return this._widgets.set(D,new be(f,this.auth.name,m||{})),this.counter++,D}reset(f){var m;const D=f||F;null===(m=this._widgets.get(D))||void 0===m||m.delete(),this._widgets.delete(D)}getResponse(f){var m;return(null===(m=this._widgets.get(f||F))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,l.Z)(function*(){var D;return null===(D=m._widgets.get(f||F))||void 0===D||D.execute(),""})()}}class be{constructor(f,m,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const q="string"==typeof f?document.getElementById(f):f;X(q,"argument-error",{appName:m}),this.container=q,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function bt(_){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<_;D++)f.push(m.charAt(Math.floor(62*Math.random())));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const _n=K("rcb"),Pt=new Xt(3e4,6e4);class Ar{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Gi().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return X(function Di(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),f,"argument-error"),this.shouldResolveImmediately(m)&&kt(Gi().grecaptcha)?Promise.resolve(Gi().grecaptcha):new Promise((D,q)=>{const oe=Gi().setTimeout(()=>{q(je(f,"network-request-failed"))},Pt.get());Gi()[_n]=()=>{Gi().clearTimeout(oe),delete Gi()[_n];const Bt=Gi().grecaptcha;if(!Bt||!kt(Bt))return void q(je(f,"internal-error"));const In=Bt.render;Bt.render=(lr,Er)=>{const qr=In(lr,Er);return this.counter++,qr},this.hostLanguage=m,D(Bt)},Ae(`https://www.google.com/recaptcha/api.js??${(0,M.xO)({onload:_n,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(oe),q(je(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=Gi().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class li{load(f){return(0,l.Z)(function*(){return new ae(f)})()}clearedOneInstance(){}}const ni="recaptcha",Qo={theme:"light",type:"image"};class fi{constructor(f,m,D=Object.assign({},Qo)){this.parameters=D,this.type=ni,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=mn(f),this.isInvisible="invisible"===this.parameters.size,X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const q="string"==typeof m?document.getElementById(m):m;X(q,this.auth,"argument-error"),this.container=q,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new li:new Ar,this.validateStartingState()}verify(){var f=this;return(0,l.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),D=f.getAssertedRecaptcha();return D.getResponse(m)||new Promise(oe=>{const _t=Bt=>{Bt&&(f.tokenChangeListeners.delete(_t),oe(Bt))};f.tokenChangeListeners.add(_t),f.isInvisible&&D.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){X(!this.parameters.sitekey,this.auth,"argument-error"),X(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(D=>D(m)),"function"==typeof f)f(m);else if("string"==typeof f){const D=Gi()[f];"function"==typeof D&&D(m)}}}assertNotDestroyed(){X(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,l.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const D=document.createElement("div");m.appendChild(D),m=D}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,l.Z)(function*(){X(lt()&&!Ao(),f.auth,"internal-error"),yield function ul(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function Nn(_){return Zn.apply(this,arguments)}(f.auth);X(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return X(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Da{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=ro._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function cl(_,f,m){return _u.apply(this,arguments)}function _u(){return(_u=(0,l.Z)(function*(_,f,m){const D=mn(_),q=yield lc(D,f,(0,M.m9)(m));return new Da(q,oe=>Ht(D,oe))})).apply(this,arguments)}function Ca(_,f,m){return ac.apply(this,arguments)}function ac(){return(ac=(0,l.Z)(function*(_,f,m){const D=(0,M.m9)(_);yield Ut(!1,D,"phone");const q=yield lc(D.auth,f,(0,M.m9)(m));return new Da(q,oe=>Tr(D,oe))})).apply(this,arguments)}function yu(_,f,m){return js.apply(this,arguments)}function js(){return(js=(0,l.Z)(function*(_,f,m){const D=(0,M.m9)(_),q=yield lc(D.auth,f,(0,M.m9)(m));return new Da(q,oe=>ui(D,oe))})).apply(this,arguments)}function lc(_,f,m){return Ua.apply(this,arguments)}function Ua(){return Ua=(0,l.Z)(function*(_,f,m){var D;const q=yield m.verify();try{let oe;if(X("string"==typeof q,_,"argument-error"),X(m.type===ni,_,"argument-error"),oe="string"==typeof f?{phoneNumber:f}:f,"session"in oe){const _t=oe.session;if("phoneNumber"in oe)return X("enroll"===_t.type,_,"internal-error"),(yield function vo(_,f){return at(_,"POST","/v2/accounts/mfaEnrollment:start",Ee(_,f))}(_,{idToken:_t.credential,phoneEnrollmentInfo:{phoneNumber:oe.phoneNumber,recaptchaToken:q}})).phoneSessionInfo.sessionInfo;{X("signin"===_t.type,_,"internal-error");const Bt=(null===(D=oe.multiFactorHint)||void 0===D?void 0:D.uid)||oe.multiFactorUid;return X(Bt,_,"missing-multi-factor-info"),(yield function So(_,f){return at(_,"POST","/v2/accounts/mfaSignIn:start",Ee(_,f))}(_,{mfaPendingCredential:_t.credential,mfaEnrollmentId:Bt,phoneSignInInfo:{recaptchaToken:q}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:_t}=yield function Yo(_,f){return ts.apply(this,arguments)}(_,{phoneNumber:oe.phoneNumber,recaptchaToken:q});return _t}}finally{m._reset()}}),Ua.apply(this,arguments)}function Qi(_,f){return dl.apply(this,arguments)}function dl(){return(dl=(0,l.Z)(function*(_,f){yield Fe((0,M.m9)(_),f)})).apply(this,arguments)}let aa=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=mn(m)}verifyPhoneNumber(m,D){return lc(this.auth,m,(0,M.m9)(D))}static credential(m,D){return ro._fromVerification(m,D)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:D,temporaryProof:q}=m;return D&&q?ro._fromTokenResponse(D,q):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function ba(_,f){return f?ie(f):(X(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Ii extends jt{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return to(f,this._buildIdpRequest())}_linkToIdToken(f,m){return to(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return to(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function uc(_){return L(_.auth,new Ii(_),_.bypassAuthState)}function Yi(_){const{auth:f,user:m}=_;return X(m,f,"internal-error"),P(m,new Ii(_),_.bypassAuthState)}function ci(_){return cc.apply(this,arguments)}function cc(){return(cc=(0,l.Z)(function*(_){const{auth:f,user:m}=_;return X(m,f,"internal-error"),Fe(m,new Ii(_),_.bypassAuthState)})).apply(this,arguments)}class wa{constructor(f,m,D,q,oe=!1){this.auth=f,this.resolver=D,this.user=q,this.bypassAuthState=oe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,l.Z)(function*(D,q){f.pendingPromise={resolve:D,reject:q};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(oe){f.reject(oe)}});return function(D,q){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,l.Z)(function*(){const{urlResponse:D,sessionId:q,postBody:oe,tenantId:_t,error:Bt,type:In}=f;if(Bt)return void m.reject(Bt);const lr={auth:m.auth,requestUri:D,sessionId:q,tenantId:_t||void 0,postBody:oe||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(In)(lr))}catch(Er){m.reject(Er)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return uc;case"linkViaPopup":case"linkViaRedirect":return ci;case"reauthViaPopup":case"reauthViaRedirect":return Yi;default:qe(this.auth,"internal-error")}}resolve(f){Ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Ve(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const as=new Xt(2e3,1e4);function Ah(_,f,m){return yd.apply(this,arguments)}function yd(){return(yd=(0,l.Z)(function*(_,f,m){const D=mn(_);Se(_,f,ji);const q=ba(D,m);return new Hs(D,"signInViaPopup",f,q).executeNotNull()})).apply(this,arguments)}function yo(_,f,m){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,l.Z)(function*(_,f,m){const D=(0,M.m9)(_);Se(D.auth,f,ji);const q=ba(D.auth,m);return new Hs(D.auth,"reauthViaPopup",f,q,D).executeNotNull()})).apply(this,arguments)}function la(_,f,m){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,l.Z)(function*(_,f,m){const D=(0,M.m9)(_);Se(D.auth,f,ji);const q=ba(D.auth,m);return new Hs(D.auth,"linkViaPopup",f,q,D).executeNotNull()})).apply(this,arguments)}let Hs=(()=>{class _ extends wa{constructor(m,D,q,oe,_t){super(m,D,oe,_t),this.provider=q,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const D=yield m.execute();return X(D,m.auth,"internal-error"),D})()}onExecution(){var m=this;return(0,l.Z)(function*(){Ve(1===m.filter.length,"Popup operations only handle one event");const D=Rs();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],D),m.authWindow.associatedEvent=D,m.resolver._originValidation(m.auth).catch(q=>{m.reject(q)}),m.resolver._isIframeWebStorageSupported(m.auth,q=>{q||m.reject(je(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(je(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var D,q;this.pollId=null!==(q=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==q&&q.closed?window.setTimeout(()=>{this.pollId=null,this.reject(je(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,as.get())};m()}}return _.currentPopupAction=null,_})();const ja="pendingRedirect",ua=new Map;class Ha extends wa{constructor(f,m,D=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,D),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,l.Z)(function*(){let D=ua.get(m.auth._key());if(!D){try{const oe=(yield function um(_,f){return zs.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;D=()=>Promise.resolve(oe)}catch(q){D=()=>Promise.reject(q)}ua.set(m.auth._key(),D)}return m.bypassAuthState||ua.set(m.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,D=this;return(0,l.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(D,f);if("unknown"!==f.type){if(f.eventId){const q=yield D.auth._redirectUserForId(f.eventId);if(q)return D.user=q,m().call(D,f);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function zs(){return(zs=(0,l.Z)(function*(_,f){const m=Ys(f),D=Aa(_);if(!(yield D._isAvailable()))return!1;const q="true"===(yield D._get(m));return yield D._remove(m),q})).apply(this,arguments)}function Ws(_,f){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,l.Z)(function*(_,f){return Aa(_)._set(Ys(f),"true")})).apply(this,arguments)}function Ro(){ua.clear()}function Gs(_,f){ua.set(_._key(),f)}function Aa(_){return ie(_._redirectPersistence)}function Ys(_){return Ge(ja,_.config.apiKey,_.name)}function Ed(_,f,m){return function Sa(_,f,m){return hl.apply(this,arguments)}(_,f,m)}function hl(){return(hl=(0,l.Z)(function*(_,f,m){const D=mn(_);Se(_,f,ji),yield D._initializationPromise;const q=ba(D,m);return yield Ws(q,D),q._openRedirect(D,f,"signInViaRedirect")})).apply(this,arguments)}function dc(_,f,m){return function za(_,f,m){return Nl.apply(this,arguments)}(_,f,m)}function Nl(){return(Nl=(0,l.Z)(function*(_,f,m){const D=(0,M.m9)(_);Se(D.auth,f,ji),yield D.auth._initializationPromise;const q=ba(D.auth,m);yield Ws(q,D.auth);const oe=yield Td(D);return q._openRedirect(D.auth,f,"reauthViaRedirect",oe)})).apply(this,arguments)}function kl(_,f,m){return function Id(_,f,m){return hc.apply(this,arguments)}(_,f,m)}function hc(){return(hc=(0,l.Z)(function*(_,f,m){const D=(0,M.m9)(_);Se(D.auth,f,ji),yield D.auth._initializationPromise;const q=ba(D.auth,m);yield Ut(!1,D,f.providerId),yield Ws(q,D.auth);const oe=yield Td(D);return q._openRedirect(D.auth,f,"linkViaRedirect",oe)})).apply(this,arguments)}function fl(_,f){return ms.apply(this,arguments)}function ms(){return(ms=(0,l.Z)(function*(_,f){return yield mn(_)._initializationPromise,fc(_,f,!1)})).apply(this,arguments)}function fc(_,f){return pc.apply(this,arguments)}function pc(){return(pc=(0,l.Z)(function*(_,f,m=!1){const D=mn(_),q=ba(D,f),_t=yield new Ha(D,q,m).execute();return _t&&!m&&(delete _t.user._redirectEventId,yield D._persistUserIfCurrent(_t.user),yield D._setRedirectUser(null,f)),_t})).apply(this,arguments)}function Td(_){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,l.Z)(function*(_){const f=Rs(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class ti{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(f,D)&&(m=!0,this.sendToConsumer(f,D),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function ca(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ai(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var D;if(f.error&&!Ai(f)){const q=(null===(D=f.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";m.onError(je(this.auth,q))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const D=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&D}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dd(f))}saveEventToCache(f){this.cachedEventUids.add(Dd(f)),this.lastProcessedEventTime=Date.now()}}function Dd(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function Ai({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Cd(_){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,l.Z)(function*(_,f={}){return at(_,"GET","/v1/projects",f)})).apply(this,arguments)}const gl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ll=/^https?/;function $r(){return($r=(0,l.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Cd(_);for(const m of f)try{if(mi(m))return}catch{}qe(_,"unauthorized-domain")})).apply(this,arguments)}function mi(_){const f=ft(),{protocol:m,hostname:D}=new URL(f);if(_.startsWith("chrome-extension://")){const _t=new URL(_);return""===_t.hostname&&""===D?"chrome-extension:"===m&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&_t.hostname===D}if(!Ll.test(m))return!1;if(gl.test(_))return D===_;const q=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+q+"|"+q+")$","i").test(D)}const Wa=new Xt(3e4,6e4);function Pa(){const _=Gi().___jsl;if(null!=_&&_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let Iu=null;const gp=new Xt(5e3,15e3),mp="__/auth/iframe",vp="emulator/auth/iframe",cm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fl(_){const f=_.config;X(f.authDomain,_,"auth-domain-config-required");const m=f.emulator?tt(f,vp):`https://${_.config.authDomain}/${mp}`,D={apiKey:f.apiKey,appName:_.name,v:H.SDK_VERSION},q=dm.get(_.config.apiHost);q&&(D.eid=q);const oe=_._getFrameworks();return oe.length&&(D.fw=oe.join(",")),`${m}?${(0,M.xO)(D).slice(1)}`}function bd(){return bd=(0,l.Z)(function*(_){const f=yield function Ph(_){return Iu=Iu||function Rh(_){return new Promise((f,m)=>{var D,q,oe;function _t(){Pa(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Pa(),m(je(_,"network-request-failed"))},timeout:Wa.get()})}if(null!==(q=null===(D=Gi().gapi)||void 0===D?void 0:D.iframes)&&void 0!==q&&q.Iframe)f(gapi.iframes.getContext());else{if(null===(oe=Gi().gapi)||void 0===oe||!oe.load){const Bt=K("iframefcb");return Gi()[Bt]=()=>{gapi.load?_t():m(je(_,"network-request-failed"))},Ae(`https://apis.google.com/js/api.js?onload=${Bt}`).catch(In=>m(In))}_t()}}).catch(f=>{throw Iu=null,f})}(_),Iu}(_),m=Gi().gapi;return X(m,_,"internal-error"),f.open({where:document.body,url:Fl(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cm,dontclear:!0},D=>new Promise(function(){var q=(0,l.Z)(function*(oe,_t){yield D.restyle({setHideOnLeave:!1});const Bt=je(_,"network-request-failed"),In=Gi().setTimeout(()=>{_t(Bt)},gp.get());function lr(){Gi().clearTimeout(In),oe(D)}D.ping(lr).then(lr,()=>{_t(Bt)})});return function(oe,_t){return q.apply(this,arguments)}}()))}),bd.apply(this,arguments)}const ao={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vs{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ga="__/auth/handler",gc="emulator/auth/handler",Ep=encodeURIComponent("fac");function xs(_,f,m,D,q,oe){return wd.apply(this,arguments)}function wd(){return(wd=(0,l.Z)(function*(_,f,m,D,q,oe){X(_.config.authDomain,_,"auth-domain-config-required"),X(_.config.apiKey,_,"invalid-api-key");const _t={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:D,v:H.SDK_VERSION,eventId:q};if(f instanceof ji){f.setDefaultLanguage(_.languageCode),_t.providerId=f.providerId||"",(0,M.xb)(f.getCustomParameters())||(_t.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Er,qr]of Object.entries(oe||{}))_t[Er]=qr}if(f instanceof pi){const Er=f.getScopes().filter(qr=>""!==qr);Er.length>0&&(_t.scopes=Er.join(","))}_.tenantId&&(_t.tid=_.tenantId);const Bt=_t;for(const Er of Object.keys(Bt))void 0===Bt[Er]&&delete Bt[Er];const In=yield _._getAppCheckToken(),lr=In?`#${Ep}=${encodeURIComponent(In)}`:"";return`${function Eo({config:_}){return _.emulator?tt(_,gc):`https://${_.authDomain}/${Ga}`}(_)}?${(0,M.xO)(Bt).slice(1)}${lr}`})).apply(this,arguments)}const $l="webStorageSupport",Bl=class Ya{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=As,this._completeRedirectFn=fc,this._overrideRedirectResult=Gs}_openPopup(f,m,D,q){var oe=this;return(0,l.Z)(function*(){var _t;Ve(null===(_t=oe.eventManagers[f._key()])||void 0===_t?void 0:_t.manager,"_initialize() not called before _openPopup()");const Bt=yield xs(f,m,D,ft(),q);return function Vl(_,f,m,D=500,q=600){const oe=Math.max((window.screen.availHeight-q)/2,0).toString(),_t=Math.max((window.screen.availWidth-D)/2,0).toString();let Bt="";const In=Object.assign(Object.assign({},ao),{width:D.toString(),height:q.toString(),top:oe,left:_t}),lr=(0,M.z$)().toLowerCase();m&&(Bt=Fn(lr)?"_blank":m),Mt(lr)&&(f=f||"http://localhost",In.scrollbars="yes");const Er=Object.entries(In).reduce((us,[_s,jl])=>`${us}${_s}=${jl},`,"");if(function Bn(_=(0,M.z$)()){var f;return wn(_)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(lr)&&"_self"!==Bt)return function vl(_,f){const m=document.createElement("a");m.href=_,m.target=f;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(D)}(f||"",Bt),new vs(null);const qr=window.open(f||"",Bt,Er);X(qr,_,"popup-blocked");try{qr.focus()}catch{}return new vs(qr)}(f,Bt,Rs())})()}_openRedirect(f,m,D,q){var oe=this;return(0,l.Z)(function*(){return yield oe._originValidation(f),function pu(_){Gi().location.href=_}(yield xs(f,m,D,ft(),q)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:q,promise:oe}=this.eventManagers[m];return q?Promise.resolve(q):(Ve(oe,"If manager is not set, promise should be"),oe)}const D=this.initAndGetManager(f);return this.eventManagers[m]={promise:D},D.catch(()=>{delete this.eventManagers[m]}),D}initAndGetManager(f){var m=this;return(0,l.Z)(function*(){const D=yield function Mh(_){return bd.apply(this,arguments)}(f),q=new ti(f);return D.register("authEvent",oe=>(X(null==oe?void 0:oe.authEvent,f,"invalid-auth-event"),{status:q.onEvent(oe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:q},m.iframes[f._key()]=D,q})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send($l,{type:$l},q=>{var oe;const _t=null===(oe=null==q?void 0:q[0])||void 0===oe?void 0:oe[$l];void 0!==_t&&m(!!_t),qe(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function ml(_){return $r.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Kr()||rn()||wn()}};class Vo{constructor(f){this.factorId=f}_process(f,m,D){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,D);case"signin":return this._finalizeSignIn(f,m.credential);default:return ke("unexpected MultiFactorSessionType")}}}class mc extends Vo{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new mc(f)}_finalizeEnroll(f,m,D){return function wh(_,f){return at(_,"POST","/v2/accounts/mfaEnrollment:finalize",Ee(_,f))}(f,{idToken:m,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function y(_,f){return at(_,"POST","/v2/accounts/mfaSignIn:finalize",Ee(_,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ad=(()=>{class _{constructor(){}static assertion(m){return mc._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var qa="@firebase/auth";class xh{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(D=>{f((null==D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);m&&(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ls=(0,M.Pz)("authIdTokenMaxAge")||300;let yc=null;const yl=_=>function(){var f=(0,l.Z)(function*(m){const D=m&&(yield m.getIdTokenResult()),q=D&&((new Date).getTime()-Date.parse(D.issuedAtTime))/1e3;if(q&&q>ls)return;const oe=null==D?void 0:D.token;yc!==oe&&(yc=oe,yield fetch(_,{method:oe?"POST":"DELETE",headers:oe?{Authorization:`Bearer ${oe}`}:{}}))});return function(m){return f.apply(this,arguments)}}();function Du(_=(0,H.getApp)()){const f=(0,H._getProvider)(_,"auth");if(f.isInitialized())return f.getImmediate();const m=function Pe(_,f){const m=(0,H._getProvider)(_,"auth");if(m.isInitialized()){const q=m.getImmediate(),oe=m.getOptions();if((0,M.vZ)(oe,null!=f?f:{}))return q;qe(q,"already-initialized")}return m.initialize({options:f})}(_,{popupRedirectResolver:Bl,persistence:[vu,sl,As]}),D=(0,M.Pz)("authTokenSyncURL");if(D){const oe=yl(D);(function $n(_,f,m){(0,M.m9)(_).beforeAuthStateChanged(f,m)})(m,oe,()=>oe(m.currentUser)),ia(m,_t=>oe(_t))}const q=(0,M.q4)("auth");return q&&Rt(m,`http://${q}`),m}!function xa(_){(0,H._registerComponent)(new le.wA("auth",(f,{options:m})=>{const D=f.getProvider("app").getImmediate(),q=f.getProvider("heartbeat"),oe=f.getProvider("app-check-internal"),{apiKey:_t,authDomain:Bt}=D.options;X(_t&&!_t.includes(":"),"invalid-api-key",{appName:D.name});const In={apiKey:_t,authDomain:Bt,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ue(_)},lr=new pn(D,q,oe,In);return function et(_,f){const m=(null==f?void 0:f.persistence)||[],D=(Array.isArray(m)?m:[m]).map(ie);null!=f&&f.errorMap&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(D,null==f?void 0:f.popupRedirectResolver)}(lr,m),lr},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,D)=>{f.getProvider("auth-internal").initialize()})),(0,H._registerComponent)(new le.wA("auth-internal",f=>{const m=mn(f.getProvider("auth").getImmediate());return new xh(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,H.registerVersion)(qa,"1.4.0",function vc(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,H.registerVersion)(qa,"1.4.0","esm2017")}("Browser")},5776:(ln,nt,w)=>{"use strict";w.d(nt,{u7:()=>kg,Jj:()=>au,IX:()=>Uf,my:()=>Ji,xU:()=>Qu,Lz:()=>lu,WA:()=>vn,F8:()=>Pg,$q:()=>mh,W:()=>Ju,EK:()=>Ei,PU:()=>yh,l7:()=>zs,Ky:()=>Wn,Xb:()=>Xn,Cf:()=>ri,K9:()=>ia,Me:()=>yd,yq:()=>$i,Wi:()=>Uv,ET:()=>fa,Ab:()=>_E,vr:()=>Vg,Fc:()=>Jv,hJ:()=>Wv,B$:()=>Gv,at:()=>$f,oe:()=>Xf,AK:()=>Fg,TF:()=>e_,JU:()=>oh,ST:()=>Y0,fH:()=>Xv,Ix:()=>Xy,Wu:()=>uE,Lx:()=>gh,qY:()=>qi,GL:()=>La,QT:()=>y_,kl:()=>Q0,Xk:()=>E_,PL:()=>I_,UQ:()=>rl,zN:()=>vh,ad:()=>Ky,nP:()=>$g,b9:()=>aE,vh:()=>Yf,Pb:()=>t_,L$:()=>sh,cf:()=>Lg,sc:()=>ud,Xo:()=>sE,IO:()=>l_,iE:()=>Yv,Eo:()=>Rg,i3:()=>vE,Bt:()=>tc,pl:()=>Co,Ub:()=>Xo,qK:()=>__,TQ:()=>lE,e0:()=>c_,r7:()=>ec,Mx:()=>Zy,ar:()=>u_});var ve,l=w(5861),M=w(534),H=w(4537),Q=w(7879),_e=w(9058),le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pe={},Ye=Ye||{},ue=le||self;function fe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function $e(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var xe="closure_uid_"+(1e9*Math.random()>>>0),Ke=0;function rt(i,e,r){return i.call.apply(i.bind,arguments)}function Be(i,e,r){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,s),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Le(i,e,r){return(Le=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rt:Be).apply(null,arguments)}function ze(i,e){var r=Array.prototype.slice.call(arguments,1);return function(){var s=r.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function dt(i,e){function r(){}r.prototype=e.prototype,i.$=e.prototype,i.prototype=new r,i.prototype.constructor=i,i.ac=function(s,u,d){for(var p=Array(arguments.length-2),A=2;A<arguments.length;A++)p[A-2]=arguments[A];return e.prototype[u].apply(s,p)}}function qe(){this.s=this.s,this.o=this.o}qe.prototype.s=!1,qe.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function we(i){Object.prototype.hasOwnProperty.call(i,xe)&&i[xe]||(i[xe]=++Ke)}(this)},qe.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Xe=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let r=0;r<i.length;r++)if(r in i&&i[r]===e)return r;return-1};function Se(i){const e=i.length;if(0<e){const r=Array(e);for(let s=0;s<e;s++)r[s]=i[s];return r}return[]}function ge(i,e){for(let r=1;r<arguments.length;r++){const s=arguments[r];if(fe(s)){const u=i.length||0,d=s.length||0;i.length=u+d;for(let p=0;p<d;p++)i[u+p]=s[p]}else i.push(s)}}function X(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!ue.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ue.addEventListener("test",()=>{},e),ue.removeEventListener("test",()=>{},e)}catch{}return i}();function Ve(i){return/^[\s\xa0]*$/.test(i)}function ft(){var i=ue.navigator;return i&&(i=i.userAgent)?i:""}function lt(i){return-1!=ft().indexOf(i)}function yt(i){return yt[" "](i),i}yt[" "]=function(){};var at,i,cn=lt("Opera"),Xt=lt("Trident")||lt("MSIE"),tt=lt("Edge"),he=tt||Xt,ne=lt("Gecko")&&!(-1!=ft().toLowerCase().indexOf("webkit")&&!lt("Edge"))&&!(lt("Trident")||lt("MSIE"))&&!lt("Edge"),Re=-1!=ft().toLowerCase().indexOf("webkit")&&!lt("Edge");function Ee(){var i=ue.document;return i?i.documentMode:void 0}e:{var pt="",Ft=(i=ft(),ne?/rv:([^\);]+)(\)|;)/.exec(i):tt?/Edge\/([\d\.]+)/.exec(i):Xt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Re?/WebKit\/(\S+)/.exec(i):cn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Ft&&(pt=Ft?Ft[1]:""),Xt){var on=Ee();if(null!=on&&on>parseFloat(pt)){at=String(on);break e}}at=pt}var Cn=ue.document&&Xt&&(Ee()||parseInt(at,10))||void 0;function Vt(i,e){if(X.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var r=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(ne){e:{try{yt(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==r?e=i.fromElement:"mouseout"==r&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:St[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Vt.$.h.call(this)}}dt(Vt,X);var St={2:"touch",3:"pen",4:"mouse"};Vt.prototype.h=function(){Vt.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var At="closure_listenable_"+(1e6*Math.random()|0),kt=0;function qt(i,e,r,s,u){this.listener=i,this.proxy=null,this.src=e,this.type=r,this.capture=!!s,this.la=u,this.key=++kt,this.fa=this.ia=!1}function An(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Nn(i,e,r){for(const s in i)e.call(r,i[s],s,i)}function dn(i){const e={};for(const r in i)e[r]=i[r];return e}const kn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function En(i,e){let r,s;for(let u=1;u<arguments.length;u++){for(r in s=arguments[u],s)i[r]=s[r];for(let d=0;d<kn.length;d++)r=kn[d],Object.prototype.hasOwnProperty.call(s,r)&&(i[r]=s[r])}}function Dr(i){this.src=i,this.g={},this.h=0}function Yn(i,e){var r=e.type;if(r in i.g){var d,s=i.g[r],u=Xe(s,e);(d=0<=u)&&Array.prototype.splice.call(s,u,1),d&&(An(e),0==i.g[r].length&&(delete i.g[r],i.h--))}}function qn(i,e,r,s){for(var u=0;u<i.length;++u){var d=i[u];if(!d.fa&&d.listener==e&&d.capture==!!r&&d.la==s)return u}return-1}Dr.prototype.add=function(i,e,r,s,u){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var p=qn(i,e,s,u);return-1<p?(e=i[p],r||(e.ia=!1)):((e=new qt(e,this.src,d,!!s,u)).ia=r,i.push(e)),e};var jn="closure_lm_"+(1e6*Math.random()|0),br={};function Cr(i,e,r,s,u){if(s&&s.once)return xn(i,e,r,s,u);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Cr(i,e[d],r,s,u);return null}return r=Ur(r),i&&i[At]?i.O(e,r,$e(s)?!!s.capture:!!s,u):Mn(i,e,r,!1,s,u)}function Mn(i,e,r,s,u,d){if(!e)throw Error("Invalid event type");var p=$e(u)?!!u.capture:!!u,A=er(i);if(A||(i[jn]=A=new Dr(i)),(r=A.add(e,r,s,p,d)).proxy)return r;if(s=function rr(){const e=bn;return function i(r){return e.call(i.src,i.listener,r)}}(),r.proxy=s,s.src=i,s.listener=r,i.addEventListener)ke||(u=p),void 0===u&&(u=!1),i.addEventListener(e.toString(),s,u);else if(i.attachEvent)i.attachEvent(fn(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return r}function xn(i,e,r,s,u){if(Array.isArray(e)){for(var d=0;d<e.length;d++)xn(i,e[d],r,s,u);return null}return r=Ur(r),i&&i[At]?i.P(e,r,$e(s)?!!s.capture:!!s,u):Mn(i,e,r,!0,s,u)}function Hr(i,e,r,s,u){if(Array.isArray(e))for(var d=0;d<e.length;d++)Hr(i,e[d],r,s,u);else s=$e(s)?!!s.capture:!!s,r=Ur(r),i&&i[At]?(i=i.i,(e=String(e).toString())in i.g&&-1<(r=qn(d=i.g[e],r,s,u))&&(An(d[r]),Array.prototype.splice.call(d,r,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=er(i))&&(e=i.g[e.toString()],i=-1,e&&(i=qn(e,r,s,u)),(r=-1<i?e[i]:null)&&cr(r))}function cr(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[At])Yn(e.i,i);else{var r=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(r,s,i.capture):e.detachEvent?e.detachEvent(fn(r),s):e.addListener&&e.removeListener&&e.removeListener(s),(r=er(e))?(Yn(r,i),0==r.h&&(r.src=null,e[jn]=null)):An(i)}}}function fn(i){return i in br?br[i]:br[i]="on"+i}function bn(i,e){if(i.fa)i=!0;else{e=new Vt(e,this);var r=i.listener,s=i.la||i.src;i.ia&&cr(i),i=r.call(s,e)}return i}function er(i){return(i=i[jn])instanceof Dr?i:null}var Nr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ur(i){return"function"==typeof i?i:(i[Nr]||(i[Nr]=function(e){return i.handleEvent(e)}),i[Nr])}function ur(){qe.call(this),this.i=new Dr(this),this.S=this,this.J=null}function Dn(i,e){var r,s=i.J;if(s)for(r=[];s;s=s.J)r.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new X(e,i);else if(e instanceof X)e.target=e.target||i;else{var u=e;En(e=new X(s,i),u)}if(u=!0,r)for(var d=r.length-1;0<=d;d--){var p=e.g=r[d];u=Qn(p,s,!0,e)&&u}if(u=Qn(p=e.g=i,s,!0,e)&&u,u=Qn(p,s,!1,e)&&u,r)for(d=0;d<r.length;d++)u=Qn(p=e.g=r[d],s,!1,e)&&u}function Qn(i,e,r,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,d=0;d<e.length;++d){var p=e[d];if(p&&!p.fa&&p.capture==r){var A=p.listener,N=p.la||p.src;p.ia&&Yn(i.i,p),u=!1!==A.call(N,s)&&u}}return u&&!s.defaultPrevented}dt(ur,qe),ur.prototype[At]=!0,ur.prototype.removeEventListener=function(i,e,r,s){Hr(this,i,e,r,s)},ur.prototype.N=function(){if(ur.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var r=i.g[e],s=0;s<r.length;s++)An(r[s]);delete i.g[e],i.h--}}this.J=null},ur.prototype.O=function(i,e,r,s){return this.i.add(String(i),e,!1,r,s)},ur.prototype.P=function(i,e,r,s){return this.i.add(String(i),e,!0,r,s)};var kr=ue.JSON.stringify;function Hn(){var i=b;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Ir=new class Vn{constructor(e,r){this.i=e,this.j=r,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new hr,i=>i.reset());class hr{constructor(){this.next=this.g=this.h=null}set(e,r){this.h=e,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function He(i){var e=1;i=i.split(":");const r=[];for(;0<e&&i.length;)r.push(i.shift()),e--;return i.length&&r.push(i.join(":")),r}function te(i){ue.setTimeout(()=>{throw i},0)}let B,R=!1,b=new class Lr{constructor(){this.h=this.g=null}add(e,r){const s=Ir.get();s.set(e,r),this.h?this.h.next=s:this.g=s,this.h=s}},W=()=>{const i=ue.Promise.resolve(void 0);B=()=>{i.then(ie)}};var ie=()=>{for(var i;i=Hn();){try{i.h.call(i.g)}catch(r){te(r)}var e=Ir;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}R=!1};function We(i,e){ur.call(this),this.h=i||1,this.g=e||ue,this.j=Le(this.qb,this),this.l=Date.now()}function Ce(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Ge(i,e,r){if("function"==typeof i)r&&(i=Le(i,r));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Le(i.handleEvent,i)}return 2147483647<Number(e)?-1:ue.setTimeout(i,e||0)}function Dt(i){i.g=Ge(()=>{i.g=null,i.i&&(i.i=!1,Dt(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}dt(We,ur),(ve=We.prototype).ga=!1,ve.T=null,ve.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Dn(this,"tick"),this.ga&&(Ce(this),this.start()))}},ve.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ve.N=function(){We.$.N.call(this),Ce(this),delete this.g};class gt extends qe{constructor(e,r){super(),this.m=e,this.j=r,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Dt(this)}N(){super.N(),this.g&&(ue.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mt(i){qe.call(this),this.h=i,this.g={}}dt(Mt,qe);var rn=[];function Fn(i,e,r,s){Array.isArray(r)||(r&&(rn[0]=r.toString()),r=rn);for(var u=0;u<r.length;u++){var d=Cr(e,r[u],s||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function mr(i){Nn(i.g,function(e,r){this.g.hasOwnProperty(r)&&cr(e)},i),i.g={}}function It(){this.g=!0}function wn(i,e,r,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Bn(i,e){if(!i.g)return e;if(!e)return null;try{var r=JSON.parse(e);if(r)for(i=0;i<r.length;i++)if(Array.isArray(r[i])){var s=r[i];if(!(2>s.length)){var u=s[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var p=1;p<u.length;p++)u[p]=""}}}return kr(r)}catch{return e}}(i,r)+(s?" "+s:"")})}Mt.prototype.N=function(){Mt.$.N.call(this),mr(this)},Mt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},It.prototype.Ea=function(){this.g=!1},It.prototype.info=function(){};var Ln={},Kr=null;function st(){return Kr=Kr||new ur}function Ue(i){X.call(this,Ln.Ta,i)}function wt(i){const e=st();Dn(e,new Ue(e))}function Et(i,e){X.call(this,Ln.STAT_EVENT,i),this.stat=e}function xt(i){const e=st();Dn(e,new Et(e,i))}function Kt(i,e){X.call(this,Ln.Ua,i),this.size=e}function Tn(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ue.setTimeout(function(){i()},e)}Ln.Ta="serverreachability",dt(Ue,X),Ln.STAT_EVENT="statevent",dt(Et,X),Ln.Ua="timingevent",dt(Kt,X);var pn={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},mn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Kn(){}function Ae(){}Kn.prototype.h=null;var mt,K={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ie(){X.call(this,"d")}function ht(){X.call(this,"c")}function Je(){}function Ct(i,e,r,s){this.l=i,this.j=e,this.m=r,this.W=s||1,this.U=new Mt(this),this.P=Qt,this.V=new We(i=he?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new tn}function tn(){this.i=null,this.g="",this.h=!1}dt(Ie,X),dt(ht,X),dt(Je,Kn),Je.prototype.g=function(){return new XMLHttpRequest},Je.prototype.i=function(){return{}},mt=new Je;var Qt=45e3,tr={},U={};function J(i,e,r){i.L=1,i.v=yr(Te(e)),i.s=r,i.S=!0,Pe(i,null)}function Pe(i,e){i.G=Date.now(),Zt(i),i.A=Te(i.v);var r=i.A,s=i.W;Array.isArray(s)||(s=[String(s)]),mo(r.i,"t",s),i.C=0,r=i.l.J,i.h=new tn,i.g=Pi(i.l,r?e:null,!i.s),0<i.O&&(i.M=new gt(Le(i.Pa,i,i.g),i.O)),Fn(i.U,i.g,"readystatechange",i.nb),e=i.I?dn(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),wt(),function Qe(i,e,r,s,u,d){i.info(function(){if(i.g)if(d)for(var p="",A=d.split("&"),N=0;N<A.length;N++){var z=A[N].split("=");if(1<z.length){var se=z[0];z=z[1];var Me=se.split("_");p=2<=Me.length&&"type"==Me[1]?p+(se+"=")+z+"&":p+(se+"=redacted&")}}else p=null;else p=d;return"XMLHTTP REQ ("+s+") [attempt "+u+"]: "+e+"\n"+r+"\n"+p})}(i.j,i.u,i.A,i.m,i.W,i.s)}function et(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function Rt(i,e,r){let u,s=!0;for(;!i.J&&i.C<r.length;){if(u=vt(i,r),u==U){4==e&&(i.o=4,xt(14),s=!1),wn(i.j,i.m,null,"[Incomplete Response]");break}if(u==tr){i.o=4,xt(15),wn(i.j,i.m,r,"[Invalid Chunk]"),s=!1;break}wn(i.j,i.m,u,null),nr(i,u)}et(i)&&u!=U&&u!=tr&&(i.h.g="",i.C=0),4!=e||0!=r.length||i.h.h||(i.o=1,xt(16),s=!1),i.i=i.i&&s,s?0<r.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),zr(e),e.M=!0,xt(11))):(wn(i.j,i.m,r,"[Invalid Chunked Response]"),gn(i),jt(i))}function vt(i,e){var r=i.C,s=e.indexOf("\n",r);return-1==s?U:(r=Number(e.substring(r,s)),isNaN(r)?tr:(s+=1)+r>e.length?U:(e=e.slice(s,s+r),i.C=s+r,e))}function Zt(i){i.Y=Date.now()+i.P,un(i,i.P)}function un(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Tn(Le(i.lb,i),e)}function nn(i){i.B&&(ue.clearTimeout(i.B),i.B=null)}function jt(i){0==i.l.H||i.J||Fi(i.l,i)}function gn(i){nn(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,Ce(i.V),mr(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function nr(i,e){try{var r=i.l;if(0!=r.H&&(r.g==i||Mo(r.i,i)))if(!i.K&&Mo(r.i,i)&&3==r.H){try{var s=r.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var u=s;if(0==u[0]){e:if(!r.u){if(r.g){if(!(r.g.G+3e3<i.G))break e;dr(r),Ut(r)}Tr(r),xt(18)}}else r.Fa=u[1],0<r.Fa-r.V&&37500>u[2]&&r.G&&0==r.A&&!r.v&&(r.v=Tn(Le(r.ib,r),6e3));if(1>=ta(r.i)&&r.oa){try{r.oa()}catch{}r.oa=void 0}}else Gr(r,11)}else if((i.K||r.g==i)&&dr(r),!Ve(e))for(u=r.Ja.g.parse(e),e=0;e<u.length;e++){let z=u[e];if(r.V=z[0],z=z[1],2==r.H)if("c"==z[0]){r.K=z[1],r.pa=z[2];const se=z[3];null!=se&&(r.ra=se,r.l.info("VER="+r.ra));const Me=z[4];null!=Me&&(r.Ga=Me,r.l.info("SVER="+r.Ga));const ct=z[5];null!=ct&&"number"==typeof ct&&0<ct&&(r.L=s=1.5*ct,r.l.info("backChannelRequestTimeoutMs_="+s)),s=r;const Nt=i.g;if(Nt){const Sn=Nt.g?Nt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sn){var d=s.i;d.g||-1==Sn.indexOf("spdy")&&-1==Sn.indexOf("quic")&&-1==Sn.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(ns(d,d.h),d.h=null))}if(s.F){const Rn=Nt.g?Nt.g.getResponseHeader("X-HTTP-Session-Id"):null;Rn&&(s.Da=Rn,_r(s.I,s.F,Rn))}}r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-i.G,r.l.info("Handshake RTT: "+r.S+"ms"));var p=i;if((s=r).wa=co(s,s.J?s.pa:null,s.Y),p.K){Ki(s.i,p);var A=p,N=s.L;N&&A.setTimeout(N),A.B&&(nn(A),Zt(A)),s.g=p}else Gt(s);0<r.j.length&&P(r)}else"stop"!=z[0]&&"close"!=z[0]||Gr(r,7);else 3==r.H&&("stop"==z[0]||"close"==z[0]?"stop"==z[0]?Gr(r,7):it(r):"noop"!=z[0]&&r.h&&r.h.Aa(z),r.A=0)}wt()}catch{}}function ai(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(fe(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var r=function wr(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(fe(i)||"string"==typeof i){var e=[];i=i.length;for(var r=0;r<i;r++)e.push(r);return e}e=[],r=0;for(const s in i)e[r++]=s;return e}}}(i),s=function vr(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(fe(i)){for(var e=[],r=i.length,s=0;s<r;s++)e.push(i[s]);return e}for(s in e=[],r=0,i)e[r++]=i[s];return e}(i),u=s.length,d=0;d<u;d++)e.call(void 0,s[d],r&&r[d],i)}(ve=Ct.prototype).setTimeout=function(i){this.P=i},ve.nb=function(i){i=i.target;const e=this.M;e&&3==Hi(i)?e.l():this.Pa(i)},ve.Pa=function(i){try{if(i==this.g)e:{const se=Hi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>se)&&(3!=se||he||this.g&&(this.h.h||this.g.ja()||fs(this.g)))){this.J||4!=se||7==e||wt(),nn(this);var r=this.g.da();this.ca=r;t:if(et(this)){var s=fs(this.g);i="";var u=s.length,d=4==Hi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){gn(this),jt(this);var p="";break t}this.h.i=new ue.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:d&&e==u-1});s.splice(0,u),this.h.g+=i,this.C=0,p=this.h.g}else p=this.g.ja();if(this.i=200==r,function zt(i,e,r,s,u,d,p){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+u+"]: "+e+"\n"+r+"\n"+d+" "+p})}(this.j,this.u,this.A,this.m,this.W,se,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var A,N=this.g;if((A=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ve(A)){var z=A;break t}}z=null}if(!(r=z)){this.i=!1,this.o=3,xt(12),gn(this),jt(this);break e}wn(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nr(this,r)}this.S?(Rt(this,se,p),he&&this.i&&3==se&&(Fn(this.U,this.V,"tick",this.mb),this.V.start())):(wn(this.j,this.m,p,null),nr(this,p)),4==se&&gn(this),this.i&&!this.J&&(4==se?Fi(this.l,this):(this.i=!1,Zt(this)))}else(function $s(i){const e={};i=(i.g&&2<=Hi(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(Ve(i[s]))continue;var r=He(i[s]);const u=r[0];if("string"!=typeof(r=r[1]))continue;r=r.trim();const d=e[u]||[];e[u]=d,d.push(r)}!function Zn(i,e){for(const r in i)e.call(void 0,i[r],r,i)}(e,function(s){return s.join(", ")})})(this.g),400==r&&0<p.indexOf("Unknown SID")?(this.o=3,xt(12)):(this.o=0,xt(13)),gn(this),jt(this)}}}catch{}},ve.mb=function(){if(this.g){var i=Hi(this.g),e=this.g.ja();this.C<e.length&&(nn(this),Rt(this,i,e),this.i&&4!=i&&Zt(this))}},ve.cancel=function(){this.J=!0,gn(this)},ve.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function ir(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(wt(),xt(17)),gn(this),this.o=2,jt(this)):un(this,this.Y-i)};var I=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function x(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof x){this.h=i.h,ut(this,i.j),this.s=i.s,this.g=i.g,pr(this,i.m),this.l=i.l;var e=i.i,r=new uo;r.i=e.i,e.g&&(r.g=new Map(e.g),r.h=e.h),jr(this,r),this.o=i.o}else i&&(e=String(i).match(I))?(this.h=!1,ut(this,e[1]||"",!0),this.s=Ui(e[2]||""),this.g=Ui(e[3]||"",!0),pr(this,e[4]),this.l=Ui(e[5]||"",!0),jr(this,e[6]||"",!0),this.o=Ui(e[7]||"")):(this.h=!1,this.i=new uo(null,this.h))}function Te(i){return new x(i)}function ut(i,e,r){i.j=r?Ui(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function pr(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function jr(i,e,r){e instanceof uo?(i.i=e,function no(i,e){e&&!i.j&&(Ti(i),i.i=null,i.g.forEach(function(r,s){var u=s.toLowerCase();s!=u&&(Fr(this,s),mo(this,u,r))},i)),i.j=e}(i.i,i.h)):(r||(e=eo(e,lo)),i.i=new uo(e,i.h))}function _r(i,e,r){i.i.set(e,r)}function yr(i){return _r(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Ui(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function eo(i,e,r){return"string"==typeof i?(i=encodeURI(i).replace(e,bo),r&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function bo(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}x.prototype.toString=function(){var i=[],e=this.j;e&&i.push(eo(e,zo,!0),":");var r=this.g;return(r||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(eo(e,zo,!0),"@"),i.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(r=this.m)&&i.push(":",String(r))),(r=this.l)&&(this.g&&"/"!=r.charAt(0)&&i.push("/"),i.push(eo(r,"/"==r.charAt(0)?Wo:Qs,!0))),(r=this.i.toString())&&i.push("?",r),(r=this.o)&&i.push("#",eo(r,go)),i.join("")};var zo=/[#\/\?@]/g,Qs=/[#\?:]/g,Wo=/[#\?]/g,lo=/[#\?@]/g,go=/#/g;function uo(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Ti(i){i.g||(i.g=new Map,i.h=0,i.i&&function me(i,e){if(i){i=i.split("&");for(var r=0;r<i.length;r++){var s=i[r].indexOf("="),u=null;if(0<=s){var d=i[r].substring(0,s);u=i[r].substring(s+1)}else d=i[r];e(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,r){i.add(decodeURIComponent(e.replace(/\+/g," ")),r)}))}function Fr(i,e){Ti(i),e=Go(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function to(i,e){return Ti(i),e=Go(i,e),i.g.has(e)}function mo(i,e,r){Fr(i,e),0<r.length&&(i.i=null,i.g.set(Go(i,e),Se(r)),i.h+=r.length)}function Go(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}(ve=uo.prototype).add=function(i,e){Ti(this),this.i=null,i=Go(this,i);var r=this.g.get(i);return r||this.g.set(i,r=[]),r.push(e),this.h+=1,this},ve.forEach=function(i,e){Ti(this),this.g.forEach(function(r,s){r.forEach(function(u){i.call(e,u,s,this)},this)},this)},ve.ta=function(){Ti(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),r=[];for(let s=0;s<e.length;s++){const u=i[s];for(let d=0;d<u.length;d++)r.push(e[s])}return r},ve.Z=function(i){Ti(this);let e=[];if("string"==typeof i)to(this,i)&&(e=e.concat(this.g.get(Go(this,i))));else{i=Array.from(this.g.values());for(let r=0;r<i.length;r++)e=e.concat(i[r])}return e},ve.set=function(i,e){return Ti(this),this.i=null,to(this,i=Go(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ve.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var r=0;r<e.length;r++){var s=e[r];const d=encodeURIComponent(String(s)),p=this.Z(s);for(s=0;s<p.length;s++){var u=d;""!==p[s]&&(u+="="+encodeURIComponent(String(p[s]))),i.push(u)}}return this.i=i.join("&")};var Yo=class{constructor(i,e){this.g=i,this.map=e}};function ts(i){this.l=i||Js,i=ue.PerformanceNavigationTiming?0<(i=ue.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ue.g&&ue.g.Ka&&ue.g.Ka()&&ue.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Js=10;function ea(i){return!!i.h||!!i.g&&i.g.size>=i.j}function ta(i){return i.h?1:i.g?i.g.size:0}function Mo(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function ns(i,e){i.g?i.g.add(e):i.h=e}function Ki(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Fs(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const r of i.g.values())e=e.concat(r.F);return e}return Se(i.i)}ts.prototype.cancel=function(){if(this.i=Fs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var ro=class{stringify(i){return ue.JSON.stringify(i,void 0)}parse(i){return ue.JSON.parse(i,void 0)}};function ma(){this.g=new ro}function ds(i,e,r){const s=r||"";try{ai(i,function(u,d){let p=u;$e(u)&&(p=kr(u)),e.push(s+d+"="+encodeURIComponent(p))})}catch(u){throw e.push(s+"type="+encodeURIComponent("_badmap")),u}}function hs(i,e,r,s,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(s)}catch{}}function xo(i){this.l=i.ec||null,this.j=i.ob||!1}function ji(i,e){ur.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=pi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dt(xo,Kn),xo.prototype.g=function(){return new ji(this.l,this.j)},xo.prototype.i=function(i){return function(){return i}}({}),dt(ji,ur);var pi=0;function rs(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Oo(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Ds(i)}function Ds(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ve=ji.prototype).open=function(i,e){if(this.readyState!=pi)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Ds(this)},ve.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||ue).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Oo(this)),this.readyState=pi},ve.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Ds(this)),this.g&&(this.readyState=3,Ds(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ue.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;rs(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},ve.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Oo(this):Ds(this),3==this.readyState&&rs(this)}},ve.Za=function(i){this.g&&(this.response=this.responseText=i,Oo(this))},ve.Ya=function(i){this.g&&(this.response=i,Oo(this))},ve.ka=function(){this.g&&Oo(this)},ve.setRequestHeader=function(i,e){this.v.append(i,e)},ve.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ve.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var r=e.next();!r.done;)i.push((r=r.value)[0]+": "+r[1]),r=e.next();return i.join("\r\n")},Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Fa=ue.JSON.parse;function di(i){ur.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=qo,this.L=this.M=!1}dt(di,ur);var qo="",Ko=/^https?$/i,Cs=["POST","PUT"];function hi(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,vi(i),_i(i)}function vi(i){i.F||(i.F=!0,Dn(i,"complete"),Dn(i,"error"))}function Si(i){if(i.h&&typeof Ye<"u"&&(!i.C[1]||4!=Hi(i)||2!=i.da()))if(i.v&&4==Hi(i))Ge(i.La,0,i);else if(Dn(i,"readystatechange"),4==Hi(i)){i.h=!1;try{const p=i.da();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var r;if(!(r=e)){var s;if(s=0===p){var u=String(i.I).match(I)[1]||null;!u&&ue.self&&ue.self.location&&(u=ue.self.location.protocol.slice(0,-1)),s=!Ko.test(u?u.toLowerCase():"")}r=s}if(r)Dn(i,"complete"),Dn(i,"success");else{i.m=6;try{var d=2<Hi(i)?i.g.statusText:""}catch{d=""}i.j=d+" ["+i.da()+"]",vi(i)}}finally{_i(i)}}}function _i(i,e){if(i.g){Zo(i);const r=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||Dn(i,"ready");try{r.onreadystatechange=s}catch{}}}function Zo(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(ue.clearTimeout(i.A),i.A=null)}function Hi(i){return i.g?i.g.readyState:0}function fs(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case qo:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Z(i){let e="";return Nn(i,function(r,s){e+=s,e+=":",e+=r,e+="\r\n"}),e}function G(i,e,r){e:{for(s in r){var s=!1;break e}s=!0}s||(r=Z(r),"string"==typeof i?null!=r&&encodeURIComponent(String(r)):_r(i,e,r))}function ye(i,e,r){return r&&r.internalChannelParams&&r.internalChannelParams[i]||e}function Fe(i){this.Ga=0,this.j=[],this.l=new It,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ye("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ye("baseRetryDelayMs",5e3,i),this.hb=ye("retryDelaySeedMs",1e4,i),this.eb=ye("forwardChannelMaxRetries",2,i),this.xa=ye("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new ts(i&&i.concurrentRequestLimit),this.Ja=new ma,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function it(i){if(k(i),3==i.H){var e=i.W++,r=Te(i.I);if(_r(r,"SID",i.K),_r(r,"RID",e),_r(r,"TYPE","terminate"),de(i,r),(e=new Ct(i,i.l,e)).L=2,e.v=yr(Te(r)),r=!1,ue.navigator&&ue.navigator.sendBeacon)try{r=ue.navigator.sendBeacon(e.v.toString(),"")}catch{}!r&&ue.Image&&((new Image).src=e.v,r=!0),r||(e.g=Pi(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Zt(e)}Qr(i)}function Ut(i){i.g&&(zr(i),i.g.cancel(),i.g=null)}function k(i){Ut(i),i.u&&(ue.clearTimeout(i.u),i.u=null),dr(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ue.clearTimeout(i.m),i.m=null)}function P(i){if(!ea(i.i)&&!i.m){i.m=!0;var e=i.Na;B||W(),R||(B(),R=!0),b.add(e,i),i.C=0}}function L(i,e){var r;r=e?e.m:i.W++;const s=Te(i.I);_r(s,"SID",i.K),_r(s,"RID",r),_r(s,"AID",i.V),de(i,s),i.o&&i.s&&G(s,i.o,i.s),r=new Ct(i,i.l,r,i.C+1),null===i.o&&(r.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Ht(i,r,1e3),r.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),ns(i.i,r),J(r,s,e)}function de(i,e){i.na&&Nn(i.na,function(r,s){_r(e,s,r)}),i.h&&ai({},function(r,s){_r(e,s,r)})}function Ht(i,e,r){r=Math.min(i.j.length,r);var s=i.h?Le(i.h.Va,i.h,i):null;e:{var u=i.j;let d=-1;for(;;){const p=["count="+r];-1==d?0<r?(d=u[0].g,p.push("ofs="+d)):d=0:p.push("ofs="+d);let A=!0;for(let N=0;N<r;N++){let z=u[N].g;const se=u[N].map;if(z-=d,0>z)d=Math.max(0,u[N].g-100),A=!1;else try{ds(se,p,"req"+z+"_")}catch{s&&s(se)}}if(A){s=p.join("&");break e}}}return i=i.j.splice(0,r),e.F=i,s}function Gt(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;B||W(),R||(B(),R=!0),b.add(e,i),i.A=0}}function Tr(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=Tn(Le(i.Ma,i),Ri(i,i.A)),i.A++,0))}function zr(i){null!=i.B&&(ue.clearTimeout(i.B),i.B=null)}function ui(i){i.g=new Ct(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=Te(i.wa);_r(e,"RID","rpc"),_r(e,"SID",i.K),_r(e,"AID",i.V),_r(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&_r(e,"TO",i.qa),_r(e,"TYPE","xmlhttp"),de(i,e),i.o&&i.s&&G(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var r=i.g;i=i.pa,r.L=1,r.v=yr(Te(e)),r.s=null,r.S=!0,Pe(r,i)}function dr(i){null!=i.v&&(ue.clearTimeout(i.v),i.v=null)}function Fi(i,e){var r=null;if(i.g==e){dr(i),zr(i),i.g=null;var s=2}else{if(!Mo(i.i,e))return;r=e.F,Ki(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){r=e.s?e.s.length:0,e=Date.now()-e.G;var u=i.C;Dn(s=st(),new Kt(s,r)),P(i)}else Gt(i);else if(3==(u=e.o)||0==u&&0<e.ca||!(1==s&&function ee(i,e){return!(ta(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=Tn(Le(i.Na,i,e),Ri(i,i.C)),i.C++,0)))}(i,e)||2==s&&Tr(i)))switch(r&&0<r.length&&(e=i.i,e.i=e.i.concat(r)),u){case 1:Gr(i,5);break;case 4:Gr(i,10);break;case 3:Gr(i,6);break;default:Gr(i,2)}}function Ri(i,e){let r=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(r*=2),r*e}function Gr(i,e){if(i.l.info("Error code "+e),2==e){var r=null;i.h&&(r=null);var s=Le(i.pb,i);r||(r=new x("//www.google.com/images/cleardot.gif"),ue.location&&"http"==ue.location.protocol||ut(r,"https"),yr(r)),function Vs(i,e){const r=new It;if(ue.Image){const s=new Image;s.onload=ze(hs,r,s,"TestLoadImage: loaded",!0,e),s.onerror=ze(hs,r,s,"TestLoadImage: error",!1,e),s.onabort=ze(hs,r,s,"TestLoadImage: abort",!1,e),s.ontimeout=ze(hs,r,s,"TestLoadImage: timeout",!1,e),ue.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(r.toString(),s)}else xt(2);i.H=0,i.h&&i.h.za(e),Qr(i),k(i)}function Qr(i){if(i.H=0,i.ma=[],i.h){const e=Fs(i.i);(0!=e.length||0!=i.j.length)&&(ge(i.ma,e),ge(i.ma,i.j),i.i.i.length=0,Se(i.j),i.j.length=0),i.h.ya()}}function co(i,e,r){var s=r instanceof x?Te(r):new x(r);if(""!=s.g)e&&(s.g=e+"."+s.g),pr(s,s.m);else{var u=ue.location;s=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var d=new x(null);s&&ut(d,s),e&&(d.g=e),u&&pr(d,u),r&&(d.l=r),s=d}return e=i.Da,(r=i.F)&&e&&_r(s,r,e),_r(s,"VER",i.ra),de(i,s),s}function Pi(i,e,r){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new di(r&&i.Ha&&!i.va?new xo({ob:!0}):i.va)).Oa(i.J),e}function No(){}function Vi(){if(Xt&&!(10<=Number(Cn)))throw Error("Environmental error: no available transport.")}function sr(i,e){ur.call(this),this.g=new Fe(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Ve(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ve(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new io(this)}function va(i){Ie.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const r in e){i=r;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function bs(){ht.call(this),this.status=1}function io(i){this.g=i}function zi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Mi(i,e,r){r||(r=0);var s=Array(16);if("string"==typeof e)for(var u=0;16>u;++u)s[u]=e.charCodeAt(r++)|e.charCodeAt(r++)<<8|e.charCodeAt(r++)<<16|e.charCodeAt(r++)<<24;else for(u=0;16>u;++u)s[u]=e[r++]|e[r++]<<8|e[r++]<<16|e[r++]<<24;var d=i.g[3],p=(e=i.g[0])+(d^(r=i.g[1])&((u=i.g[2])^d))+s[0]+3614090360&4294967295;p=(r=(u=(d=(e=(r=(u=(d=(e=(r=(u=(d=(e=(r=(u=(d=(e=(r=(u=(d=(e=(r=(u=(d=(e=(r=(u=(d=(e=(r=(u=(d=(e=(r=(u=(d=(e=(r=(u=(d=(e=(r=(u=(d=(e=(r=(u=(d=(e=(r=(u=(d=(e=(r=(u=(d=(e=(r=(u=(d=(e=r+(p<<7&4294967295|p>>>25))+((p=d+(u^e&(r^u))+s[1]+3905402710&4294967295)<<12&4294967295|p>>>20))+((p=u+(r^d&(e^r))+s[2]+606105819&4294967295)<<17&4294967295|p>>>15))+((p=r+(e^u&(d^e))+s[3]+3250441966&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^r&(u^d))+s[4]+4118548399&4294967295)<<7&4294967295|p>>>25))+((p=d+(u^e&(r^u))+s[5]+1200080426&4294967295)<<12&4294967295|p>>>20))+((p=u+(r^d&(e^r))+s[6]+2821735955&4294967295)<<17&4294967295|p>>>15))+((p=r+(e^u&(d^e))+s[7]+4249261313&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^r&(u^d))+s[8]+1770035416&4294967295)<<7&4294967295|p>>>25))+((p=d+(u^e&(r^u))+s[9]+2336552879&4294967295)<<12&4294967295|p>>>20))+((p=u+(r^d&(e^r))+s[10]+4294925233&4294967295)<<17&4294967295|p>>>15))+((p=r+(e^u&(d^e))+s[11]+2304563134&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^r&(u^d))+s[12]+1804603682&4294967295)<<7&4294967295|p>>>25))+((p=d+(u^e&(r^u))+s[13]+4254626195&4294967295)<<12&4294967295|p>>>20))+((p=u+(r^d&(e^r))+s[14]+2792965006&4294967295)<<17&4294967295|p>>>15))+((p=r+(e^u&(d^e))+s[15]+1236535329&4294967295)<<22&4294967295|p>>>10))+((p=e+(u^d&(r^u))+s[1]+4129170786&4294967295)<<5&4294967295|p>>>27))+((p=d+(r^u&(e^r))+s[6]+3225465664&4294967295)<<9&4294967295|p>>>23))+((p=u+(e^r&(d^e))+s[11]+643717713&4294967295)<<14&4294967295|p>>>18))+((p=r+(d^e&(u^d))+s[0]+3921069994&4294967295)<<20&4294967295|p>>>12))+((p=e+(u^d&(r^u))+s[5]+3593408605&4294967295)<<5&4294967295|p>>>27))+((p=d+(r^u&(e^r))+s[10]+38016083&4294967295)<<9&4294967295|p>>>23))+((p=u+(e^r&(d^e))+s[15]+3634488961&4294967295)<<14&4294967295|p>>>18))+((p=r+(d^e&(u^d))+s[4]+3889429448&4294967295)<<20&4294967295|p>>>12))+((p=e+(u^d&(r^u))+s[9]+568446438&4294967295)<<5&4294967295|p>>>27))+((p=d+(r^u&(e^r))+s[14]+3275163606&4294967295)<<9&4294967295|p>>>23))+((p=u+(e^r&(d^e))+s[3]+4107603335&4294967295)<<14&4294967295|p>>>18))+((p=r+(d^e&(u^d))+s[8]+1163531501&4294967295)<<20&4294967295|p>>>12))+((p=e+(u^d&(r^u))+s[13]+2850285829&4294967295)<<5&4294967295|p>>>27))+((p=d+(r^u&(e^r))+s[2]+4243563512&4294967295)<<9&4294967295|p>>>23))+((p=u+(e^r&(d^e))+s[7]+1735328473&4294967295)<<14&4294967295|p>>>18))+((p=r+(d^e&(u^d))+s[12]+2368359562&4294967295)<<20&4294967295|p>>>12))+((p=e+(r^u^d)+s[5]+4294588738&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^r^u)+s[8]+2272392833&4294967295)<<11&4294967295|p>>>21))+((p=u+(d^e^r)+s[11]+1839030562&4294967295)<<16&4294967295|p>>>16))+((p=r+(u^d^e)+s[14]+4259657740&4294967295)<<23&4294967295|p>>>9))+((p=e+(r^u^d)+s[1]+2763975236&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^r^u)+s[4]+1272893353&4294967295)<<11&4294967295|p>>>21))+((p=u+(d^e^r)+s[7]+4139469664&4294967295)<<16&4294967295|p>>>16))+((p=r+(u^d^e)+s[10]+3200236656&4294967295)<<23&4294967295|p>>>9))+((p=e+(r^u^d)+s[13]+681279174&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^r^u)+s[0]+3936430074&4294967295)<<11&4294967295|p>>>21))+((p=u+(d^e^r)+s[3]+3572445317&4294967295)<<16&4294967295|p>>>16))+((p=r+(u^d^e)+s[6]+76029189&4294967295)<<23&4294967295|p>>>9))+((p=e+(r^u^d)+s[9]+3654602809&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^r^u)+s[12]+3873151461&4294967295)<<11&4294967295|p>>>21))+((p=u+(d^e^r)+s[15]+530742520&4294967295)<<16&4294967295|p>>>16))+((p=r+(u^d^e)+s[2]+3299628645&4294967295)<<23&4294967295|p>>>9))+((p=e+(u^(r|~d))+s[0]+4096336452&4294967295)<<6&4294967295|p>>>26))+((p=d+(r^(e|~u))+s[7]+1126891415&4294967295)<<10&4294967295|p>>>22))+((p=u+(e^(d|~r))+s[14]+2878612391&4294967295)<<15&4294967295|p>>>17))+((p=r+(d^(u|~e))+s[5]+4237533241&4294967295)<<21&4294967295|p>>>11))+((p=e+(u^(r|~d))+s[12]+1700485571&4294967295)<<6&4294967295|p>>>26))+((p=d+(r^(e|~u))+s[3]+2399980690&4294967295)<<10&4294967295|p>>>22))+((p=u+(e^(d|~r))+s[10]+4293915773&4294967295)<<15&4294967295|p>>>17))+((p=r+(d^(u|~e))+s[1]+2240044497&4294967295)<<21&4294967295|p>>>11))+((p=e+(u^(r|~d))+s[8]+1873313359&4294967295)<<6&4294967295|p>>>26))+((p=d+(r^(e|~u))+s[15]+4264355552&4294967295)<<10&4294967295|p>>>22))+((p=u+(e^(d|~r))+s[6]+2734768916&4294967295)<<15&4294967295|p>>>17))+((p=r+(d^(u|~e))+s[13]+1309151649&4294967295)<<21&4294967295|p>>>11))+((d=(e=r+((p=e+(u^(r|~d))+s[4]+4149444226&4294967295)<<6&4294967295|p>>>26))+((p=d+(r^(e|~u))+s[11]+3174756917&4294967295)<<10&4294967295|p>>>22))^((u=d+((p=u+(e^(d|~r))+s[2]+718787259&4294967295)<<15&4294967295|p>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(u+(p<<21&4294967295|p>>>11))&4294967295,i.g[2]=i.g[2]+u&4294967295,i.g[3]=i.g[3]+d&4294967295}function Yr(i,e){this.h=e;for(var r=[],s=!0,u=i.length-1;0<=u;u--){var d=0|i[u];s&&d==e||(r[u]=d,s=!1)}this.g=r}(ve=di.prototype).Oa=function(i){this.M=i},ve.ha=function(i,e,r,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():mt.g(),this.C=function ce(i){return i.h||(i.h=i.i())}(this.u?this.u:mt),this.g.onreadystatechange=Le(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(d){return void hi(this,d)}if(i=r||"",r=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var u in s)r.set(u,s[u]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const d of s.keys())r.set(d,s.get(d))}s=Array.from(r.keys()).find(d=>"content-type"==d.toLowerCase()),u=ue.FormData&&i instanceof ue.FormData,!(0<=Xe(Cs,e))||s||u||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,p]of r)this.g.setRequestHeader(d,p);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Zo(this),0<this.B&&((this.L=function Rr(i){return Xt&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Le(this.ua,this)):this.A=Ge(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){hi(this,d)}},ve.ua=function(){typeof Ye<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dn(this,"timeout"),this.abort(8))},ve.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Dn(this,"complete"),Dn(this,"abort"),_i(this))},ve.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_i(this,!0)),di.$.N.call(this)},ve.La=function(){this.s||(this.G||this.v||this.l?Si(this):this.kb())},ve.kb=function(){Si(this)},ve.isActive=function(){return!!this.g},ve.da=function(){try{return 2<Hi(this)?this.g.status:-1}catch{return-1}},ve.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ve.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Fa(e)}},ve.Ia=function(){return this.m},ve.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ve=Fe.prototype).ra=8,ve.H=1,ve.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const u=new Ct(this,this.l,i);let d=this.s;if(this.U&&(d?(d=dn(d),En(d,this.U)):d=this.U),null!==this.o||this.O||(u.I=d,d=null),this.P)e:{for(var e=0,r=0;r<this.j.length;r++){var s=this.j[r];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=r;break e}if(4096===e||r===this.j.length-1){e=r+1;break e}}e=1e3}else e=1e3;e=Ht(this,u,e),_r(r=Te(this.I),"RID",i),_r(r,"CVER",22),this.F&&_r(r,"X-HTTP-Session-Id",this.F),de(this,r),d&&(this.O?e="headers="+encodeURIComponent(String(Z(d)))+"&"+e:this.o&&G(r,this.o,d)),ns(this.i,u),this.bb&&_r(r,"TYPE","init"),this.P?(_r(r,"$req",e),_r(r,"SID","null"),u.aa=!0,J(u,r,null)):J(u,r,e),this.H=2}}else 3==this.H&&(i?L(this,i):0==this.j.length||ea(this.i)||L(this))},ve.Ma=function(){if(this.u=null,ui(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=Tn(Le(this.jb,this),i)}},ve.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,xt(10),Ut(this),ui(this))},ve.ib=function(){null!=this.v&&(this.v=null,Ut(this),Tr(this),xt(19))},ve.pb=function(i){i?(this.l.info("Successfully pinged google.com"),xt(2)):(this.l.info("Failed to ping google.com"),xt(1))},ve.isActive=function(){return!!this.h&&this.h.isActive(this)},(ve=No.prototype).Ba=function(){},ve.Aa=function(){},ve.za=function(){},ve.ya=function(){},ve.isActive=function(){return!0},ve.Va=function(){},Vi.prototype.g=function(i,e){return new sr(i,e)},dt(sr,ur),sr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,r=this.h||void 0;xt(0),i.Y=e,i.na=r||{},i.G=i.aa,i.I=co(i,null,i.Y),P(i)},sr.prototype.close=function(){it(this.g)},sr.prototype.u=function(i){var e=this.g;if("string"==typeof i){var r={};r.__data__=i,i=r}else this.v&&((r={}).__data__=kr(i),i=r);e.j.push(new Yo(e.fb++,i)),3==e.H&&P(e)},sr.prototype.N=function(){this.g.h=null,delete this.j,it(this.g),delete this.g,sr.$.N.call(this)},dt(va,Ie),dt(bs,ht),dt(io,No),io.prototype.Ba=function(){Dn(this.g,"a")},io.prototype.Aa=function(i){Dn(this.g,new va(i))},io.prototype.za=function(i){Dn(this.g,new bs)},io.prototype.ya=function(){Dn(this.g,"b")},dt(zi,function _a(){this.blockSize=-1}),zi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},zi.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var r=e-this.blockSize,s=this.m,u=this.h,d=0;d<e;){if(0==u)for(;d<=r;)Mi(this,i,d),d+=this.blockSize;if("string"==typeof i){for(;d<e;)if(s[u++]=i.charCodeAt(d++),u==this.blockSize){Mi(this,s),u=0;break}}else for(;d<e;)if(s[u++]=i[d++],u==this.blockSize){Mi(this,s),u=0;break}}this.h=u,this.i+=e},zi.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var r=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&r,r/=256;for(this.j(i),i=Array(16),e=r=0;4>e;++e)for(var s=0;32>s;s+=8)i[r++]=this.g[e]>>>s&255;return i};var Zi={};function Oi(i){return-128<=i&&128>i?function Wt(i,e){var r=Zi;return Object.prototype.hasOwnProperty.call(r,i)?r[i]:r[i]=e(i)}(i,function(e){return new Yr([0|e],0>e?-1:0)}):new Yr([0|i],0>i?-1:0)}function ho(i){if(isNaN(i)||!isFinite(i))return Wi;if(0>i)return Xi(ho(-i));for(var e=[],r=1,s=0;i>=r;s++)e[s]=i/r|0,r*=na;return new Yr(e,0)}var na=4294967296,Wi=Oi(0),Va=Oi(1),du=Oi(16777216);function is(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function wo(i){return-1==i.h}function Xi(i){for(var e=i.g.length,r=[],s=0;s<e;s++)r[s]=~i.g[s];return new Yr(r,~i.h).add(Va)}function ra(i,e){return i.add(Xi(e))}function $a(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function ya(i,e){this.g=i,this.h=e}function Pl(i,e){if(is(e))throw Error("division by zero");if(is(i))return new ya(Wi,Wi);if(wo(i))return e=Pl(Xi(i),e),new ya(Xi(e.g),Xi(e.h));if(wo(e))return e=Pl(i,Xi(e)),new ya(Xi(e.g),e.h);if(30<i.g.length){if(wo(i)||wo(e))throw Error("slowDivide_ only works with positive integers.");for(var r=Va,s=e;0>=s.X(i);)r=ol(r),s=ol(s);var u=ws(r,1),d=ws(s,1);for(s=ws(s,2),r=ws(r,2);!is(s);){var p=d.add(s);0>=p.X(i)&&(u=u.add(r),d=p),s=ws(s,1),r=ws(r,1)}return e=ra(i,u.R(e)),new ya(u,e)}for(u=Wi;0<=i.X(e);){for(r=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(r)/Math.LN2))?1:Math.pow(2,s-48),p=(d=ho(r)).R(e);wo(p)||0<p.X(i);)p=(d=ho(r-=s)).R(e);is(d)&&(d=Va),u=u.add(d),i=ra(i,p)}return new ya(u,i)}function ol(i){for(var e=i.g.length+1,r=[],s=0;s<e;s++)r[s]=i.D(s)<<1|i.D(s-1)>>>31;return new Yr(r,i.h)}function ws(i,e){var r=e>>5;e%=32;for(var s=i.g.length-r,u=[],d=0;d<s;d++)u[d]=0<e?i.D(d+r)>>>e|i.D(d+r+1)<<32-e:i.D(d+r);return new Yr(u,i.h)}(ve=Yr.prototype).ea=function(){if(wo(this))return-Xi(this).ea();for(var i=0,e=1,r=0;r<this.g.length;r++){var s=this.D(r);i+=(0<=s?s:na+s)*e,e*=na}return i},ve.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(is(this))return"0";if(wo(this))return"-"+Xi(this).toString(i);for(var e=ho(Math.pow(i,6)),r=this,s="";;){var u=Pl(r,e).g,d=((0<(r=ra(r,u.R(e))).g.length?r.g[0]:r.h)>>>0).toString(i);if(is(r=u))return d+s;for(;6>d.length;)d="0"+d;s=d+s}},ve.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},ve.X=function(i){return wo(i=ra(this,i))?-1:is(i)?0:1},ve.abs=function(){return wo(this)?Xi(this):this},ve.add=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0,u=0;u<=e;u++){var d=s+(65535&this.D(u))+(65535&i.D(u)),p=(d>>>16)+(this.D(u)>>>16)+(i.D(u)>>>16);s=p>>>16,r[u]=(p&=65535)<<16|(d&=65535)}return new Yr(r,-2147483648&r[r.length-1]?-1:0)},ve.R=function(i){if(is(this)||is(i))return Wi;if(wo(this))return wo(i)?Xi(this).R(Xi(i)):Xi(Xi(this).R(i));if(wo(i))return Xi(this.R(Xi(i)));if(0>this.X(du)&&0>i.X(du))return ho(this.ea()*i.ea());for(var e=this.g.length+i.g.length,r=[],s=0;s<2*e;s++)r[s]=0;for(s=0;s<this.g.length;s++)for(var u=0;u<i.g.length;u++){var d=this.D(s)>>>16,p=65535&this.D(s),A=i.D(u)>>>16,N=65535&i.D(u);r[2*s+2*u]+=p*N,$a(r,2*s+2*u),r[2*s+2*u+1]+=d*N,$a(r,2*s+2*u+1),r[2*s+2*u+1]+=p*A,$a(r,2*s+2*u+1),r[2*s+2*u+2]+=d*A,$a(r,2*s+2*u+2)}for(s=0;s<e;s++)r[s]=r[2*s+1]<<16|r[2*s];for(s=e;s<2*e;s++)r[s]=0;return new Yr(r,0)},ve.gb=function(i){return Pl(this,i).h},ve.and=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)&i.D(s);return new Yr(r,this.h&i.h)},ve.or=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)|i.D(s);return new Yr(r,this.h|i.h)},ve.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),r=[],s=0;s<e;s++)r[s]=this.D(s)^i.D(s);return new Yr(r,this.h^i.h)},Vi.prototype.createWebChannel=Vi.prototype.g,sr.prototype.send=sr.prototype.u,sr.prototype.open=sr.prototype.m,sr.prototype.close=sr.prototype.close,pn.NO_ERROR=0,pn.TIMEOUT=8,pn.HTTP_ERROR=6,mn.COMPLETE="complete",Ae.EventType=K,K.OPEN="a",K.CLOSE="b",K.ERROR="c",K.MESSAGE="d",ur.prototype.listen=ur.prototype.O,di.prototype.listenOnce=di.prototype.P,di.prototype.getLastError=di.prototype.Sa,di.prototype.getLastErrorCode=di.prototype.Ia,di.prototype.getStatus=di.prototype.da,di.prototype.getResponseJson=di.prototype.Wa,di.prototype.getResponseText=di.prototype.ja,di.prototype.send=di.prototype.ha,di.prototype.setWithCredentials=di.prototype.Oa,zi.prototype.digest=zi.prototype.l,zi.prototype.reset=zi.prototype.reset,zi.prototype.update=zi.prototype.j,Yr.prototype.add=Yr.prototype.add,Yr.prototype.multiply=Yr.prototype.R,Yr.prototype.modulo=Yr.prototype.gb,Yr.prototype.compare=Yr.prototype.X,Yr.prototype.toNumber=Yr.prototype.ea,Yr.prototype.toString=Yr.prototype.toString,Yr.prototype.getBits=Yr.prototype.D,Yr.fromNumber=ho,Yr.fromString=function ps(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return Xi(ps(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=ho(Math.pow(e,8)),s=Wi,u=0;u<i.length;u+=8){var d=Math.min(8,i.length-u),p=parseInt(i.substring(u,u+d),e);8>d?(d=ho(Math.pow(e,d)),s=s.R(d).add(ho(p))):s=(s=s.R(r)).add(ho(p))}return s};var hu=pe.createWebChannelTransport=function(){return new Vi},C=pe.getStatEventTarget=function(){return st()},j=pe.ErrorCode=pn,Ne=pe.EventType=mn,$=pe.Event=Ln,De=pe.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ze=pe.FetchXmlHttpFactory=xo,Yt=pe.WebChannel=Ae,yn=pe.XhrIo=di,Pr=pe.Md5=zi,xr=pe.Integer=Yr;const Jr="@firebase/firestore";class or{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}or.UNAUTHENTICATED=new or(null),or.GOOGLE_CREDENTIALS=new or("google-credentials-uid"),or.FIRST_PARTY=new or("first-party-uid"),or.MOCK_USER=new or("mock-user");let ei="10.5.2";const Mr=new Q.Yd("@firebase/firestore");function wi(){return Mr.logLevel}function Xo(i){Mr.setLogLevel(i)}function sn(i,...e){if(Mr.logLevel<=Q.in.DEBUG){const r=e.map(ko);Mr.debug(`Firestore (${ei}): ${i}`,...r)}}function gi(i,...e){if(Mr.logLevel<=Q.in.ERROR){const r=e.map(ko);Mr.error(`Firestore (${ei}): ${i}`,...r)}}function $i(i,...e){if(Mr.logLevel<=Q.in.WARN){const r=e.map(ko);Mr.warn(`Firestore (${ei}): ${i}`,...r)}}function ko(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function zn(i="Unexpected state"){const e=`FIRESTORE (${ei}) INTERNAL ASSERTION FAILED: `+i;throw gi(e),new Error(e)}function Jn(i,e){i||zn()}function ia(i,e){i||zn()}function $n(i,e){return i}const Ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vn extends _e.ZR{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ni{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}class yi{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(or.UNAUTHENTICATED))}shutdown(){}}class Ml{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class fo{constructor(e){this.t=e,this.currentUser=or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){var s=this;let u=this.i;const d=z=>this.i!==u?(u=this.i,r(z)):Promise.resolve();let p=new Ni;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new Ni,e.enqueueRetryable(()=>d(this.currentUser))};const A=()=>{const z=p;e.enqueueRetryable((0,l.Z)(function*(){yield z.promise,yield d(s.currentUser)}))},N=z=>{sn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=z,this.auth.addAuthTokenListener(this.o),A()};this.t.onInit(z=>N(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?N(z):(sn("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new Ni)}},0),A()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(sn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Jn("string"==typeof s.accessToken),new yi(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Jn(null===e||"string"==typeof e),new or(e)}}class oo{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=or.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ea{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new oo(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ia{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vo{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){const s=d=>{null!=d.error&&sn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const p=d.token!==this.R;return this.R=d.token,sn("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const u=d=>{sn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.A.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.A.getImmediate({optional:!0});d?u(d):sn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Jn("string"==typeof r.token),this.R=r.token,new Ia(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function rc(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(r);else for(let s=0;s<i;s++)r[s]=Math.floor(256*Math.random());return r}class fu{static newId(){const r=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=rc(40);for(let d=0;d<u.length;++d)s.length<20&&u[d]<r&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[d]%62))}return s}}function gr(i,e){return i<e?-1:i>e?1:0}function oa(i,e,r){return i.length===e.length&&i.every((s,u)=>r(s,e[u]))}function xl(i){return i+"\0"}class Ei{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new vn(Ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new vn(Ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new vn(Ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vn(Ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ei.fromMillis(Date.now())}static fromDate(e){return Ei.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*r));return new Ei(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?gr(this.nanoseconds,e.nanoseconds):gr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ar{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ar(e)}static min(){return new ar(new Ei(0,0))}static max(){return new ar(new Ei(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class sa{constructor(e,r,s){void 0===r?r=0:r>e.length&&zn(),void 0===s?s=e.length-r:s>e.length-r&&zn(),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return 0===sa.comparator(this,e)}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof sa?e.forEach(s=>{r.push(s)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let u=0;u<s;u++){const d=e.get(u),p=r.get(u);if(d<p)return-1;if(d>p)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Wr extends sa{construct(e,r,s){return new Wr(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new vn(Ot.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(u=>u.length>0))}return new Wr(r)}static emptyPath(){return new Wr([])}}const os=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends sa{construct(e,r,s){return new Xn(e,r,s)}static isValidIdentifier(e){return os.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xn(["__name__"])}static fromServerFormat(e){const r=[];let s="",u=0;const d=()=>{if(0===s.length)throw new vn(Ot.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let p=!1;for(;u<e.length;){const A=e[u];if("\\"===A){if(u+1===e.length)throw new vn(Ot.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const N=e[u+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new vn(Ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=N,u+=2}else"`"===A?(p=!p,u++):"."!==A||p?(s+=A,u++):(d(),u++)}if(d(),p)throw new vn(Ot.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xn(r)}static emptyPath(){return new Xn([])}}class Wn{constructor(e){this.path=e}static fromPath(e){return new Wn(Wr.fromString(e))}static fromName(e){return new Wn(Wr.fromString(e).popFirst(5))}static empty(){return new Wn(Wr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,r){return Wr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Wn(new Wr(e.slice()))}}class sl{constructor(e,r,s,u){this.indexId=e,this.collectionGroup=r,this.fields=s,this.indexState=u}}function _d(i){return i.fields.find(e=>2===e.kind)}function As(i){return i.fields.filter(e=>2!==e.kind)}sl.UNKNOWN_ID=-1;class Ss{constructor(e,r){this.fieldPath=e,this.kind=r}}class Ba{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Ba(0,Ao.min())}}function Gi(i,e){const r=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,u=ar.fromTimestamp(1e9===s?new Ei(r+1,0):new Ei(r,s));return new Ao(u,Wn.empty(),e)}function pu(i){return new Ao(i.readTime,i.key,-1)}class Ao{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new Ao(ar.min(),Wn.empty(),-1)}static max(){return new Ao(ar.max(),Wn.empty(),-1)}}function oc(i,e){let r=i.readTime.compareTo(e.readTime);return 0!==r?r:(r=Wn.comparator(i.documentKey,e.documentKey),0!==r?r:gr(i.largestBatchId,e.largestBatchId))}const Jt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Bs(i){return al.apply(this,arguments)}function al(){return al=(0,l.Z)(function*(i){if(i.code!==Ot.FAILED_PRECONDITION||i.message!==Jt)throw i;sn("LocalStore","Unexpectedly lost primary lease")}),al.apply(this,arguments)}class Tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&zn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Tt((s,u)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,u)},this.catchCallback=d=>{this.wrapFailure(r,d).next(s,u)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Tt?r:Tt.resolve(r)}catch(r){return Tt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Tt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Tt.reject(r)}static resolve(e){return new Tt((r,s)=>{r(e)})}static reject(e){return new Tt((r,s)=>{s(e)})}static waitFor(e){return new Tt((r,s)=>{let u=0,d=0,p=!1;e.forEach(A=>{++u,A.next(()=>{++d,p&&d===u&&r()},N=>s(N))}),p=!0,d===u&&r()})}static or(e){let r=Tt.resolve(!1);for(const s of e)r=r.next(u=>u?Tt.resolve(u):s());return r}static forEach(e,r){const s=[];return e.forEach((u,d)=>{s.push(r.call(this,u,d))}),this.waitFor(s)}static mapArray(e,r){return new Tt((s,u)=>{const d=e.length,p=new Array(d);let A=0;for(let N=0;N<d;N++){const z=N;r(e[z]).next(se=>{p[z]=se,++A,A===d&&s(p)},se=>u(se))}})}static doWhile(e,r){return new Tt((s,u)=>{const d=()=>{!0===e()?r().next(()=>{d()},u):s()};d()})}}class Us{constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.V=new Ni,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{r.error?this.V.reject(new Ps(e,r.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=so(s.target.error);this.V.reject(new Ps(e,u))}}static open(e,r,s,u){try{return new Us(r,e.transaction(u,s))}catch(d){throw new Ps(r,d)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(sn("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const r=this.transaction.objectStore(e);return new gu(r)}}class _o{constructor(e,r,s){this.name=e,this.version=r,this.p=s,12.2===_o.S((0,_e.z$)())&&gi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return sn("SimpleDb","Removing database:",e),Ta(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,_e.hl)())return!1;if(_o.C())return!0;const e=(0,_e.z$)(),r=_o.S(e),s=0<r&&r<10,u=_o.v(e),d=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||d)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,r){return e.store(r)}static S(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static v(e){const r=e.match(/Android ([\d.]+)/i),s=r?r[1].split(".").slice(0,2).join("."):"-1";return Number(s)}O(e){var r=this;return(0,l.Z)(function*(){return r.db||(sn("SimpleDb","Opening database:",r.name),r.db=yield new Promise((s,u)=>{const d=indexedDB.open(r.name,r.version);d.onsuccess=p=>{s(p.target.result)},d.onblocked=()=>{u(new Ps(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=p=>{const A=p.target.error;u("VersionError"===A.name?new vn(Ot.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===A.name?new vn(Ot.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+A):new Ps(e,A))},d.onupgradeneeded=p=>{sn("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',p.oldVersion),r.p.N(p.target.result,d.transaction,p.oldVersion,r.version).next(()=>{sn("SimpleDb","Database upgrade to version "+r.version+" complete")})}})),r.B&&(r.db.onversionchange=s=>r.B(s)),r.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=r=>e(r))}runTransaction(e,r,s,u){var d=this;return(0,l.Z)(function*(){const p="readonly"===r;let A=0;for(;;){++A;try{d.db=yield d.O(e);const N=Us.open(d.db,e,p?"readonly":"readwrite",s),z=u(N).next(se=>(N.g(),se)).catch(se=>(N.abort(se),Tt.reject(se))).toPromise();return z.catch(()=>{}),yield N.m,z}catch(N){const z=N,se="FirebaseError"!==z.name&&A<3;if(sn("SimpleDb","Transaction failed with error:",z.message,"Retrying:",se),d.close(),!se)return Promise.reject(z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Lo{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ta(this.k.delete())}}class Ps extends vn{constructor(e,r){super(Ot.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Ms(i){return"IndexedDbTransactionError"===i.name}class gu{constructor(e){this.store=e}put(e,r){let s;return void 0!==r?(sn("SimpleDb","PUT",this.store.name,e,r),s=this.store.put(r,e)):(sn("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Ta(s)}add(e){return sn("SimpleDb","ADD",this.store.name,e,e),Ta(this.store.add(e))}get(e){return Ta(this.store.get(e)).next(r=>(void 0===r&&(r=null),sn("SimpleDb","GET",this.store.name,e,r),r))}delete(e){return sn("SimpleDb","DELETE",this.store.name,e),Ta(this.store.delete(e))}count(){return sn("SimpleDb","COUNT",this.store.name),Ta(this.store.count())}W(e,r){const s=this.options(e,r);if(s.index||"function"!=typeof this.store.getAll){const u=this.cursor(s),d=[];return this.G(u,(p,A)=>{d.push(A)}).next(()=>d)}{const u=this.store.getAll(s.range);return new Tt((d,p)=>{u.onerror=A=>{p(A.target.error)},u.onsuccess=A=>{d(A.target.result)}})}}j(e,r){const s=this.store.getAll(e,null===r?void 0:r);return new Tt((u,d)=>{s.onerror=p=>{d(p.target.error)},s.onsuccess=p=>{u(p.target.result)}})}H(e,r){sn("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,r);s.J=!1;const u=this.cursor(s);return this.G(u,(d,p,A)=>A.delete())}Y(e,r){let s;r?s=e:(s={},r=e);const u=this.cursor(s);return this.G(u,r)}Z(e){const r=this.cursor({});return new Tt((s,u)=>{r.onerror=d=>{const p=so(d.target.error);u(p)},r.onsuccess=d=>{const p=d.target.result;p?e(p.primaryKey,p.value).next(A=>{A?p.continue():s()}):s()}})}G(e,r){const s=[];return new Tt((u,d)=>{e.onerror=p=>{d(p.target.error)},e.onsuccess=p=>{const A=p.target.result;if(!A)return void u();const N=new Lo(A),z=r(A.primaryKey,A.value,N);if(z instanceof Tt){const se=z.catch(Me=>(N.done(),Tt.reject(Me)));s.push(se)}N.isDone?u():null===N.$?A.continue():A.continue(N.$)}}).next(()=>Tt.waitFor(s))}options(e,r){let s;return void 0!==e&&("string"==typeof e?s=e:r=e),{index:s,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const s=this.store.index(e.index);return e.J?s.openKeyCursor(e.range,r):s.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Ta(i){return new Tt((e,r)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const u=so(s.target.error);r(u)}})}let ll=!1;function so(i){const e=_o.S((0,_e.z$)());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(r)>=0){const s=new vn("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ll||(ll=!0,setTimeout(()=>{throw s},0)),s}}return i}class gs{constructor(e,r){this.asyncQueue=e,this.X=r,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var r=this;sn("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,l.Z)(function*(){r.task=null;try{sn("IndexBackiller",`Documents written: ${yield r.X.te()}`)}catch(s){Ms(s)?sn("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Bs(s)}yield r.ee(6e4)}))}}class sc{constructor(e,r){this.localStore=e,this.persistence=r}te(e=50){var r=this;return(0,l.Z)(function*(){return r.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>r.ne(s,e))})()}ne(e,r){const s=new Set;let u=r,d=!0;return Tt.doWhile(()=>!0===d&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(p=>{if(null!==p&&!s.has(p))return sn("IndexBackiller",`Processing collection: ${p}`),this.re(e,p,u).next(A=>{u-=A,s.add(p)});d=!1})).next(()=>r-u)}re(e,r,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(u=>this.localStore.localDocuments.getNextDocuments(e,r,u,s).next(d=>{const p=d.changes;return this.localStore.indexManager.updateIndexEntries(e,p).next(()=>this.ie(u,d)).next(A=>(sn("IndexBackiller",`Updating offset: ${A}`),this.localStore.indexManager.updateCollectionGroup(e,r,A))).next(()=>p.size)}))}ie(e,r){let s=e;return r.changes.forEach((u,d)=>{const p=pu(d);oc(p,s)>0&&(s=p)}),new Ao(s.readTime,s.documentKey,Math.max(r.batchId,e.largestBatchId))}}let Bi=(()=>{class i{constructor(r,s){this.previousValue=r,s&&(s.sequenceNumberHandler=u=>this.se(u),this.oe=u=>s.writeSequenceNumber(u))}se(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.oe&&this.oe(r),r}}return i._e=-1,i})();function ss(i){return null==i}function mu(i){return 0===i&&1/i==-1/0}function vu(i){return"number"==typeof i&&Number.isInteger(i)&&!mu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}function So(i){let e="";for(let r=0;r<i.length;r++)e.length>0&&(e=S(e)),e=y(i.get(r),e);return S(e)}function y(i,e){let r=e;const s=i.length;for(let u=0;u<s;u++){const d=i.charAt(u);switch(d){case"\0":r+="\x01\x10";break;case"\x01":r+="\x01\x11";break;default:r+=d}}return r}function S(i){return i+"\x01\x01"}function O(i){const e=i.length;if(Jn(e>=2),2===e)return Jn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Wr.emptyPath();const r=e-2,s=[];let u="";for(let d=0;d<e;){const p=i.indexOf("\x01",d);switch((p<0||p>r)&&zn(),i.charAt(p+1)){case"\x01":const A=i.substring(d,p);let N;0===u.length?N=A:(u+=A,N=u,u=""),s.push(N);break;case"\x10":u+=i.substring(d,p),u+="\0";break;case"\x11":u+=i.substring(d,p+1);break;default:zn()}d=p+2}return new Wr(s)}const T=["userId","batchId"];function F(i,e){return[i,So(e)]}function ae(i,e,r){return[i,So(e),r]}const be={},bt=["prefixPath","collectionGroup","readTime","documentId"],_n=["prefixPath","collectionGroup","documentId"],Pt=["collectionGroup","readTime","prefixPath","documentId"],Un=["canonicalId","targetId"],Ar=["targetId","path"],Di=["path","targetId"],li=["collectionId","parent"],ni=["indexId","uid"],Qo=["uid","sequenceNumber"],fi=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ul=["indexId","uid","orderedDocumentKey"],Da=["userId","collectionPath","documentId"],cl=["userId","collectionPath","largestBatchId"],_u=["userId","collectionGroup","largestBatchId"],Ca=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],ac=[...Ca,"documentOverlays"],yu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],js=yu,lc=[...js,"indexConfiguration","indexState","indexEntries"];class Ua extends Zr{constructor(e,r){super(),this.ae=e,this.currentSequenceNumber=r}}function Qi(i,e){const r=$n(i);return _o.M(r.ae,e)}function dl(i){let e=0;for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e++;return e}function aa(i,e){for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&e(r,i[r])}function ba(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Ii{constructor(e,r){this.comparator=e,this.root=r||Yi.EMPTY}insert(e,r){return new Ii(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Yi.BLACK,null,null))}remove(e){return new Ii(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yi.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(0===u)return r+s.left.size;u<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,s)=>(e(r,s),!1))}toString(){const e=[];return this.inorderTraversal((r,s)=>(e.push(`${r}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uc(this.root,e,this.comparator,!0)}}class uc{constructor(e,r,s,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=r?s(e.key,r):1,r&&u&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yi{constructor(e,r,s,u,d){this.key=e,this.value=r,this.color=null!=s?s:Yi.RED,this.left=null!=u?u:Yi.EMPTY,this.right=null!=d?d:Yi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,u,d){return new Yi(null!=e?e:this.key,null!=r?r:this.value,null!=s?s:this.color,null!=u?u:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let u=this;const d=s(e,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(e,r,s),null):0===d?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(e,r,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Yi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,u=this;if(r(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===r(e,u.key)){if(u.right.isEmpty())return Yi.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw zn();const e=this.left.check();if(e!==this.right.check())throw zn();return e+(this.isRed()?0:1)}}Yi.EMPTY=null,Yi.RED=!0,Yi.BLACK=!1,Yi.EMPTY=new class{constructor(){this.size=0}get key(){throw zn()}get value(){throw zn()}get color(){throw zn()}get left(){throw zn()}get right(){throw zn()}copy(e,r,s,u,d){return this}insert(e,r,s){return new Yi(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ci{constructor(e){this.comparator=e,this.data=new Ii(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,s)=>(e(r),!1))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;r(u.key)}}forEachWhile(e,r){let s;for(s=void 0!==r?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new cc(this.data.getIterator())}getIteratorFrom(e){return new cc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(s=>{r=r.add(s)}),r}isEqual(e){if(!(e instanceof ci)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,d=s.getNext().key;if(0!==this.comparator(u,d))return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new ci(this.comparator);return r.data=e,r}}class cc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function wa(i){return i.hasNext()?i.getNext():void 0}class as{constructor(e){this.fields=e,e.sort(Xn.comparator)}static empty(){return new as([])}unionWith(e){let r=new ci(Xn.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new as(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return oa(this.fields,e.fields,(r,s)=>r.isEqual(s))}}class Ah extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function yd(){return typeof atob<"u"}class yo{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(u){try{return atob(u)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new Ah("Invalid base64 string: "+d):d}}(e);return new yo(r)}static fromUint8Array(e){const r=function(u){let d="";for(let p=0;p<u.length;++p)d+=String.fromCharCode(u[p]);return d}(e);return new yo(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let u=0;u<r.length;u++)s[u]=r.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yo.EMPTY_BYTE_STRING=new yo("");const Sh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function la(i){if(Jn(!!i),"string"==typeof i){let e=0;const r=Sh.exec(i);if(Jn(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ci(i.seconds),nanos:Ci(i.nanos)}}function Ci(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Hs(i){return"string"==typeof i?yo.fromBase64String(i):yo.fromUint8Array(i)}function ja(i){var e,r;return"server_timestamp"===(null===(r=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===r?void 0:r.stringValue)}function ua(i){const e=i.mapValue.fields.__previous_value__;return ja(e)?ua(e):e}function Ha(i){const e=la(i.mapValue.fields.__local_write_time__.timestampValue);return new Ei(e.seconds,e.nanos)}class um{constructor(e,r,s,u,d,p,A,N,z){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=u,this.ssl=d,this.forceLongPolling=p,this.autoDetectLongPolling=A,this.longPollingOptions=N,this.useFetchStreams=z}}class zs{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new zs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof zs&&e.projectId===this.projectId&&e.database===this.database}}const Ws={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ol={nullValue:"NULL_VALUE"};function Ro(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ja(i)?4:fc(i)?9007199254740991:10:zn()}function Gs(i,e){if(i===e)return!0;const r=Ro(i);if(r!==Ro(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ha(i).isEqual(Ha(e));case 3:return function(u,d){if("string"==typeof u.timestampValue&&"string"==typeof d.timestampValue&&u.timestampValue.length===d.timestampValue.length)return u.timestampValue===d.timestampValue;const p=la(u.timestampValue),A=la(d.timestampValue);return p.seconds===A.seconds&&p.nanos===A.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return d=e,Hs(i.bytesValue).isEqual(Hs(d.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(u,d){return Ci(u.geoPointValue.latitude)===Ci(d.geoPointValue.latitude)&&Ci(u.geoPointValue.longitude)===Ci(d.geoPointValue.longitude)}(i,e);case 2:return function(u,d){if("integerValue"in u&&"integerValue"in d)return Ci(u.integerValue)===Ci(d.integerValue);if("doubleValue"in u&&"doubleValue"in d){const p=Ci(u.doubleValue),A=Ci(d.doubleValue);return p===A?mu(p)===mu(A):isNaN(p)&&isNaN(A)}return!1}(i,e);case 9:return oa(i.arrayValue.values||[],e.arrayValue.values||[],Gs);case 10:return function(u,d){const p=u.mapValue.fields||{},A=d.mapValue.fields||{};if(dl(p)!==dl(A))return!1;for(const N in p)if(p.hasOwnProperty(N)&&(void 0===A[N]||!Gs(p[N],A[N])))return!1;return!0}(i,e);default:return zn()}var d}function Aa(i,e){return void 0!==(i.values||[]).find(r=>Gs(r,e))}function Ys(i,e){if(i===e)return 0;const r=Ro(i),s=Ro(e);if(r!==s)return gr(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return gr(i.booleanValue,e.booleanValue);case 2:return function(d,p){const A=Ci(d.integerValue||d.doubleValue),N=Ci(p.integerValue||p.doubleValue);return A<N?-1:A>N?1:A===N?0:isNaN(A)?isNaN(N)?0:-1:1}(i,e);case 3:return Ed(i.timestampValue,e.timestampValue);case 4:return Ed(Ha(i),Ha(e));case 5:return gr(i.stringValue,e.stringValue);case 6:return function(d,p){const A=Hs(d),N=Hs(p);return A.compareTo(N)}(i.bytesValue,e.bytesValue);case 7:return function(d,p){const A=d.split("/"),N=p.split("/");for(let z=0;z<A.length&&z<N.length;z++){const se=gr(A[z],N[z]);if(0!==se)return se}return gr(A.length,N.length)}(i.referenceValue,e.referenceValue);case 8:return function(d,p){const A=gr(Ci(d.latitude),Ci(p.latitude));return 0!==A?A:gr(Ci(d.longitude),Ci(p.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(d,p){const A=d.values||[],N=p.values||[];for(let z=0;z<A.length&&z<N.length;++z){const se=Ys(A[z],N[z]);if(se)return se}return gr(A.length,N.length)}(i.arrayValue,e.arrayValue);case 10:return function(d,p){if(d===Ws.mapValue&&p===Ws.mapValue)return 0;if(d===Ws.mapValue)return 1;if(p===Ws.mapValue)return-1;const A=d.fields||{},N=Object.keys(A),z=p.fields||{},se=Object.keys(z);N.sort(),se.sort();for(let Me=0;Me<N.length&&Me<se.length;++Me){const ct=gr(N[Me],se[Me]);if(0!==ct)return ct;const Nt=Ys(A[N[Me]],z[se[Me]]);if(0!==Nt)return Nt}return gr(N.length,se.length)}(i.mapValue,e.mapValue);default:throw zn()}}function Ed(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return gr(i,e);const r=la(i),s=la(e),u=gr(r.seconds,s.seconds);return 0!==u?u:gr(r.nanos,s.nanos)}function Sa(i){return hl(i)}function hl(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(r){const s=la(r);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Hs(i.bytesValue).toBase64():"referenceValue"in i?Wn.fromName(i.referenceValue).toString():"geoPointValue"in i?function(r){return`geo(${r.latitude},${r.longitude})`}(i.geoPointValue):"arrayValue"in i?function(r){let s="[",u=!0;for(const d of r.values||[])u?u=!1:s+=",",s+=hl(d);return s+"]"}(i.arrayValue):"mapValue"in i?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const p of s)d?d=!1:u+=",",u+=`${p}:${hl(r.fields[p])}`;return u+"}"}(i.mapValue):zn()}function za(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Nl(i){return!!i&&"integerValue"in i}function kl(i){return!!i&&"arrayValue"in i}function Id(i){return!!i&&"nullValue"in i}function hc(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function fl(i){return!!i&&"mapValue"in i}function ms(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return aa(i.mapValue.fields,(r,s)=>e.mapValue.fields[r]=ms(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(i.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=ms(i.arrayValue.values[r]);return e}return Object.assign({},i)}function fc(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function pc(i){return"nullValue"in i?Ol:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?za(zs.empty(),Wn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:zn()}function Td(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?za(zs.empty(),Wn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Ws:zn()}function Ra(i,e){const r=Ys(i.value,e.value);return 0!==r?r:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function pl(i,e){const r=Ys(i.value,e.value);return 0!==r?r:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class ti{constructor(e){this.value=e}static empty(){return new ti({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!fl(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=ms(r)}setAll(e){let r=Xn.emptyPath(),s={},u=[];e.forEach((p,A)=>{if(!r.isImmediateParentOf(A)){const N=this.getFieldsMap(r);this.applyChanges(N,s,u),s={},u=[],r=A.popLast()}p?s[A.lastSegment()]=ms(p):u.push(A.lastSegment())});const d=this.getFieldsMap(r);this.applyChanges(d,s,u)}delete(e){const r=this.field(e.popLast());fl(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Gs(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=r.mapValue.fields[e.get(s)];fl(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=u),r=u}return r.mapValue.fields}applyChanges(e,r,s){aa(r,(u,d)=>e[u]=d);for(const u of s)delete e[u]}clone(){return new ti(ms(this.value))}}function Dd(i){const e=[];return aa(i.fields,(r,s)=>{const u=new Xn([r]);if(fl(s)){const d=Dd(s.mapValue).fields;if(0===d.length)e.push(u);else for(const p of d)e.push(u.child(p))}else e.push(u)}),new as(e)}class Ai{constructor(e,r,s,u,d,p,A){this.key=e,this.documentType=r,this.version=s,this.readTime=u,this.createTime=d,this.data=p,this.documentState=A}static newInvalidDocument(e){return new Ai(e,0,ar.min(),ar.min(),ar.min(),ti.empty(),0)}static newFoundDocument(e,r,s,u){return new Ai(e,1,r,ar.min(),s,u,0)}static newNoDocument(e,r){return new Ai(e,2,r,ar.min(),ar.min(),ti.empty(),0)}static newUnknownDocument(e,r){return new Ai(e,3,r,ar.min(),ar.min(),ti.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(ar.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ti.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ar.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ai&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ai(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ca{constructor(e,r){this.position=e,this.inclusive=r}}function Cd(i,e,r){let s=0;for(let u=0;u<i.position.length;u++){const d=e[u],p=i.position[u];if(s=d.field.isKeyField()?Wn.comparator(Wn.fromName(p.referenceValue),r.key):Ys(p,r.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function Eu(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let r=0;r<i.position.length;r++)if(!Gs(i.position[r],e.position[r]))return!1;return!0}class gl{constructor(e,r="asc"){this.field=e,this.dir=r}}function Ll(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class ml{}class $r extends ml{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?"in"===r||"not-in"===r?this.createKeyFieldInFilter(e,r,s):new cm(e,r,s):"array-contains"===r?new bd(e,s):"in"===r?new ao(e,s):"not-in"===r?new _p(e,s):"array-contains-any"===r?new Tu(e,s):new $r(e,r,s)}static createKeyFieldInFilter(e,r,s){return"in"===r?new dm(e,s):new Fl(e,s)}matches(e){const r=e.data.field(this.field);return"!="===this.op?null!==r&&this.matchesComparison(Ys(r,this.value)):null!==r&&Ro(this.value)===Ro(r)&&this.matchesComparison(Ys(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return zn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends ml{constructor(e,r){super(),this.filters=e,this.op=r,this.ue=null}static create(e,r){return new mi(e,r)}matches(e){return Wa(this)?void 0===this.filters.find(r=>!r.matches(e)):void 0!==this.filters.find(r=>r.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Wa(i){return"and"===i.op}function Pa(i){return"or"===i.op}function Rh(i){return Iu(i)&&Wa(i)}function Iu(i){for(const e of i.filters)if(e instanceof mi)return!1;return!0}function Ph(i){if(i instanceof $r)return i.field.canonicalString()+i.op.toString()+Sa(i.value);if(Rh(i))return i.filters.map(e=>Ph(e)).join(",");{const e=i.filters.map(r=>Ph(r)).join(",");return`${i.op}(${e})`}}function gp(i,e){return i instanceof $r?(s=i,(u=e)instanceof $r&&s.op===u.op&&s.field.isEqual(u.field)&&Gs(s.value,u.value)):i instanceof mi?function(s,u){return u instanceof mi&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((d,p,A)=>d&&gp(p,u.filters[A]),!0)}(i,e):void zn();var s,u}function mp(i,e){const r=i.filters.concat(e);return mi.create(r,i.op)}function vp(i){return i instanceof $r?`${(r=i).field.canonicalString()} ${r.op} ${Sa(r.value)}`:i instanceof mi?function(r){return r.op.toString()+" {"+r.getFilters().map(vp).join(" ,")+"}"}(i):"Filter";var r}class cm extends $r{constructor(e,r,s){super(e,r,s),this.key=Wn.fromName(s.referenceValue)}matches(e){const r=Wn.comparator(e.key,this.key);return this.matchesComparison(r)}}class dm extends $r{constructor(e,r){super(e,"in",r),this.keys=Mh(0,r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Fl extends $r{constructor(e,r){super(e,"not-in",r),this.keys=Mh(0,r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function Mh(i,e){var r;return((null===(r=e.arrayValue)||void 0===r?void 0:r.values)||[]).map(s=>Wn.fromName(s.referenceValue))}class bd extends $r{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return kl(r)&&Aa(r.arrayValue,this.value)}}class ao extends $r{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return null!==r&&Aa(this.value.arrayValue,r)}}class _p extends $r{constructor(e,r){super(e,"not-in",r)}matches(e){if(Aa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return null!==r&&!Aa(this.value.arrayValue,r)}}class Tu extends $r{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!kl(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>Aa(this.value.arrayValue,s))}}class yp{constructor(e,r=null,s=[],u=[],d=null,p=null,A=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=u,this.limit=d,this.startAt=p,this.endAt=A,this.ce=null}}function Fo(i,e=null,r=[],s=[],u=null,d=null,p=null){return new yp(i,e,r,s,u,d,p)}function vs(i){const e=$n(i);if(null===e.ce){let r=e.path.canonicalString();null!==e.collectionGroup&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(s=>Ph(s)).join(","),r+="|ob:",r+=e.orderBy.map(s=>{return(d=s).field.canonicalString()+d.dir;var d}).join(","),ss(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(s=>Sa(s)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(s=>Sa(s)).join(",")),e.ce=r}return e.ce}function Vl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<i.orderBy.length;r++)if(!Ll(i.orderBy[r],e.orderBy[r]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let r=0;r<i.filters.length;r++)if(!gp(i.filters[r],e.filters[r]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Eu(i.startAt,e.startAt)&&Eu(i.endAt,e.endAt)}function vl(i){return Wn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function Ga(i,e){return i.filters.filter(r=>r instanceof $r&&r.field.isEqual(e))}function gc(i,e,r){let s=Ol,u=!0;for(const d of Ga(i,e)){let p=Ol,A=!0;switch(d.op){case"<":case"<=":p=pc(d.value);break;case"==":case"in":case">=":p=d.value;break;case">":p=d.value,A=!1;break;case"!=":case"not-in":p=Ol}Ra({value:s,inclusive:u},{value:p,inclusive:A})<0&&(s=p,u=A)}if(null!==r)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const p=r.position[d];Ra({value:s,inclusive:u},{value:p,inclusive:r.inclusive})<0&&(s=p,u=r.inclusive);break}return{value:s,inclusive:u}}function Ep(i,e,r){let s=Ws,u=!0;for(const d of Ga(i,e)){let p=Ws,A=!0;switch(d.op){case">=":case">":p=Td(d.value),A=!1;break;case"==":case"in":case"<=":p=d.value;break;case"<":p=d.value,A=!1;break;case"!=":case"not-in":p=Ws}pl({value:s,inclusive:u},{value:p,inclusive:A})>0&&(s=p,u=A)}if(null!==r)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const p=r.position[d];pl({value:s,inclusive:u},{value:p,inclusive:r.inclusive})>0&&(s=p,u=r.inclusive);break}return{value:s,inclusive:u}}class xs{constructor(e,r=null,s=[],u=[],d=null,p="F",A=null,N=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=u,this.limit=d,this.limitType=p,this.startAt=A,this.endAt=N,this.le=null,this.he=null,this.Pe=null}}function wd(i,e,r,s,u,d,p,A){return new xs(i,e,r,s,u,d,p,A)}function Eo(i){return new xs(i)}function $l(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Ya(i){return null!==i.collectionGroup}function Bl(i){const e=$n(i);if(null===e.le){e.le=[];const r=new Set;for(const d of e.explicitOrderBy)e.le.push(d),r.add(d.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let A=new ci(Xn.comparator);return p.filters.forEach(N=>{N.getFlattenedFilters().forEach(z=>{z.isInequality()&&(A=A.add(z.field))})}),A})(e).forEach(d=>{r.has(d.canonicalString())||d.isKeyField()||e.le.push(new gl(d,s))}),r.has(Xn.keyField().canonicalString())||e.le.push(new gl(Xn.keyField(),s))}return e.le}function Vo(i){const e=$n(i);return e.he||(e.he=function mc(i,e){if("F"===i.limitType)return Fo(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(u=>new gl(u.field,"desc"===u.dir?"asc":"desc"));const r=i.endAt?new ca(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new ca(i.startAt.position,i.startAt.inclusive):null;return Fo(i.path,i.collectionGroup,e,i.filters,i.limit,r,s)}}(e,Bl(i))),e.he}function Ad(i,e){const r=i.filters.concat([e]);return new xs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),r,i.limit,i.limitType,i.startAt,i.endAt)}function Sd(i,e,r){return new xs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,r,i.startAt,i.endAt)}function _l(i,e){return Vl(Vo(i),Vo(e))&&i.limitType===e.limitType}function Rd(i){return`${vs(Vo(i))}|lt:${i.limitType}`}function Ma(i){return`Query(target=${function(r){let s=r.path.canonicalString();return null!==r.collectionGroup&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(u=>vp(u)).join(", ")}]`),ss(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(u=>{return`${(p=u).field.canonicalString()} (${p.dir})`;var p}).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(u=>Sa(u)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(u=>Sa(u)).join(",")),`Target(${s})`}(Vo(i))}; limitType=${i.limitType})`}function qa(i,e){return e.isFoundDocument()&&function(s,u){const d=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(d):Wn.isDocumentKey(s.path)?s.path.isEqual(d):s.path.isImmediateParentOf(d)}(i,e)&&function(s,u){for(const d of Bl(s))if(!d.field.isKeyField()&&null===u.data.field(d.field))return!1;return!0}(i,e)&&function(s,u){for(const d of s.filters)if(!d.matches(u))return!1;return!0}(i,e)&&(u=e,!((s=i).startAt&&!function(p,A,N){const z=Cd(p,A,N);return p.inclusive?z<=0:z<0}(s.startAt,Bl(s),u)||s.endAt&&!function(p,A,N){const z=Cd(p,A,N);return p.inclusive?z>=0:z>0}(s.endAt,Bl(s),u)));var s,u}function Ul(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function xh(i){return(e,r)=>{let s=!1;for(const u of Bl(i)){const d=vc(u,e,r);if(0!==d)return d;s=s||u.field.isKeyField()}return 0}}function vc(i,e,r){const s=i.field.isKeyField()?Wn.comparator(e.key,r.key):function(d,p,A){const N=p.data.field(d),z=A.data.field(d);return null!==N&&null!==z?Ys(N,z):zn()}(i.field,e,r);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return zn()}}class xa{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0!==s)for(const[u,d]of s)if(this.equalsFn(u,e))return d}has(e){return void 0!==this.get(e)}set(e,r){const s=this.mapKeyFn(e),u=this.inner[s];if(void 0===u)return this.inner[s]=[[e,r]],void this.innerSize++;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],e))return void(u[d]=[e,r]);u.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return 1===s.length?delete this.inner[r]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){aa(this.inner,(r,s)=>{for(const[u,d]of s)e(u,d)})}isEmpty(){return ba(this.inner)}size(){return this.innerSize}}const _c=new Ii(Wn.comparator);function ls(){return _c}const yc=new Ii(Wn.comparator);function yl(...i){let e=yc;for(const r of i)e=e.insert(r.key,r);return e}function Du(i){let e=yc;return i.forEach((r,s)=>e=e.insert(r,s.overlayedDocument)),e}function _(){return m()}function f(){return m()}function m(){return new xa(i=>i.toString(),(i,e)=>i.isEqual(e))}const D=new Ii(Wn.comparator),q=new ci(Wn.comparator);function oe(...i){let e=q;for(const r of i)e=e.add(r);return e}const _t=new ci(gr);function Bt(){return _t}function In(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mu(e)?"-0":e}}function lr(i){return{integerValue:""+i}}function Er(i,e){return vu(e)?lr(e):In(i,e)}class qr{constructor(){this._=void 0}}function us(i,e,r){return i instanceof Oa?function(u,d){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return d&&ja(d)&&(d=ua(d)),d&&(p.fields.__previous_value__=d),{mapValue:p}}(r,e):i instanceof Os?Cu(i,e):i instanceof Ka?bu(i,e):function(u,d){const p=jl(u,d),A=Hl(p)+Hl(u.Ie);return Nl(p)&&Nl(u.Ie)?lr(A):In(u.serializer,A)}(i,e)}function _s(i,e,r){return i instanceof Os?Cu(i,e):i instanceof Ka?bu(i,e):r}function jl(i,e){return i instanceof Za?Nl(s=e)||(d=s)&&"doubleValue"in d?e:{integerValue:0}:null;var s,d}class Oa extends qr{}class Os extends qr{constructor(e){super(),this.elements=e}}function Cu(i,e){const r=Pd(e);for(const s of i.elements)r.some(u=>Gs(u,s))||r.push(s);return{arrayValue:{values:r}}}class Ka extends qr{constructor(e){super(),this.elements=e}}function bu(i,e){let r=Pd(e);for(const s of i.elements)r=r.filter(u=>!Gs(u,s));return{arrayValue:{values:r}}}class Za extends qr{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function Hl(i){return Ci(i.integerValue||i.doubleValue)}function Pd(i){return kl(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Xa{constructor(e,r){this.field=e,this.transform=r}}class wu{constructor(e,r){this.version=e,this.transformResults=r}}class ki{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ki}static exists(e){return new ki(void 0,e)}static updateTime(e){return new ki(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Md(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Qa{}function hm(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Ec(i.key,ki.none()):new El(i.key,i.data,ki.none());{const r=i.data,s=ti.empty();let u=new ci(Xn.comparator);for(let d of e.fields)if(!u.has(d)){let p=r.field(d);null===p&&d.length>1&&(d=d.popLast(),p=r.field(d)),null===p?s.delete(d):s.set(d,p),u=u.add(d)}return new $o(i.key,s,new as(u.toArray()),ki.none())}}function Tp(i,e,r){i instanceof El?function(u,d,p){const A=u.value.clone(),N=Nh(u.fieldTransforms,d,p.transformResults);A.setAll(N),d.convertToFoundDocument(p.version,A).setHasCommittedMutations()}(i,e,r):i instanceof $o?function(u,d,p){if(!Md(u.precondition,d))return void d.convertToUnknownDocument(p.version);const A=Nh(u.fieldTransforms,d,p.transformResults),N=d.data;N.setAll(Au(u)),N.setAll(A),d.convertToFoundDocument(p.version,N).setHasCommittedMutations()}(i,e,r):e.convertToNoDocument(r.version).setHasCommittedMutations()}function zl(i,e,r,s){return i instanceof El?function(d,p,A,N){if(!Md(d.precondition,p))return A;const z=d.value.clone(),se=fm(d.fieldTransforms,N,p);return z.setAll(se),p.convertToFoundDocument(p.version,z).setHasLocalMutations(),null}(i,e,r,s):i instanceof $o?function(d,p,A,N){if(!Md(d.precondition,p))return A;const z=fm(d.fieldTransforms,N,p),se=p.data;return se.setAll(Au(d)),se.setAll(z),p.convertToFoundDocument(p.version,se).setHasLocalMutations(),null===A?null:A.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(Me=>Me.field))}(i,e,r,s):(A=r,Md(i.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):A);var p,A}function ay(i,e){let r=null;for(const s of i.fieldTransforms){const u=e.data.field(s.field),d=jl(s.transform,u||null);null!=d&&(null===r&&(r=ti.empty()),r.set(s.field,d))}return r||null}function Oh(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(u=e.fieldTransforms,!!(void 0===(s=i.fieldTransforms)&&void 0===u||s&&u&&oa(s,u,(d,p)=>function Ip(i,e){return i.field.isEqual(e.field)&&(u=e.transform,(s=i.transform)instanceof Os&&u instanceof Os||s instanceof Ka&&u instanceof Ka?oa(s.elements,u.elements,Gs):s instanceof Za&&u instanceof Za?Gs(s.Ie,u.Ie):s instanceof Oa&&u instanceof Oa);var s,u}(d,p))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var s,u}class El extends Qa{constructor(e,r,s,u=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class $o extends Qa{constructor(e,r,s,u,d=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=u,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function Au(i){const e=new Map;return i.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=i.data.field(r);e.set(r,s)}}),e}function Nh(i,e,r){const s=new Map;Jn(i.length===r.length);for(let u=0;u<r.length;u++){const d=i[u],p=d.transform,A=e.data.field(d.field);s.set(d.field,_s(p,A,r[u]))}return s}function fm(i,e,r){const s=new Map;for(const u of i){const d=u.transform,p=r.data.field(u.field);s.set(u.field,us(d,p,e))}return s}class Ec extends Qa{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kh extends Qa{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Wl{constructor(e,r,s,u){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(e.key)&&Tp(d,e,s[u])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=zl(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=zl(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=f();return this.mutations.forEach(u=>{const d=e.get(u.key),p=d.overlayedDocument;let A=this.applyToLocalView(p,d.mutatedFields);A=r.has(u.key)?null:A;const N=hm(p,A);null!==N&&s.set(u.key,N),p.isValidDocument()||p.convertToNoDocument(ar.min())}),s}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),oe())}isEqual(e){return this.batchId===e.batchId&&oa(this.mutations,e.mutations,(r,s)=>Oh(r,s))&&oa(this.baseMutations,e.baseMutations,(r,s)=>Oh(r,s))}}class Dp{constructor(e,r,s,u){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=u}static from(e,r,s){Jn(e.mutations.length===s.length);let u=D;const d=e.mutations;for(let p=0;p<d.length;p++)u=u.insert(d[p].key,s[p].version);return new Dp(e,r,s,u)}}class Cp{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class bp{constructor(e,r){this.count=e,this.unchangedNames=r}}var Io,ii;function wp(i){switch(i){default:return zn();case Ot.CANCELLED:case Ot.UNKNOWN:case Ot.DEADLINE_EXCEEDED:case Ot.RESOURCE_EXHAUSTED:case Ot.INTERNAL:case Ot.UNAVAILABLE:case Ot.UNAUTHENTICATED:return!1;case Ot.INVALID_ARGUMENT:case Ot.NOT_FOUND:case Ot.ALREADY_EXISTS:case Ot.PERMISSION_DENIED:case Ot.FAILED_PRECONDITION:case Ot.ABORTED:case Ot.OUT_OF_RANGE:case Ot.UNIMPLEMENTED:case Ot.DATA_LOSS:return!0}}function pm(i){if(void 0===i)return gi("GRPC error has no .code"),Ot.UNKNOWN;switch(i){case Io.OK:return Ot.OK;case Io.CANCELLED:return Ot.CANCELLED;case Io.UNKNOWN:return Ot.UNKNOWN;case Io.DEADLINE_EXCEEDED:return Ot.DEADLINE_EXCEEDED;case Io.RESOURCE_EXHAUSTED:return Ot.RESOURCE_EXHAUSTED;case Io.INTERNAL:return Ot.INTERNAL;case Io.UNAVAILABLE:return Ot.UNAVAILABLE;case Io.UNAUTHENTICATED:return Ot.UNAUTHENTICATED;case Io.INVALID_ARGUMENT:return Ot.INVALID_ARGUMENT;case Io.NOT_FOUND:return Ot.NOT_FOUND;case Io.ALREADY_EXISTS:return Ot.ALREADY_EXISTS;case Io.PERMISSION_DENIED:return Ot.PERMISSION_DENIED;case Io.FAILED_PRECONDITION:return Ot.FAILED_PRECONDITION;case Io.ABORTED:return Ot.ABORTED;case Io.OUT_OF_RANGE:return Ot.OUT_OF_RANGE;case Io.UNIMPLEMENTED:return Ot.UNIMPLEMENTED;case Io.DATA_LOSS:return Ot.DATA_LOSS;default:return zn()}}(ii=Io||(Io={}))[ii.OK=0]="OK",ii[ii.CANCELLED=1]="CANCELLED",ii[ii.UNKNOWN=2]="UNKNOWN",ii[ii.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ii[ii.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ii[ii.NOT_FOUND=5]="NOT_FOUND",ii[ii.ALREADY_EXISTS=6]="ALREADY_EXISTS",ii[ii.PERMISSION_DENIED=7]="PERMISSION_DENIED",ii[ii.UNAUTHENTICATED=16]="UNAUTHENTICATED",ii[ii.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ii[ii.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ii[ii.ABORTED=10]="ABORTED",ii[ii.OUT_OF_RANGE=11]="OUT_OF_RANGE",ii[ii.UNIMPLEMENTED=12]="UNIMPLEMENTED",ii[ii.INTERNAL=13]="INTERNAL",ii[ii.UNAVAILABLE=14]="UNAVAILABLE",ii[ii.DATA_LOSS=15]="DATA_LOSS";function Ap(){return new TextEncoder}const uy=new xr([4294967295,4294967295],0);function Sp(i){const e=Ap().encode(i),r=new Pr;return r.update(e),new Uint8Array(r.digest())}function gm(i){const e=new DataView(i.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),d=e.getUint32(12,!0);return[new xr([r,s],0),new xr([u,d],0)]}class Rp{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new Fh(`Invalid padding: ${r}`);if(s<0)throw new Fh(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Fh(`Invalid hash count: ${s}`);if(0===e.length&&0!==r)throw new Fh(`Invalid padding when bitmap length is 0: ${r}`);this.Te=8*e.length-r,this.Ee=xr.fromNumber(this.Te)}de(e,r,s){let u=e.add(r.multiply(xr.fromNumber(s)));return 1===u.compare(uy)&&(u=new xr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const r=Sp(e),[s,u]=gm(r);for(let d=0;d<this.hashCount;d++){const p=this.de(s,u,d);if(!this.Ae(p))return!1}return!0}static create(e,r,s){const u=e%8==0?0:8-e%8,d=new Uint8Array(Math.ceil(e/8)),p=new Rp(d,u,r);return s.forEach(A=>p.insert(A)),p}insert(e){if(0===this.Te)return;const r=Sp(e),[s,u]=gm(r);for(let d=0;d<this.hashCount;d++){const p=this.de(s,u,d);this.Re(p)}}Re(e){const r=Math.floor(e/8);this.bitmap[r]|=1<<e%8}}class Fh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ic{constructor(e,r,s,u,d){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const u=new Map;return u.set(e,Tc.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new Ic(ar.min(),u,new Ii(gr),ls(),oe())}}class Tc{constructor(e,r,s,u,d){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Tc(s,r,oe(),oe(),oe())}}class ys{constructor(e,r,s,u){this.Ve=e,this.removedTargetIds=r,this.key=s,this.me=u}}class Vh{constructor(e,r){this.targetId=e,this.fe=r}}class Il{constructor(e,r,s=yo.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=u}}class xd{constructor(){this.ge=0,this.pe=vm(),this.ye=yo.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=oe(),r=oe(),s=oe();return this.pe.forEach((u,d)=>{switch(d){case 0:e=e.add(u);break;case 2:r=r.add(u);break;case 1:s=s.add(u);break;default:zn()}}),new Tc(this.ye,this.we,e,r,s)}Fe(){this.Se=!1,this.pe=vm()}Me(e,r){this.Se=!0,this.pe=this.pe.insert(e,r)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class mm{constructor(e){this.Le=e,this.ke=new Map,this.qe=ls(),this.Qe=Dc(),this.Ke=new Ii(gr)}$e(e){for(const r of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me);for(const r of e.removedTargetIds)this.We(r,e.key,e.me)}Ge(e){this.forEachTarget(e,r=>{const s=this.ze(r);switch(e.state){case 0:this.je(r)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(r);break;case 3:this.je(r)&&(s.Be(),s.Ce(e.resumeToken));break;case 4:this.je(r)&&(this.He(r),s.Ce(e.resumeToken));break;default:zn()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ke.forEach((s,u)=>{this.je(u)&&r(u)})}Je(e){const r=e.targetId,s=e.fe.count,u=this.Ye(r);if(u){const d=u.target;if(vl(d))if(0===s){const p=new Wn(d.path);this.We(r,p,Ai.newNoDocument(p,ar.min()))}else Jn(1===s);else{const p=this.Ze(r);if(p!==s){const A=this.Xe(e),N=A?this.et(A,e,p):1;0!==N&&(this.He(r),this.Ke=this.Ke.insert(r,2===N?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const r=e.fe.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:d=0}=r;let p,A;try{p=Hs(s).toUint8Array()}catch(N){if(N instanceof Ah)return $i("Decoding the base64 bloom filter in existence filter failed ("+N.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw N}try{A=new Rp(p,u,d)}catch(N){return $i(N instanceof Fh?"BloomFilter error: ":"Applying bloom filter failed: ",N),null}return 0===A.Te?null:A}et(e,r,s){return r.fe.count===s-this.rt(e,r.targetId)?0:2}rt(e,r){const s=this.Le.getRemoteKeysForTarget(r);let u=0;return s.forEach(d=>{const p=this.Le.nt(),A=`projects/${p.projectId}/databases/${p.database}/documents/${d.path.canonicalString()}`;e.mightContain(A)||(this.We(r,d,null),u++)}),u}it(e){const r=new Map;this.ke.forEach((d,p)=>{const A=this.Ye(p);if(A){if(d.current&&vl(A.target)){const N=new Wn(A.target.path);null!==this.qe.get(N)||this.st(p,N)||this.We(p,N,Ai.newNoDocument(N,e))}d.De&&(r.set(p,d.ve()),d.Fe())}});let s=oe();this.Qe.forEach((d,p)=>{let A=!0;p.forEachWhile(N=>{const z=this.Ye(N);return!z||"TargetPurposeLimboResolution"===z.purpose||(A=!1,!1)}),A&&(s=s.add(d))}),this.qe.forEach((d,p)=>p.setReadTime(e));const u=new Ic(e,r,this.Ke,this.qe,s);return this.qe=ls(),this.Qe=Dc(),this.Ke=new Ii(gr),u}Ue(e,r){if(!this.je(e))return;const s=this.st(e,r.key)?2:0;this.ze(e).Me(r.key,s),this.qe=this.qe.insert(r.key,r),this.Qe=this.Qe.insert(r.key,this.ot(r.key).add(e))}We(e,r,s){if(!this.je(e))return;const u=this.ze(e);this.st(e,r)?u.Me(r,1):u.xe(r),this.Qe=this.Qe.insert(r,this.ot(r).delete(e)),s&&(this.qe=this.qe.insert(r,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const r=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let r=this.ke.get(e);return r||(r=new xd,this.ke.set(e,r)),r}ot(e){let r=this.Qe.get(e);return r||(r=new ci(gr),this.Qe=this.Qe.insert(e,r)),r}je(e){const r=null!==this.Ye(e);return r||sn("WatchChangeAggregator","Detected inactive target",e),r}Ye(e){const r=this.ke.get(e);return r&&r.be?null:this.Le._t(e)}He(e){this.ke.set(e,new xd),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.We(e,r,null)})}st(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Dc(){return new Ii(Wn.comparator)}function vm(){return new Ii(Wn.comparator)}const cy={asc:"ASCENDING",desc:"DESCENDING"},Pp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dy={and:"AND",or:"OR"};class Gl{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function $h(i,e){return i.useProto3Json||ss(e)?e:{value:e}}function Cc(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mp(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function xp(i,e){return Cc(i,e.toTimestamp())}function To(i){return Jn(!!i),ar.fromTimestamp(function(r){const s=la(r);return new Ei(s.seconds,s.nanos)}(i))}function _m(i,e){return(s=i,new Wr(["projects",s.projectId,"databases",s.database])).child("documents").child(e).canonicalString();var s}function ym(i){const e=Wr.fromString(i);return Jn(Uh(e)),e}function Od(i,e){return _m(i.databaseId,e.path)}function Ja(i,e){const r=ym(e);if(r.get(1)!==i.databaseId.projectId)throw new vn(Ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+i.databaseId.projectId);if(r.get(3)!==i.databaseId.database)throw new vn(Ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+i.databaseId.database);return new Wn(Su(r))}function Op(i,e){return _m(i.databaseId,e)}function Em(i){const e=ym(i);return 4===e.length?Wr.emptyPath():Su(e)}function bc(i){return new Wr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Su(i){return Jn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Ns(i,e,r){return{name:Od(i,e),fields:r.value.mapValue.fields}}function Tl(i,e,r){const s=Ja(i,e.name),u=To(e.updateTime),d=e.createTime?To(e.createTime):ar.min(),p=new ti({mapValue:{fields:e.fields}}),A=Ai.newFoundDocument(s,u,d,p);return r&&A.setHasCommittedMutations(),r?A.setHasCommittedMutations():A}function da(i,e){let r;if(e instanceof El)r={update:Ns(i,e.key,e.value)};else if(e instanceof Ec)r={delete:Od(i,e.key)};else if(e instanceof $o)r={update:Ns(i,e.key,e.data),updateMask:L0(e.fieldMask)};else{if(!(e instanceof kh))return zn();r={verify:Od(i,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(s=>function(d,p){const A=p.transform;if(A instanceof Oa)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(A instanceof Os)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:A.elements}};if(A instanceof Ka)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:A.elements}};if(A instanceof Za)return{fieldPath:p.field.canonicalString(),increment:A.Ie};throw zn()}(0,s))),e.precondition.isNone||(r.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:xp(i,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:zn()),r;var d}function Ru(i,e){const r=e.currentDocument?void 0!==(d=e.currentDocument).updateTime?ki.updateTime(To(d.updateTime)):void 0!==d.exists?ki.exists(d.exists):ki.none():ki.none(),s=e.updateTransforms?e.updateTransforms.map(u=>function(p,A){let N=null;"setToServerValue"in A?(Jn("REQUEST_TIME"===A.setToServerValue),N=new Oa):"appendMissingElements"in A?N=new Os(A.appendMissingElements.values||[]):"removeAllFromArray"in A?N=new Ka(A.removeAllFromArray.values||[]):"increment"in A?N=new Za(p,A.increment):zn();const z=Xn.fromServerFormat(A.fieldPath);return new Xa(z,N)}(i,u)):[];var d;if(e.update){const u=Ja(i,e.update.name),d=new ti({mapValue:{fields:e.update.fields}});if(e.updateMask){const p=new as((e.updateMask.fieldPaths||[]).map(se=>Xn.fromServerFormat(se)));return new $o(u,d,p,r,s)}return new El(u,d,r,s)}if(e.delete){const u=Ja(i,e.delete);return new Ec(u,r)}if(e.verify){const u=Ja(i,e.verify);return new kh(u,r)}return zn()}function Nd(i,e){return{documents:[Op(i,e.path)]}}function Bh(i,e){const r={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(r.parent=Op(i,s),r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r.parent=Op(i,s.popLast()),r.structuredQuery.from=[{collectionId:s.lastSegment()}]);const u=function(N){if(0!==N.length)return py(mi.create(N,"and"))}(e.filters);u&&(r.structuredQuery.where=u);const d=function(N){if(0!==N.length)return N.map(z=>{return{field:Yl((Me=z).field),direction:Cm(Me.dir)};var Me})}(e.orderBy);d&&(r.structuredQuery.orderBy=d);const p=$h(i,e.limit);return null!==p&&(r.structuredQuery.limit=p),e.startAt&&(r.structuredQuery.startAt={before:(N=e.startAt).inclusive,values:N.position}),e.endAt&&(r.structuredQuery.endAt=function(N){return{before:!N.inclusive,values:N.position}}(e.endAt)),r;var N}function Tm(i){let e=Em(i.parent);const r=i.structuredQuery,s=r.from?r.from.length:0;let u=null;if(s>0){Jn(1===s);const se=r.from[0];se.allDescendants?u=se.collectionId:e=e.child(se.collectionId)}let d=[];r.where&&(d=function(Me){const ct=hy(Me);return ct instanceof mi&&Rh(ct)?ct.getFilters():[ct]}(r.where));let p=[];r.orderBy&&(p=r.orderBy.map(ct=>{return new gl(ql((Sn=ct).field),function(Pn){switch(Pn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Sn.direction));var Sn}));let A=null;r.limit&&(A=function(Me){let ct;return ct="object"==typeof Me?Me.value:Me,ss(ct)?null:ct}(r.limit));let N=null;var Me;r.startAt&&(N=new ca((Me=r.startAt).values||[],!!Me.before));let z=null;return r.endAt&&(z=function(Me){return new ca(Me.values||[],!Me.before)}(r.endAt)),wd(e,u,p,d,A,"F",N,z)}function hy(i){return void 0!==i.unaryFilter?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=ql(r.unaryFilter.field);return $r.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=ql(r.unaryFilter.field);return $r.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=ql(r.unaryFilter.field);return $r.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=ql(r.unaryFilter.field);return $r.create(p,"!=",{nullValue:"NULL_VALUE"});default:return zn()}}(i):void 0!==i.fieldFilter?$r.create(ql((r=i).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return zn()}}(r.fieldFilter.op),r.fieldFilter.value):void 0!==i.compositeFilter?function(r){return mi.create(r.compositeFilter.filters.map(s=>hy(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return zn()}}(r.compositeFilter.op))}(i):zn();var r}function Cm(i){return cy[i]}function k0(i){return Pp[i]}function fy(i){return dy[i]}function Yl(i){return{fieldPath:i.canonicalString()}}function ql(i){return Xn.fromServerFormat(i.fieldPath)}function py(i){return i instanceof $r?function(r){if("=="===r.op){if(hc(r.value))return{unaryFilter:{field:Yl(r.field),op:"IS_NAN"}};if(Id(r.value))return{unaryFilter:{field:Yl(r.field),op:"IS_NULL"}}}else if("!="===r.op){if(hc(r.value))return{unaryFilter:{field:Yl(r.field),op:"IS_NOT_NAN"}};if(Id(r.value))return{unaryFilter:{field:Yl(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yl(r.field),op:k0(r.op),value:r.value}}}(i):i instanceof mi?function(r){const s=r.getFilters().map(u=>py(u));return 1===s.length?s[0]:{compositeFilter:{op:fy(r.op),filters:s}}}(i):zn()}function L0(i){const e=[];return i.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Uh(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class Kl{constructor(e,r,s,u,d=ar.min(),p=ar.min(),A=yo.EMPTY_BYTE_STRING,N=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=A,this.expectedCount=N}withSequenceNumber(e){return new Kl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Kl(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class gy{constructor(e){this.ut=e}}function my(i,e){const r=e.key,s={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:kp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Od(d=i.ut,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:Cc(d,p.version.toTimestamp()),createTime:Cc(d,p.createTime.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:r.path.toArray(),readTime:Pu(e.version)};else{if(!e.isUnknownDocument())return zn();s.unknownDocument={path:r.path.toArray(),version:Pu(e.version)}}var d,p;return s}function kp(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Pu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function el(i){const e=new Ei(i.seconds,i.nanoseconds);return ar.fromTimestamp(e)}function tl(i,e){const r=(e.baseMutations||[]).map(d=>Ru(i.ut,d));for(let d=0;d<e.mutations.length-1;++d)d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(e.mutations[d].updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d);const s=e.mutations.map(d=>Ru(i.ut,d)),u=Ei.fromMillis(e.localWriteTimeMs);return new Wl(e.batchId,u,r,s)}function Mu(i){const e=el(i.readTime),r=void 0!==i.lastLimboFreeSnapshotVersion?el(i.lastLimboFreeSnapshotVersion):ar.min();let s;return s=void 0!==i.query.documents?(Jn(1===(d=i.query).documents.length),Vo(Eo(Em(d.documents[0])))):function(d){return Vo(Tm(d))}(i.query),new Kl(s,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,r,yo.fromBase64String(i.resumeToken));var d}function Lp(i,e){const r=Pu(e.snapshotVersion),s=Pu(e.lastLimboFreeSnapshotVersion);let u;u=vl(e.target)?Nd(i.ut,e.target):Bh(i.ut,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:vs(e.target),readTime:r,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function jh(i){const e=Tm({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Sd(e,e.limit,"L"):e}function xu(i,e){return new Cp(e.largestBatchId,Ru(i.ut,e.overlayMutation))}function bm(i,e){const r=e.path.lastSegment();return[i,So(e.path.popLast()),r]}function Fp(i,e,r,s){return{indexId:i,uid:e.uid||"",sequenceNumber:r,readTime:Pu(s.readTime),documentKey:So(s.documentKey.path),largestBatchId:s.largestBatchId}}class wm{getBundleMetadata(e,r){return kd(e).get(r).next(s=>{if(s)return{id:(d=s).bundleId,createTime:el(d.createTime),version:d.version};var d})}saveBundleMetadata(e,r){return kd(e).put({bundleId:(u=r).id,createTime:Pu(To(u.createTime)),version:u.version});var u}getNamedQuery(e,r){return Ld(e).get(r).next(s=>{if(s)return{name:(d=s).name,query:jh(d.bundledQuery),readTime:el(d.readTime)};var d})}saveNamedQuery(e,r){return Ld(e).put({name:(u=r).name,readTime:Pu(To(u.readTime)),bundledQuery:u.bundledQuery});var u}}function kd(i){return Qi(i,"bundles")}function Ld(i){return Qi(i,"namedQueries")}class Ou{constructor(e,r){this.serializer=e,this.userId=r}static ct(e,r){return new Ou(e,r.uid||"")}getOverlay(e,r){return Fd(e).get(bm(this.userId,r)).next(s=>s?xu(this.serializer,s):null)}getOverlays(e,r){const s=_();return Tt.forEach(r,u=>this.getOverlay(e,u).next(d=>{null!==d&&s.set(u,d)})).next(()=>s)}saveOverlays(e,r,s){const u=[];return s.forEach((d,p)=>{const A=new Cp(r,p);u.push(this.lt(e,A))}),Tt.waitFor(u)}removeOverlaysForBatchId(e,r,s){const u=new Set;r.forEach(p=>u.add(So(p.getCollectionPath())));const d=[];return u.forEach(p=>{const A=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,s+1],!1,!0);d.push(Fd(e).H("collectionPathOverlayIndex",A))}),Tt.waitFor(d)}getOverlaysForCollection(e,r,s){const u=_(),d=So(r),p=IDBKeyRange.bound([this.userId,d,s],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Fd(e).W("collectionPathOverlayIndex",p).next(A=>{for(const N of A){const z=xu(this.serializer,N);u.set(z.getKey(),z)}return u})}getOverlaysForCollectionGroup(e,r,s,u){const d=_();let p;const A=IDBKeyRange.bound([this.userId,r,s],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Fd(e).Y({index:"collectionGroupOverlayIndex",range:A},(N,z,se)=>{const Me=xu(this.serializer,z);d.size()<u||Me.largestBatchId===p?(d.set(Me.getKey(),Me),p=Me.largestBatchId):se.done()}).next(()=>d)}lt(e,r){return Fd(e).put(function(u,d,p){const[A,N,z]=bm(d,p.mutation.key);return{userId:d,collectionPath:N,documentId:z,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:da(u.ut,p.mutation)}}(this.serializer,this.userId,r))}}function Fd(i){return Qi(i,"documentOverlays")}class Nu{constructor(){}ht(e,r){this.Pt(e,r),r.It()}Pt(e,r){if("nullValue"in e)this.Tt(r,5);else if("booleanValue"in e)this.Tt(r,10),r.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(r,15),r.Et(Ci(e.integerValue));else if("doubleValue"in e){const s=Ci(e.doubleValue);isNaN(s)?this.Tt(r,13):(this.Tt(r,15),mu(s)?r.Et(0):r.Et(s))}else if("timestampValue"in e){const s=e.timestampValue;this.Tt(r,20),"string"==typeof s?r.dt(s):(r.dt(`${s.seconds||""}`),r.Et(s.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,r),this.Rt(r);else if("bytesValue"in e)this.Tt(r,30),r.Vt(Hs(e.bytesValue)),this.Rt(r);else if("referenceValue"in e)this.ft(e.referenceValue,r);else if("geoPointValue"in e){const s=e.geoPointValue;this.Tt(r,45),r.Et(s.latitude||0),r.Et(s.longitude||0)}else"mapValue"in e?fc(e)?this.Tt(r,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,r),this.Rt(r)):"arrayValue"in e?(this.yt(e.arrayValue,r),this.Rt(r)):zn()}At(e,r){this.Tt(r,25),this.wt(e,r)}wt(e,r){r.dt(e)}gt(e,r){const s=e.fields||{};this.Tt(r,55);for(const u of Object.keys(s))this.At(u,r),this.Pt(s[u],r)}yt(e,r){const s=e.values||[];this.Tt(r,50);for(const u of s)this.Pt(u,r)}ft(e,r){this.Tt(r,37),Wn.fromName(e).path.forEach(s=>{this.Tt(r,60),this.wt(s,r)})}Tt(e,r){e.Et(r)}Rt(e){e.Et(2)}}function vy(i){if(0===i)return 8;let e=0;return!(i>>4)&&(e+=4,i<<=4),!(i>>6)&&(e+=2,i<<=2),!(i>>7)&&(e+=1),e}function Vp(i){const e=64-function(s){let u=0;for(let d=0;d<8;++d){const p=vy(255&s[d]);if(u+=p,8!==p)break}return u}(i);return Math.ceil(e/8)}Nu.St=new Nu;class $p{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Dt(s.value),s=r.next();this.Ct()}vt(e){const r=e[Symbol.iterator]();let s=r.next();for(;!s.done;)this.Ft(s.value),s=r.next();this.Mt()}xt(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Dt(s);else if(s<2048)this.Dt(960|s>>>6),this.Dt(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Dt(480|s>>>12),this.Dt(128|63&s>>>6),this.Dt(128|63&s);else{const u=r.codePointAt(0);this.Dt(240|u>>>18),this.Dt(128|63&u>>>12),this.Dt(128|63&u>>>6),this.Dt(128|63&u)}}this.Ct()}Ot(e){for(const r of e){const s=r.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(r<"\ud800"||"\udbff"<r)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const u=r.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Nt(e){const r=this.Bt(e),s=Vp(r);this.Lt(1+s),this.buffer[this.position++]=255&s;for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=255&r[u]}kt(e){const r=this.Bt(e),s=Vp(r);this.Lt(1+s),this.buffer[this.position++]=~(255&s);for(let u=r.length-s;u<r.length;++u)this.buffer[this.position++]=~(255&r[u])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const r=function(d){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,d,!1),new Uint8Array(p.buffer)}(e),s=0!=(128&r[0]);r[0]^=s?255:128;for(let u=1;u<r.length;++u)r[u]^=s?255:0;return r}Dt(e){const r=255&e;0===r?(this.Qt(0),this.Qt(255)):255===r?(this.Qt(255),this.Qt(0)):this.Qt(r)}Ft(e){const r=255&e;0===r?(this.$t(0),this.$t(255)):255===r?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const r=e+this.position;if(r<=this.buffer.length)return;let s=2*this.buffer.length;s<r&&(s=r);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class _y{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class yy{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Vd{constructor(){this.Wt=new $p,this.Gt=new _y(this.Wt),this.zt=new yy(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Zl{constructor(e,r,s,u){this.indexId=e,this.documentKey=r,this.arrayValue=s,this.directionalValue=u}Ht(){const e=this.directionalValue.length,r=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(r);return s.set(this.directionalValue,0),r!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new Zl(this.indexId,this.documentKey,this.arrayValue,s)}}function Xl(i,e){let r=i.indexId-e.indexId;return 0!==r?r:(r=Am(i.arrayValue,e.arrayValue),0!==r?r:(r=Am(i.directionalValue,e.directionalValue),0!==r?r:Wn.comparator(i.documentKey,e.documentKey)))}function Am(i,e){for(let r=0;r<i.length&&r<e.length;++r){const s=i[r]-e[r];if(0!==s)return s}return i.length-e.length}class Es{constructor(e){this.Jt=new ci((r,s)=>Xn.comparator(r.field,s.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const r of e.filters){const s=r;s.isInequality()?this.Jt=this.Jt.add(s):this.Zt.push(s)}}get Xt(){return this.Jt.size>1}en(e){if(Jn(e.collectionGroup===this.collectionId),this.Xt)return!1;const r=_d(e);if(void 0!==r&&!this.tn(r))return!1;const s=As(e);let u=new Set,d=0,p=0;for(;d<s.length&&this.tn(s[d]);++d)u=u.add(s[d].fieldPath.canonicalString());if(d===s.length)return!0;if(this.Jt.size>0){const A=this.Jt.getIterator().getNext();if(!u.has(A.field.canonicalString())){const N=s[d];if(!this.nn(A,N)||!this.rn(this.Yt[p++],N))return!1}++d}for(;d<s.length;++d)if(p>=this.Yt.length||!this.rn(this.Yt[p++],s[d]))return!1;return!0}sn(){if(this.Xt)return null;let e=new ci(Xn.comparator);const r=[];for(const s of this.Zt)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)r.push(new Ss(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),r.push(new Ss(s.field,0))}for(const s of this.Yt)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),r.push(new Ss(s.field,"asc"===s.dir?0:1)));return new sl(sl.UNKNOWN_ID,this.collectionId,r,Ba.empty())}tn(e){for(const r of this.Zt)if(this.nn(r,e))return!0;return!1}nn(e,r){return!(void 0===e||!e.field.isEqual(r.fieldPath))&&2===r.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,r){return!!e.field.isEqual(r.fieldPath)&&(0===r.kind&&"asc"===e.dir||1===r.kind&&"desc"===e.dir)}}function Hh(i){var e,r;if(Jn(i instanceof $r||i instanceof mi),i instanceof $r){if(i instanceof ao){const u=(null===(r=null===(e=i.value.arrayValue)||void 0===e?void 0:e.values)||void 0===r?void 0:r.map(d=>$r.create(i.field,"==",d)))||[];return mi.create(u,"or")}return i}const s=i.filters.map(u=>Hh(u));return mi.create(s,i.op)}function Sm(i){if(0===i.getFilters().length)return[];const e=zh(Hh(i));return Jn(wc(e)),$d(e)||Bo(e)?[e]:e.getFilters()}function $d(i){return i instanceof $r}function Bo(i){return i instanceof mi&&Rh(i)}function wc(i){return $d(i)||Bo(i)||function(r){if(r instanceof mi&&Pa(r)){for(const s of r.getFilters())if(!$d(s)&&!Bo(s))return!1;return!0}return!1}(i)}function zh(i){if(Jn(i instanceof $r||i instanceof mi),i instanceof $r)return i;if(1===i.filters.length)return zh(i.filters[0]);const e=i.filters.map(s=>zh(s));let r=mi.create(e,i.op);return r=Bd(r),wc(r)?r:(Jn(r instanceof mi),Jn(Wa(r)),Jn(r.filters.length>1),r.filters.reduce((s,u)=>Wh(s,u)))}function Wh(i,e){let r;return Jn(i instanceof $r||i instanceof mi),Jn(e instanceof $r||e instanceof mi),r=i instanceof $r?e instanceof $r?mi.create([i,e],"and"):Rm(i,e):e instanceof $r?Rm(e,i):function(u,d){if(Jn(u.filters.length>0&&d.filters.length>0),Wa(u)&&Wa(d))return mp(u,d.getFilters());const p=Pa(u)?u:d,A=Pa(u)?d:u,N=p.filters.map(z=>Wh(z,A));return mi.create(N,"or")}(i,e),Bd(r)}function Rm(i,e){if(Wa(e))return mp(e,i.getFilters());{const r=e.filters.map(s=>Wh(i,s));return mi.create(r,"or")}}function Bd(i){if(Jn(i instanceof $r||i instanceof mi),i instanceof $r)return i;const e=i.getFilters();if(1===e.length)return Bd(e[0]);if(Iu(i))return i;const r=e.map(u=>Bd(u)),s=[];return r.forEach(u=>{u instanceof $r?s.push(u):u instanceof mi&&(u.op===i.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:mi.create(s,i.op)}class Ey{constructor(){this.on=new Gh}addToCollectionParentIndex(e,r){return this.on.add(r),Tt.resolve()}getCollectionParents(e,r){return Tt.resolve(this.on.getEntries(r))}addFieldIndex(e,r){return Tt.resolve()}deleteFieldIndex(e,r){return Tt.resolve()}deleteAllFieldIndexes(e){return Tt.resolve()}createTargetIndexes(e,r){return Tt.resolve()}getDocumentsMatchingTarget(e,r){return Tt.resolve(null)}getIndexType(e,r){return Tt.resolve(0)}getFieldIndexes(e,r){return Tt.resolve([])}getNextCollectionGroupToUpdate(e){return Tt.resolve(null)}getMinOffset(e,r){return Tt.resolve(Ao.min())}getMinOffsetFromCollectionGroup(e,r){return Tt.resolve(Ao.min())}updateCollectionGroup(e,r,s){return Tt.resolve()}updateIndexEntries(e,r){return Tt.resolve()}}class Gh{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r]||new ci(Wr.comparator),d=!u.has(s);return this.index[r]=u.add(s),d}has(e){const r=e.lastSegment(),s=e.popLast(),u=this.index[r];return u&&u.has(s)}getEntries(e){return(this.index[e]||new ci(Wr.comparator)).toArray()}}const Yh=new Uint8Array(0);class Pm{constructor(e,r){this.user=e,this.databaseId=r,this._n=new Gh,this.an=new xa(s=>vs(s),(s,u)=>Vl(s,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this._n.has(r)){const s=r.lastSegment(),u=r.popLast();e.addOnCommittedListener(()=>{this._n.add(r)});const d={collectionId:s,parent:So(u)};return Mm(e).put(d)}return Tt.resolve()}getCollectionParents(e,r){const s=[],u=IDBKeyRange.bound([r,""],[xl(r),""],!1,!0);return Mm(e).W(u).next(d=>{for(const p of d){if(p.collectionId!==r)break;s.push(O(p.parent))}return s})}addFieldIndex(e,r){const s=ku(e),u={indexId:(A=r).indexId,collectionGroup:A.collectionGroup,fields:A.fields.map(N=>[N.fieldPath.canonicalString(),N.kind])};var A;delete u.indexId;const d=s.add(u);if(r.indexState){const p=Ql(e);return d.next(A=>{p.put(Fp(A,this.user,r.indexState.sequenceNumber,r.indexState.offset))})}return d.next()}deleteFieldIndex(e,r){const s=ku(e),u=Ql(e),d=Ac(e);return s.delete(r.indexId).next(()=>u.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=ku(e),s=Ac(e),u=Ql(e);return r.H().next(()=>s.H()).next(()=>u.H())}createTargetIndexes(e,r){return Tt.forEach(this.un(r),s=>this.getIndexType(e,s).next(u=>{if(0===u||1===u){const d=new Es(s).sn();if(null!=d)return this.addFieldIndex(e,d)}}))}getDocumentsMatchingTarget(e,r){const s=Ac(e);let u=!0;const d=new Map;return Tt.forEach(this.un(r),p=>this.cn(e,p).next(A=>{u&&(u=!!A),d.set(p,A)})).next(()=>{if(u){let p=oe();const A=[];return Tt.forEach(d,(N,z)=>{var Sr;sn("IndexedDbIndexManager",`Using index ${Sr=N,`id=${Sr.indexId}|cg=${Sr.collectionGroup}|f=${Sr.fields.map(oi=>`${oi.fieldPath}:${oi.kind}`).join(",")}`} to execute ${vs(r)}`);const se=function(Sr,oi){const Li=_d(oi);if(void 0===Li)return null;for(const bi of Ga(Sr,Li.fieldPath))switch(bi.op){case"array-contains-any":return bi.value.arrayValue.values||[];case"array-contains":return[bi.value]}return null}(z,N),Me=function(Sr,oi){const Li=new Map;for(const bi of As(oi))for(const jo of Ga(Sr,bi.fieldPath))switch(jo.op){case"==":case"in":Li.set(bi.fieldPath.canonicalString(),jo.value);break;case"not-in":case"!=":return Li.set(bi.fieldPath.canonicalString(),jo.value),Array.from(Li.values())}return null}(z,N),ct=function(Sr,oi){const Li=[];let bi=!0;for(const jo of As(oi)){const pa=0===jo.kind?gc(Sr,jo.fieldPath,Sr.startAt):Ep(Sr,jo.fieldPath,Sr.startAt);Li.push(pa.value),bi&&(bi=pa.inclusive)}return new ca(Li,bi)}(z,N),Nt=function(Sr,oi){const Li=[];let bi=!0;for(const jo of As(oi)){const pa=0===jo.kind?Ep(Sr,jo.fieldPath,Sr.endAt):gc(Sr,jo.fieldPath,Sr.endAt);Li.push(pa.value),bi&&(bi=pa.inclusive)}return new ca(Li,bi)}(z,N),Sn=this.ln(N,z,ct),Rn=this.ln(N,z,Nt),Pn=this.hn(N,z,Me),fr=this.Pn(N.indexId,se,Sn,ct.inclusive,Rn,Nt.inclusive,Pn);return Tt.forEach(fr,Or=>s.j(Or,r.limit).next(Sr=>{Sr.forEach(oi=>{const Li=Wn.fromSegments(oi.documentKey);p.has(Li)||(p=p.add(Li),A.push(Li))})}))}).next(()=>A)}return Tt.resolve(null)})}un(e){let r=this.an.get(e);return r||(r=0===e.filters.length?[e]:Sm(mi.create(e.filters,"and")).map(s=>Fo(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,r),r)}Pn(e,r,s,u,d,p,A){const N=(null!=r?r.length:1)*Math.max(s.length,d.length),z=N/(null!=r?r.length:1),se=[];for(let Me=0;Me<N;++Me){const ct=r?this.In(r[Me/z]):Yh,Nt=this.Tn(e,ct,s[Me%z],u),Sn=this.En(e,ct,d[Me%z],p),Rn=A.map(Pn=>this.Tn(e,ct,Pn,!0));se.push(...this.createRange(Nt,Sn,Rn))}return se}Tn(e,r,s,u){const d=new Zl(e,Wn.empty(),r,s);return u?d:d.Ht()}En(e,r,s,u){const d=new Zl(e,Wn.empty(),r,s);return u?d.Ht():d}cn(e,r){const s=new Es(r),u=null!=r.collectionGroup?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,u).next(d=>{let p=null;for(const A of d)s.en(A)&&(!p||A.fields.length>p.fields.length)&&(p=A);return p})}getIndexType(e,r){let s=2;const u=this.un(r);return Tt.forEach(u,d=>this.cn(e,d).next(p=>{p?0!==s&&p.fields.length<function(N){let z=new ci(Xn.comparator),se=!1;for(const Me of N.filters)for(const ct of Me.getFlattenedFilters())ct.field.isKeyField()||("array-contains"===ct.op||"array-contains-any"===ct.op?se=!0:z=z.add(ct.field));for(const Me of N.orderBy)Me.field.isKeyField()||(z=z.add(Me.field));return z.size+(se?1:0)}(d)&&(s=1):s=0})).next(()=>null!==r.limit&&u.length>1&&2===s?1:s)}dn(e,r){const s=new Vd;for(const u of As(e)){const d=r.data.field(u.fieldPath);if(null==d)return null;const p=s.jt(u.kind);Nu.St.ht(d,p)}return s.Ut()}In(e){const r=new Vd;return Nu.St.ht(e,r.jt(0)),r.Ut()}An(e,r){const s=new Vd;return Nu.St.ht(za(this.databaseId,r),s.jt(function(d){const p=As(d);return 0===p.length?0:p[p.length-1].kind}(e))),s.Ut()}hn(e,r,s){if(null===s)return[];let u=[];u.push(new Vd);let d=0;for(const p of As(e)){const A=s[d++];for(const N of u)if(this.Rn(r,p.fieldPath)&&kl(A))u=this.Vn(u,p,A);else{const z=N.jt(p.kind);Nu.St.ht(A,z)}}return this.mn(u)}ln(e,r,s){return this.hn(e,r,s.position)}mn(e){const r=[];for(let s=0;s<e.length;++s)r[s]=e[s].Ut();return r}Vn(e,r,s){const u=[...e],d=[];for(const p of s.arrayValue.values||[])for(const A of u){const N=new Vd;N.seed(A.Ut()),Nu.St.ht(p,N.jt(r.kind)),d.push(N)}return d}Rn(e,r){return!!e.filters.find(s=>s instanceof $r&&s.field.isEqual(r)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,r){const s=ku(e),u=Ql(e);return(r?s.W("collectionGroupIndex",IDBKeyRange.bound(r,r)):s.W()).next(d=>{const p=[];return Tt.forEach(d,A=>u.get([A.indexId,this.uid]).next(N=>{p.push(function(se,Me){const ct=Me?new Ba(Me.sequenceNumber,new Ao(el(Me.readTime),new Wn(O(Me.documentKey)),Me.largestBatchId)):Ba.empty(),Nt=se.fields.map(([Sn,Rn])=>new Ss(Xn.fromServerFormat(Sn),Rn));return new sl(se.indexId,se.collectionGroup,Nt,ct)}(A,N))})).next(()=>p)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>0===r.length?null:(r.sort((s,u)=>{const d=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==d?d:gr(s.collectionGroup,u.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,s){const u=ku(e),d=Ql(e);return this.fn(e).next(p=>u.W("collectionGroupIndex",IDBKeyRange.bound(r,r)).next(A=>Tt.forEach(A,N=>d.put(Fp(N.indexId,this.user,p,s)))))}updateIndexEntries(e,r){const s=new Map;return Tt.forEach(r,(u,d)=>{const p=s.get(u.collectionGroup);return(p?Tt.resolve(p):this.getFieldIndexes(e,u.collectionGroup)).next(A=>(s.set(u.collectionGroup,A),Tt.forEach(A,N=>this.gn(e,u,N).next(z=>{const se=this.pn(d,N);return z.isEqual(se)?Tt.resolve():this.yn(e,d,N,z,se)}))))})}wn(e,r,s,u){return Ac(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.An(s,r.key),documentKey:r.key.path.toArray()})}Sn(e,r,s,u){return Ac(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.An(s,r.key),r.key.path.toArray()])}gn(e,r,s){const u=Ac(e);let d=new ci(Xl);return u.Y({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.An(s,r)])},(p,A)=>{d=d.add(new Zl(s.indexId,r,A.arrayValue,A.directionalValue))}).next(()=>d)}pn(e,r){let s=new ci(Xl);const u=this.dn(r,e);if(null==u)return s;const d=_d(r);if(null!=d){const p=e.data.field(d.fieldPath);if(kl(p))for(const A of p.arrayValue.values||[])s=s.add(new Zl(r.indexId,e.key,this.In(A),u))}else s=s.add(new Zl(r.indexId,e.key,Yh,u));return s}yn(e,r,s,u,d){sn("IndexedDbIndexManager","Updating index entries for document '%s'",r.key);const p=[];return function(N,z,se,Me,ct){const Nt=N.getIterator(),Sn=z.getIterator();let Rn=wa(Nt),Pn=wa(Sn);for(;Rn||Pn;){let fr=!1,Or=!1;if(Rn&&Pn){const Sr=se(Rn,Pn);Sr<0?Or=!0:Sr>0&&(fr=!0)}else null!=Rn?Or=!0:fr=!0;fr?(Me(Pn),Pn=wa(Sn)):Or?(ct(Rn),Rn=wa(Nt)):(Rn=wa(Nt),Pn=wa(Sn))}}(u,d,Xl,A=>{p.push(this.wn(e,r,s,A))},A=>{p.push(this.Sn(e,r,s,A))}),Tt.waitFor(p)}fn(e){let r=1;return Ql(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,d)=>{d.done(),r=u.sequenceNumber+1}).next(()=>r)}createRange(e,r,s){s=s.sort((p,A)=>Xl(p,A)).filter((p,A,N)=>!A||0!==Xl(p,N[A-1]));const u=[];u.push(e);for(const p of s){const A=Xl(p,e),N=Xl(p,r);if(0===A)u[0]=e.Ht();else if(A>0&&N<0)u.push(p),u.push(p.Ht());else if(N>0)break}u.push(r);const d=[];for(let p=0;p<u.length;p+=2){if(this.bn(u[p],u[p+1]))return[];d.push(IDBKeyRange.bound([u[p].indexId,this.uid,u[p].arrayValue,u[p].directionalValue,Yh,[]],[u[p+1].indexId,this.uid,u[p+1].arrayValue,u[p+1].directionalValue,Yh,[]]))}return d}bn(e,r){return Xl(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(xm)}getMinOffset(e,r){return Tt.mapArray(this.un(r),s=>this.cn(e,s).next(u=>u||zn())).next(xm)}}function Mm(i){return Qi(i,"collectionParents")}function Ac(i){return Qi(i,"indexEntries")}function ku(i){return Qi(i,"indexConfiguration")}function Ql(i){return Qi(i,"indexState")}function xm(i){Jn(0!==i.length);let e=i[0].indexState.offset,r=e.largestBatchId;for(let s=1;s<i.length;s++){const u=i[s].indexState.offset;oc(u,e)<0&&(e=u),r<u.largestBatchId&&(r=u.largestBatchId)}return new Ao(e.readTime,e.documentKey,r)}const Sc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class cs{constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new cs(e,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Om(i,e,r){const s=i.store("mutations"),u=i.store("documentMutations"),d=[],p=IDBKeyRange.only(r.batchId);let A=0;const N=s.Y({range:p},(se,Me,ct)=>(A++,ct.delete()));d.push(N.next(()=>{Jn(1===A)}));const z=[];for(const se of r.mutations){const Me=ae(e,se.key.path,r.batchId);d.push(u.delete(Me)),z.push(se.key)}return Tt.waitFor(d).next(()=>z)}function Ud(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw zn();e=i.noDocument}return JSON.stringify(e).length}cs.DEFAULT_COLLECTION_PERCENTILE=10,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cs.DEFAULT=new cs(41943040,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cs.DISABLED=new cs(-1,0,0);class jd{constructor(e,r,s,u){this.userId=e,this.serializer=r,this.indexManager=s,this.referenceDelegate=u,this.Dn={}}static ct(e,r,s,u){Jn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new jd(d,r,s,u)}checkEmpty(e){let r=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qs(e).Y({index:"userMutationsIndex",range:s},(u,d,p)=>{r=!1,p.done()}).next(()=>r)}addMutationBatch(e,r,s,u){const d=Dl(e),p=qs(e);return p.add({}).next(A=>{Jn("number"==typeof A);const N=new Wl(A,r,s,u),z=function(Nt,Sn,Rn){const Pn=Rn.baseMutations.map(Or=>da(Nt.ut,Or)),fr=Rn.mutations.map(Or=>da(Nt.ut,Or));return{userId:Sn,batchId:Rn.batchId,localWriteTimeMs:Rn.localWriteTime.toMillis(),baseMutations:Pn,mutations:fr}}(this.serializer,this.userId,N),se=[];let Me=new ci((ct,Nt)=>gr(ct.canonicalString(),Nt.canonicalString()));for(const ct of u){const Nt=ae(this.userId,ct.key.path,A);Me=Me.add(ct.key.path.popLast()),se.push(p.put(z)),se.push(d.put(Nt,be))}return Me.forEach(ct=>{se.push(this.indexManager.addToCollectionParentIndex(e,ct))}),e.addOnCommittedListener(()=>{this.Dn[A]=N.keys()}),Tt.waitFor(se).next(()=>N)})}lookupMutationBatch(e,r){return qs(e).get(r).next(s=>s?(Jn(s.userId===this.userId),tl(this.serializer,s)):null)}Cn(e,r){return this.Dn[r]?Tt.resolve(this.Dn[r]):this.lookupMutationBatch(e,r).next(s=>{if(s){const u=s.keys();return this.Dn[r]=u,u}return null})}getNextMutationBatchAfterBatchId(e,r){const s=r+1,u=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return qs(e).Y({index:"userMutationsIndex",range:u},(p,A,N)=>{A.userId===this.userId&&(Jn(A.batchId>=s),d=tl(this.serializer,A)),N.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return qs(e).Y({index:"userMutationsIndex",range:r,reverse:!0},(u,d,p)=>{s=d.batchId,p.done()}).next(()=>s)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return qs(e).W("userMutationsIndex",r).next(s=>s.map(u=>tl(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(e,r){const s=F(this.userId,r.path),u=IDBKeyRange.lowerBound(s),d=[];return Dl(e).Y({range:u},(p,A,N)=>{const[z,se,Me]=p,ct=O(se);if(z===this.userId&&r.path.isEqual(ct))return qs(e).get(Me).next(Nt=>{if(!Nt)throw zn();Jn(Nt.userId===this.userId),d.push(tl(this.serializer,Nt))});N.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new ci(gr);const u=[];return r.forEach(d=>{const p=F(this.userId,d.path),A=IDBKeyRange.lowerBound(p),N=Dl(e).Y({range:A},(z,se,Me)=>{const[ct,Nt,Sn]=z,Rn=O(Nt);ct===this.userId&&d.path.isEqual(Rn)?s=s.add(Sn):Me.done()});u.push(N)}),Tt.waitFor(u).next(()=>this.vn(e,s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,u=s.length+1,d=F(this.userId,s),p=IDBKeyRange.lowerBound(d);let A=new ci(gr);return Dl(e).Y({range:p},(N,z,se)=>{const[Me,ct,Nt]=N,Sn=O(ct);Me===this.userId&&s.isPrefixOf(Sn)?Sn.length===u&&(A=A.add(Nt)):se.done()}).next(()=>this.vn(e,A))}vn(e,r){const s=[],u=[];return r.forEach(d=>{u.push(qs(e).get(d).next(p=>{if(null===p)throw zn();Jn(p.userId===this.userId),s.push(tl(this.serializer,p))}))}),Tt.waitFor(u).next(()=>s)}removeMutationBatch(e,r){return Om(e.ae,this.userId,r).next(s=>(e.addOnCommittedListener(()=>{this.Fn(r.batchId)}),Tt.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return Tt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),u=[];return Dl(e).Y({range:s},(d,p,A)=>{if(d[0]===this.userId){const N=O(d[1]);u.push(N)}else A.done()}).next(()=>{Jn(0===u.length)})})}containsKey(e,r){return Bp(e,this.userId,r)}Mn(e){return Up(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Bp(i,e,r){const s=F(e,r.path),u=s[1],d=IDBKeyRange.lowerBound(s);let p=!1;return Dl(i).Y({range:d,J:!0},(A,N,z)=>{const[se,Me,ct]=A;se===e&&Me===u&&(p=!0),z.done()}).next(()=>p)}function qs(i){return Qi(i,"mutations")}function Dl(i){return Qi(i,"documentMutations")}function Up(i){return Qi(i,"mutationQueues")}class Cl{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Cl(0)}static Nn(){return new Cl(-1)}}class qh{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Bn(e).next(r=>{const s=new Cl(r.highestTargetId);return r.highestTargetId=s.next(),this.Ln(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(r=>ar.fromTimestamp(new Ei(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,s){return this.Bn(e).next(u=>(u.highestListenSequenceNumber=r,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),r>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=r),this.Ln(e,u)))}addTargetData(e,r){return this.kn(e,r).next(()=>this.Bn(e).next(s=>(s.targetCount+=1,this.qn(r,s),this.Ln(e,s))))}updateTargetData(e,r){return this.kn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>Rc(e).delete(r.targetId)).next(()=>this.Bn(e)).next(s=>(Jn(s.targetCount>0),s.targetCount-=1,this.Ln(e,s)))}removeTargets(e,r,s){let u=0;const d=[];return Rc(e).Y((p,A)=>{const N=Mu(A);N.sequenceNumber<=r&&null===s.get(N.targetId)&&(u++,d.push(this.removeTargetData(e,N)))}).next(()=>Tt.waitFor(d)).next(()=>u)}forEachTarget(e,r){return Rc(e).Y((s,u)=>{const d=Mu(u);r(d)})}Bn(e){return Nm(e).get("targetGlobalKey").next(r=>(Jn(null!==r),r))}Ln(e,r){return Nm(e).put("targetGlobalKey",r)}kn(e,r){return Rc(e).put(Lp(this.serializer,r))}qn(e,r){let s=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,s=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Bn(e).next(r=>r.targetCount)}getTargetData(e,r){const s=vs(r),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return Rc(e).Y({range:u,index:"queryTargetsIndex"},(p,A,N)=>{const z=Mu(A);Vl(r,z.target)&&(d=z,N.done())}).next(()=>d)}addMatchingKeys(e,r,s){const u=[],d=Jl(e);return r.forEach(p=>{const A=So(p.path);u.push(d.put({targetId:s,path:A})),u.push(this.referenceDelegate.addReference(e,s,p))}),Tt.waitFor(u)}removeMatchingKeys(e,r,s){const u=Jl(e);return Tt.forEach(r,d=>{const p=So(d.path);return Tt.waitFor([u.delete([s,p]),this.referenceDelegate.removeReference(e,s,d)])})}removeMatchingKeysForTargetId(e,r){const s=Jl(e),u=IDBKeyRange.bound([r],[r+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(e,r){const s=IDBKeyRange.bound([r],[r+1],!1,!0),u=Jl(e);let d=oe();return u.Y({range:s,J:!0},(p,A,N)=>{const z=O(p[1]),se=new Wn(z);d=d.add(se)}).next(()=>d)}containsKey(e,r){const s=So(r.path),u=IDBKeyRange.bound([s],[xl(s)],!1,!0);let d=0;return Jl(e).Y({index:"documentTargetsIndex",J:!0,range:u},([p,A],N,z)=>{0!==p&&(d++,z.done())}).next(()=>d>0)}_t(e,r){return Rc(e).get(r).next(s=>s?Mu(s):null)}}function Rc(i){return Qi(i,"targets")}function Nm(i){return Qi(i,"targetGlobal")}function Jl(i){return Qi(i,"targetDocuments")}function km([i,e],[r,s]){const u=gr(i,r);return 0===u?gr(e,s):u}class Iy{constructor(e){this.Qn=e,this.buffer=new ci(km),this.Kn=0}$n(){return++this.Kn}Un(e){const r=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();km(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Lm{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var r=this;sn("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,l.Z)(function*(){r.Wn=null;try{yield r.localStore.collectGarbage(r.garbageCollector)}catch(s){Ms(s)?sn("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Bs(s)}yield r.Gn(3e5)}))}}class Fm{constructor(e,r){this.zn=e,this.params=r}calculateTargetCount(e,r){return this.zn.jn(e).next(s=>Math.floor(r/100*s))}nthSequenceNumber(e,r){if(0===r)return Tt.resolve(Bi._e);const s=new Iy(r);return this.zn.forEachTarget(e,u=>s.Un(u.sequenceNumber)).next(()=>this.zn.Hn(e,u=>s.Un(u))).next(()=>s.maxValue)}removeTargets(e,r,s){return this.zn.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.zn.removeOrphanedDocuments(e,r)}collect(e,r){return-1===this.params.cacheSizeCollectionThreshold?(sn("LruGarbageCollector","Garbage collection skipped; disabled"),Tt.resolve(Sc)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(sn("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sc):this.Jn(e,r))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,r){let s,u,d,p,A,N,z;const se=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Me=>(Me>this.params.maximumSequenceNumbersToCollect?(sn("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Me}`),u=this.params.maximumSequenceNumbersToCollect):u=Me,p=Date.now(),this.nthSequenceNumber(e,u))).next(Me=>(s=Me,A=Date.now(),this.removeTargets(e,s,r))).next(Me=>(d=Me,N=Date.now(),this.removeOrphanedDocuments(e,s))).next(Me=>(z=Date.now(),wi()<=Q.in.DEBUG&&sn("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${p-se}ms\n\tDetermined least recently used ${u} in `+(A-p)+`ms\n\tRemoved ${d} targets in `+(N-A)+`ms\n\tRemoved ${Me} documents in `+(z-N)+`ms\nTotal Duration: ${z-se}ms`),Tt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:d,documentsRemoved:Me})))}}class Kh{constructor(e,r){this.db=e,this.garbageCollector=function Pc(i,e){return new Fm(i,e)}(this,r)}jn(e){const r=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>r.next(u=>s+u))}Yn(e){let r=0;return this.Hn(e,s=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}Hn(e,r){return this.Zn(e,(s,u)=>r(u))}addReference(e,r,s){return Mc(e,s)}removeReference(e,r,s){return Mc(e,s)}removeTargets(e,r,s){return this.db.getTargetCache().removeTargets(e,r,s)}markPotentiallyOrphaned(e,r){return Mc(e,r)}Xn(e,r){return function(u,d){let p=!1;return Up(u).Z(A=>Bp(u,A,d).next(N=>(N&&(p=!0),Tt.resolve(!N)))).next(()=>p)}(e,r)}removeOrphanedDocuments(e,r){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let d=0;return this.Zn(e,(p,A)=>{if(A<=r){const N=this.Xn(e,p).next(z=>{if(!z)return d++,s.getEntry(e,p).next(()=>(s.removeEntry(p,ar.min()),Jl(e).delete([0,So(p.path)])))});u.push(N)}}).next(()=>Tt.waitFor(u)).next(()=>s.apply(e)).next(()=>d)}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,r){return Mc(e,r)}Zn(e,r){const s=Jl(e);let u,d=Bi._e;return s.Y({index:"documentTargetsIndex"},([p,A],{path:N,sequenceNumber:z})=>{0===p?(d!==Bi._e&&r(new Wn(O(u)),d),d=z,u=N):d=Bi._e}).next(()=>{d!==Bi._e&&r(new Wn(O(u)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Mc(i,e){return Jl(i).put((u=i.currentSequenceNumber,{targetId:0,path:So(e.path),sequenceNumber:u}));var u}class Vm{constructor(){this.changes=new xa(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ai.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return void 0!==s?Tt.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ty{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,s){return tu(e).put(s)}removeEntry(e,r,s){return tu(e).delete(function(d,p){const A=d.path.toArray();return[A.slice(0,A.length-2),A[A.length-2],kp(p),A[A.length-1]]}(r,s))}updateMetadata(e,r){return this.getMetadata(e).next(s=>(s.byteSize+=r,this.er(e,s)))}getEntry(e,r){let s=Ai.newInvalidDocument(r);return tu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(xc(r))},(u,d)=>{s=this.tr(r,d)}).next(()=>s)}nr(e,r){let s={size:0,document:Ai.newInvalidDocument(r)};return tu(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(xc(r))},(u,d)=>{s={document:this.tr(r,d),size:Ud(d)}}).next(()=>s)}getEntries(e,r){let s=ls();return this.rr(e,r,(u,d)=>{const p=this.tr(u,d);s=s.insert(u,p)}).next(()=>s)}ir(e,r){let s=ls(),u=new Ii(Wn.comparator);return this.rr(e,r,(d,p)=>{const A=this.tr(d,p);s=s.insert(d,A),u=u.insert(d,Ud(p))}).next(()=>({documents:s,sr:u}))}rr(e,r,s){if(r.isEmpty())return Tt.resolve();let u=new ci(Dy);r.forEach(N=>u=u.add(N));const d=IDBKeyRange.bound(xc(u.first()),xc(u.last())),p=u.getIterator();let A=p.getNext();return tu(e).Y({index:"documentKeyIndex",range:d},(N,z,se)=>{const Me=Wn.fromSegments([...z.prefixPath,z.collectionGroup,z.documentId]);for(;A&&Dy(A,Me)<0;)s(A,null),A=p.getNext();A&&A.isEqual(Me)&&(s(A,z),A=p.hasNext()?p.getNext():null),A?se.U(xc(A)):se.done()}).next(()=>{for(;A;)s(A,null),A=p.hasNext()?p.getNext():null})}getDocumentsMatchingQuery(e,r,s,u,d){const p=r.path,A=[p.popLast().toArray(),p.lastSegment(),kp(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],N=[p.popLast().toArray(),p.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return tu(e).W(IDBKeyRange.bound(A,N,!0)).next(z=>{null==d||d.incrementDocumentReadCount(z.length);let se=ls();for(const Me of z){const ct=this.tr(Wn.fromSegments(Me.prefixPath.concat(Me.collectionGroup,Me.documentId)),Me);ct.isFoundDocument()&&(qa(r,ct)||u.has(ct.key))&&(se=se.insert(ct.key,ct))}return se})}getAllFromCollectionGroup(e,r,s,u){let d=ls();const p=Bm(r,s),A=Bm(r,Ao.max());return tu(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(p,A,!0)},(N,z,se)=>{const Me=this.tr(Wn.fromSegments(z.prefixPath.concat(z.collectionGroup,z.documentId)),z);d=d.insert(Me.key,Me),d.size===u&&se.done()}).next(()=>d)}newChangeBuffer(e){return new $m(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return eu(e).get("remoteDocumentGlobalKey").next(r=>(Jn(!!r),r))}er(e,r){return eu(e).put("remoteDocumentGlobalKey",r)}tr(e,r){if(r){const s=function F0(i,e){let r;if(e.document)r=Tl(i.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=Wn.fromSegments(e.noDocument.path),u=el(e.noDocument.readTime);r=Ai.newNoDocument(s,u),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return zn();{const s=Wn.fromSegments(e.unknownDocument.path),u=el(e.unknownDocument.version);r=Ai.newUnknownDocument(s,u)}}return e.readTime&&r.setReadTime(function(u){const d=new Ei(u[0],u[1]);return ar.fromTimestamp(d)}(e.readTime)),r}(this.serializer,r);if(!s.isNoDocument()||!s.version.isEqual(ar.min()))return s}return Ai.newInvalidDocument(e)}}function Zh(i){return new Ty(i)}class $m extends Vm{constructor(e,r){super(),this._r=e,this.trackRemovals=r,this.ar=new xa(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(e){const r=[];let s=0,u=new ci((d,p)=>gr(d.canonicalString(),p.canonicalString()));return this.changes.forEach((d,p)=>{const A=this.ar.get(d);if(r.push(this._r.removeEntry(e,d,A.readTime)),p.isValidDocument()){const N=my(this._r.serializer,p);u=u.add(d.path.popLast());const z=Ud(N);s+=z-A.size,r.push(this._r.addEntry(e,d,N))}else if(s-=A.size,this.trackRemovals){const N=my(this._r.serializer,p.convertToNoDocument(ar.min()));r.push(this._r.addEntry(e,d,N))}}),u.forEach(d=>{r.push(this._r.indexManager.addToCollectionParentIndex(e,d))}),r.push(this._r.updateMetadata(e,s)),Tt.waitFor(r)}getFromCache(e,r){return this._r.nr(e,r).next(s=>(this.ar.set(r,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,r){return this._r.ir(e,r).next(({documents:s,sr:u})=>(u.forEach((d,p)=>{this.ar.set(d,{size:p,readTime:s.get(d).readTime})}),s))}}function eu(i){return Qi(i,"remoteDocumentGlobal")}function tu(i){return Qi(i,"remoteDocumentsV14")}function xc(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Bm(i,e){const r=e.documentKey.path.toArray();return[i,kp(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function Dy(i,e){const r=i.path.toArray(),s=e.path.toArray();let u=0;for(let d=0;d<r.length-2&&d<s.length-2;++d)if(u=gr(r[d],s[d]),u)return u;return u=gr(r.length,s.length),u||(u=gr(r[r.length-2],s[s.length-2]),u||gr(r[r.length-1],s[s.length-1]))}class Xh{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Um{constructor(e,r,s,u){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next(u=>(s=u,this.remoteDocumentCache.getEntry(e,r))).next(u=>(null!==s&&zl(s.mutation,u,as.empty(),Ei.now()),u))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.getLocalViewOfDocuments(e,s,oe()).next(()=>s))}getLocalViewOfDocuments(e,r,s=oe()){const u=_();return this.populateOverlays(e,u,r).next(()=>this.computeViews(e,r,u,s).next(d=>{let p=yl();return d.forEach((A,N)=>{p=p.insert(A,N.overlayedDocument)}),p}))}getOverlayedDocuments(e,r){const s=_();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,oe()))}populateOverlays(e,r,s){const u=[];return s.forEach(d=>{r.has(d)||u.push(d)}),this.documentOverlayCache.getOverlays(e,u).next(d=>{d.forEach((p,A)=>{r.set(p,A)})})}computeViews(e,r,s,u){let d=ls();const p=m(),A=m();return r.forEach((N,z)=>{const se=s.get(z.key);u.has(z.key)&&(void 0===se||se.mutation instanceof $o)?d=d.insert(z.key,z):void 0!==se?(p.set(z.key,se.mutation.getFieldMask()),zl(se.mutation,z,se.mutation.getFieldMask(),Ei.now())):p.set(z.key,as.empty())}),this.recalculateAndSaveOverlays(e,d).next(N=>(N.forEach((z,se)=>p.set(z,se)),r.forEach((z,se)=>{var Me;return A.set(z,new Xh(se,null!==(Me=p.get(z))&&void 0!==Me?Me:null))}),A))}recalculateAndSaveOverlays(e,r){const s=m();let u=new Ii((p,A)=>p-A),d=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(p=>{for(const A of p)A.keys().forEach(N=>{const z=r.get(N);if(null===z)return;let se=s.get(N)||as.empty();se=A.applyToLocalView(z,se),s.set(N,se);const Me=(u.get(A.batchId)||oe()).add(N);u=u.insert(A.batchId,Me)})}).next(()=>{const p=[],A=u.getReverseIterator();for(;A.hasNext();){const N=A.getNext(),z=N.key,se=N.value,Me=f();se.forEach(ct=>{if(!d.has(ct)){const Nt=hm(r.get(ct),s.get(ct));null!==Nt&&Me.set(ct,Nt),d=d.add(ct)}}),p.push(this.documentOverlayCache.saveOverlays(e,z,Me))}return Tt.waitFor(p)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,r,s,u){return Wn.isDocumentKey((p=r).path)&&null===p.collectionGroup&&0===p.filters.length?this.getDocumentsMatchingDocumentQuery(e,r.path):Ya(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,u):this.getDocumentsMatchingCollectionQuery(e,r,s,u);var p}getNextDocuments(e,r,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,u).next(d=>{const p=u-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,u-d.size):Tt.resolve(_());let A=-1,N=d;return p.next(z=>Tt.forEach(z,(se,Me)=>(A<Me.largestBatchId&&(A=Me.largestBatchId),d.get(se)?Tt.resolve():this.remoteDocumentCache.getEntry(e,se).next(ct=>{N=N.insert(se,ct)}))).next(()=>this.populateOverlays(e,z,d)).next(()=>this.computeViews(e,N,z,oe())).next(se=>({batchId:A,changes:Du(se)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Wn(r)).next(s=>{let u=yl();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(e,r,s,u){const d=r.collectionGroup;let p=yl();return this.indexManager.getCollectionParents(e,d).next(A=>Tt.forEach(A,N=>{const z=(Me=r,ct=N.child(d),new xs(ct,null,Me.explicitOrderBy.slice(),Me.filters.slice(),Me.limit,Me.limitType,Me.startAt,Me.endAt));var Me,ct;return this.getDocumentsMatchingCollectionQuery(e,z,s,u).next(se=>{se.forEach((Me,ct)=>{p=p.insert(Me,ct)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,r,s,u){let d;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next(p=>(d=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,d,u))).next(p=>{d.forEach((N,z)=>{const se=z.getKey();null===p.get(se)&&(p=p.insert(se,Ai.newInvalidDocument(se)))});let A=yl();return p.forEach((N,z)=>{const se=d.get(N);void 0!==se&&zl(se.mutation,z,as.empty(),Ei.now()),qa(r,z)&&(A=A.insert(N,z))}),A})}}class jm{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,r){return Tt.resolve(this.ur.get(r))}saveBundleMetadata(e,r){return this.ur.set(r.id,{id:(u=r).id,version:u.version,createTime:To(u.createTime)}),Tt.resolve();var u}getNamedQuery(e,r){return Tt.resolve(this.cr.get(r))}saveNamedQuery(e,r){return this.cr.set(r.name,{name:(u=r).name,query:jh(u.bundledQuery),readTime:To(u.readTime)}),Tt.resolve();var u}}class Hm{constructor(){this.overlays=new Ii(Wn.comparator),this.lr=new Map}getOverlay(e,r){return Tt.resolve(this.overlays.get(r))}getOverlays(e,r){const s=_();return Tt.forEach(r,u=>this.getOverlay(e,u).next(d=>{null!==d&&s.set(u,d)})).next(()=>s)}saveOverlays(e,r,s){return s.forEach((u,d)=>{this.lt(e,r,d)}),Tt.resolve()}removeOverlaysForBatchId(e,r,s){const u=this.lr.get(s);return void 0!==u&&(u.forEach(d=>this.overlays=this.overlays.remove(d)),this.lr.delete(s)),Tt.resolve()}getOverlaysForCollection(e,r,s){const u=_(),d=r.length+1,p=new Wn(r.child("")),A=this.overlays.getIteratorFrom(p);for(;A.hasNext();){const N=A.getNext().value,z=N.getKey();if(!r.isPrefixOf(z.path))break;z.path.length===d&&N.largestBatchId>s&&u.set(N.getKey(),N)}return Tt.resolve(u)}getOverlaysForCollectionGroup(e,r,s,u){let d=new Ii((z,se)=>z-se);const p=this.overlays.getIterator();for(;p.hasNext();){const z=p.getNext().value;if(z.getKey().getCollectionGroup()===r&&z.largestBatchId>s){let se=d.get(z.largestBatchId);null===se&&(se=_(),d=d.insert(z.largestBatchId,se)),se.set(z.getKey(),z)}}const A=_(),N=d.getIterator();for(;N.hasNext()&&(N.getNext().value.forEach((z,se)=>A.set(z,se)),!(A.size()>=u)););return Tt.resolve(A)}lt(e,r,s){const u=this.overlays.get(s.key);if(null!==u){const p=this.lr.get(u.largestBatchId).delete(s.key);this.lr.set(u.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new Cp(r,s));let d=this.lr.get(r);void 0===d&&(d=oe(),this.lr.set(r,d)),this.lr.set(r,d.add(s.key))}}class Qh{constructor(){this.hr=new ci(Do.Pr),this.Ir=new ci(Do.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,r){const s=new Do(e,r);this.hr=this.hr.add(s),this.Ir=this.Ir.add(s)}Er(e,r){e.forEach(s=>this.addReference(s,r))}removeReference(e,r){this.dr(new Do(e,r))}Ar(e,r){e.forEach(s=>this.removeReference(s,r))}Rr(e){const r=new Wn(new Wr([])),s=new Do(r,e),u=new Do(r,e+1),d=[];return this.Ir.forEachInRange([s,u],p=>{this.dr(p),d.push(p.key)}),d}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const r=new Wn(new Wr([])),s=new Do(r,e),u=new Do(r,e+1);let d=oe();return this.Ir.forEachInRange([s,u],p=>{d=d.add(p.key)}),d}containsKey(e){const r=new Do(e,0),s=this.hr.firstAfterOrEqual(r);return null!==s&&e.isEqual(s.key)}}class Do{constructor(e,r){this.key=e,this.gr=r}static Pr(e,r){return Wn.comparator(e.key,r.key)||gr(e.gr,r.gr)}static Tr(e,r){return gr(e.gr,r.gr)||Wn.comparator(e.key,r.key)}}class zm{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.pr=1,this.yr=new ci(Do.Pr)}checkEmpty(e){return Tt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,r,s,u){const d=this.pr;this.pr++;const p=new Wl(d,r,s,u);this.mutationQueue.push(p);for(const A of u)this.yr=this.yr.add(new Do(A.key,d)),this.indexManager.addToCollectionParentIndex(e,A.key.path.popLast());return Tt.resolve(p)}lookupMutationBatch(e,r){return Tt.resolve(this.wr(r))}getNextMutationBatchAfterBatchId(e,r){const u=this.Sr(r+1),d=u<0?0:u;return Tt.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return Tt.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new Do(r,0),u=new Do(r,Number.POSITIVE_INFINITY),d=[];return this.yr.forEachInRange([s,u],p=>{const A=this.wr(p.gr);d.push(A)}),Tt.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new ci(gr);return r.forEach(u=>{const d=new Do(u,0),p=new Do(u,Number.POSITIVE_INFINITY);this.yr.forEachInRange([d,p],A=>{s=s.add(A.gr)})}),Tt.resolve(this.br(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,u=s.length+1;let d=s;Wn.isDocumentKey(d)||(d=d.child(""));const p=new Do(new Wn(d),0);let A=new ci(gr);return this.yr.forEachWhile(N=>{const z=N.key.path;return!!s.isPrefixOf(z)&&(z.length===u&&(A=A.add(N.gr)),!0)},p),Tt.resolve(this.br(A))}br(e){const r=[];return e.forEach(s=>{const u=this.wr(s);null!==u&&r.push(u)}),r}removeMutationBatch(e,r){Jn(0===this.Dr(r.batchId,"removed")),this.mutationQueue.shift();let s=this.yr;return Tt.forEach(r.mutations,u=>{const d=new Do(u.key,r.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.yr=s})}Fn(e){}containsKey(e,r){const s=new Do(r,0),u=this.yr.firstAfterOrEqual(s);return Tt.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(e){return Tt.resolve()}Dr(e,r){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const r=this.Sr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Jh{constructor(e){this.Cr=e,this.docs=new Ii(Wn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,u=this.docs.get(s),d=u?u.size:0,p=this.Cr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:p}),this.size+=p-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return Tt.resolve(s?s.document.mutableCopy():Ai.newInvalidDocument(r))}getEntries(e,r){let s=ls();return r.forEach(u=>{const d=this.docs.get(u);s=s.insert(u,d?d.document.mutableCopy():Ai.newInvalidDocument(u))}),Tt.resolve(s)}getDocumentsMatchingQuery(e,r,s,u){let d=ls();const p=r.path,A=new Wn(p.child("")),N=this.docs.getIteratorFrom(A);for(;N.hasNext();){const{key:z,value:{document:se}}=N.getNext();if(!p.isPrefixOf(z.path))break;z.path.length>p.length+1||oc(pu(se),s)<=0||(u.has(se.key)||qa(r,se))&&(d=d.insert(se.key,se.mutableCopy()))}return Tt.resolve(d)}getAllFromCollectionGroup(e,r,s,u){zn()}vr(e,r){return Tt.forEach(this.docs,s=>r(s))}newChangeBuffer(e){return new Hd(this)}getSize(e){return Tt.resolve(this.size)}}class Hd extends Vm{constructor(e){super(),this._r=e}applyChanges(e){const r=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?r.push(this._r.addEntry(e,u)):this._r.removeEntry(s)}),Tt.waitFor(r)}getFromCache(e,r){return this._r.getEntry(e,r)}getAllFromCache(e,r){return this._r.getEntries(e,r)}}class Wm{constructor(e){this.persistence=e,this.Fr=new xa(r=>vs(r),Vl),this.lastRemoteSnapshotVersion=ar.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Qh,this.targetCount=0,this.Nr=Cl.On()}forEachTarget(e,r){return this.Fr.forEach((s,u)=>r(u)),Tt.resolve()}getLastRemoteSnapshotVersion(e){return Tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Tt.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Tt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Mr&&(this.Mr=r),Tt.resolve()}kn(e){this.Fr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Nr=new Cl(r),this.highestTargetId=r),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,r){return this.kn(r),this.targetCount+=1,Tt.resolve()}updateTargetData(e,r){return this.kn(r),Tt.resolve()}removeTargetData(e,r){return this.Fr.delete(r.target),this.Or.Rr(r.targetId),this.targetCount-=1,Tt.resolve()}removeTargets(e,r,s){let u=0;const d=[];return this.Fr.forEach((p,A)=>{A.sequenceNumber<=r&&null===s.get(A.targetId)&&(this.Fr.delete(p),d.push(this.removeMatchingKeysForTargetId(e,A.targetId)),u++)}),Tt.waitFor(d).next(()=>u)}getTargetCount(e){return Tt.resolve(this.targetCount)}getTargetData(e,r){const s=this.Fr.get(r)||null;return Tt.resolve(s)}addMatchingKeys(e,r,s){return this.Or.Er(r,s),Tt.resolve()}removeMatchingKeys(e,r,s){this.Or.Ar(r,s);const u=this.persistence.referenceDelegate,d=[];return u&&r.forEach(p=>{d.push(u.markPotentiallyOrphaned(e,p))}),Tt.waitFor(d)}removeMatchingKeysForTargetId(e,r){return this.Or.Rr(r),Tt.resolve()}getMatchingKeysForTargetId(e,r){const s=this.Or.mr(r);return Tt.resolve(s)}containsKey(e,r){return Tt.resolve(this.Or.containsKey(r))}}class zd{constructor(e,r){this.Br={},this.overlays={},this.Lr=new Bi(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Wm(this),this.indexManager=new Ey,this.remoteDocumentCache=new Jh(s=>this.referenceDelegate.Qr(s)),this.serializer=new gy(r),this.Kr=new jm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Hm,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.Br[e.toKey()];return s||(s=new zm(r,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,r,s){sn("MemoryPersistence","Starting transaction:",e);const u=new ef(this.Lr.next());return this.referenceDelegate.$r(),s(u).next(d=>this.referenceDelegate.Ur(u).next(()=>d)).toPromise().then(d=>(u.raiseOnCommittedEvent(),d))}Wr(e,r){return Tt.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,r)))}}class ef extends Zr{constructor(e){super(),this.currentSequenceNumber=e}}class Wd{constructor(e){this.persistence=e,this.Gr=new Qh,this.zr=null}static jr(e){return new Wd(e)}get Hr(){if(this.zr)return this.zr;throw zn()}addReference(e,r,s){return this.Gr.addReference(s,r),this.Hr.delete(s.toString()),Tt.resolve()}removeReference(e,r,s){return this.Gr.removeReference(s,r),this.Hr.add(s.toString()),Tt.resolve()}markPotentiallyOrphaned(e,r){return this.Hr.add(r.toString()),Tt.resolve()}removeTarget(e,r){this.Gr.Rr(r.targetId).forEach(u=>this.Hr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next(u=>{u.forEach(d=>this.Hr.add(d.toString()))}).next(()=>s.removeTargetData(e,r))}$r(){this.zr=new Set}Ur(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Tt.forEach(this.Hr,s=>{const u=Wn.fromPath(s);return this.Jr(e,u).next(d=>{d||r.removeEntry(u,ar.min())})}).next(()=>(this.zr=null,r.apply(e)))}updateLimboDocument(e,r){return this.Jr(e,r).next(s=>{s?this.Hr.delete(r.toString()):this.Hr.add(r.toString())})}Qr(e){return 0}Jr(e,r){return Tt.or([()=>Tt.resolve(this.Gr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Wr(e,r)])}}class Gd{constructor(e){this.serializer=e}N(e,r,s,u){const d=new Us("createOrUpgrade",r);var N;s<1&&u>=1&&(e.createObjectStore("owner"),(N=e).createObjectStore("mutationQueues",{keyPath:"userId"}),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",T,{unique:!0}),N.createObjectStore("documentMutations"),Gm(e),function(N){N.createObjectStore("remoteDocuments")}(e));let p=Tt.resolve();return s<3&&u>=3&&(0!==s&&(function(N){N.deleteObjectStore("targetDocuments"),N.deleteObjectStore("targets"),N.deleteObjectStore("targetGlobal")}(e),Gm(e)),p=p.next(()=>function(N){const z=N.store("targetGlobal"),se={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ar.min().toTimestamp(),targetCount:0};return z.put("targetGlobalKey",se)}(d))),s<4&&u>=4&&(0!==s&&(p=p.next(()=>function(N,z){return z.store("mutations").W().next(se=>{N.deleteObjectStore("mutations"),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",T,{unique:!0});const Me=z.store("mutations"),ct=se.map(Nt=>Me.put(Nt));return Tt.waitFor(ct)})}(e,d))),p=p.next(()=>{!function(N){N.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&u>=5&&(p=p.next(()=>this.Zr(d))),s<6&&u>=6&&(p=p.next(()=>(function(N){N.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(d)))),s<7&&u>=7&&(p=p.next(()=>this.ei(d))),s<8&&u>=8&&(p=p.next(()=>this.ti(e,d))),s<9&&u>=9&&(p=p.next(()=>{!function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&u>=10&&(p=p.next(()=>this.ni(d))),s<11&&u>=11&&(p=p.next(()=>{(function(N){N.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(N){N.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&u>=12&&(p=p.next(()=>{!function(N){const z=N.createObjectStore("documentOverlays",{keyPath:Da});z.createIndex("collectionPathOverlayIndex",cl,{unique:!1}),z.createIndex("collectionGroupOverlayIndex",_u,{unique:!1})}(e)})),s<13&&u>=13&&(p=p.next(()=>function(N){const z=N.createObjectStore("remoteDocumentsV14",{keyPath:bt});z.createIndex("documentKeyIndex",_n),z.createIndex("collectionGroupIndex",Pt)}(e)).next(()=>this.ri(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(p=p.next(()=>this.ii(e,d))),s<15&&u>=15&&(p=p.next(()=>function(N){N.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),N.createObjectStore("indexState",{keyPath:ni}).createIndex("sequenceNumberIndex",Qo,{unique:!1}),N.createObjectStore("indexEntries",{keyPath:fi}).createIndex("documentKeyIndex",ul,{unique:!1})}(e))),p}Xr(e){let r=0;return e.store("remoteDocuments").Y((s,u)=>{r+=Ud(u)}).next(()=>{const s={byteSize:r};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}Zr(e){const r=e.store("mutationQueues"),s=e.store("mutations");return r.W().next(u=>Tt.forEach(u,d=>{const p=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",p).next(A=>Tt.forEach(A,N=>{Jn(N.userId===d.userId);const z=tl(this.serializer,N);return Om(e,d.userId,z).next(()=>{})}))}))}ei(e){const r=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const d=[];return s.Y((p,A)=>{const N=new Wr(p),z=[0,So(N)];d.push(r.get(z).next(se=>se?Tt.resolve():r.put({targetId:0,path:So(N),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>Tt.waitFor(d))})}ti(e,r){e.createObjectStore("collectionParents",{keyPath:li});const s=r.store("collectionParents"),u=new Gh,d=p=>{if(u.add(p)){const A=p.lastSegment(),N=p.popLast();return s.put({collectionId:A,parent:So(N)})}};return r.store("remoteDocuments").Y({J:!0},(p,A)=>{const N=new Wr(p);return d(N.popLast())}).next(()=>r.store("documentMutations").Y({J:!0},([p,A,N],z)=>{const se=O(A);return d(se.popLast())}))}ni(e){const r=e.store("targets");return r.Y((s,u)=>{const d=Mu(u),p=Lp(this.serializer,d);return r.put(p)})}ri(e,r){const s=r.store("remoteDocuments"),u=[];return s.Y((d,p)=>{const A=r.store("remoteDocumentsV14"),N=(Me=p,Me.document?new Wn(Wr.fromString(Me.document.name).popFirst(5)):Me.noDocument?Wn.fromSegments(Me.noDocument.path):Me.unknownDocument?Wn.fromSegments(Me.unknownDocument.path):zn()).path.toArray(),z={prefixPath:N.slice(0,N.length-2),collectionGroup:N[N.length-2],documentId:N[N.length-1],readTime:p.readTime||[0,0],unknownDocument:p.unknownDocument,noDocument:p.noDocument,document:p.document,hasCommittedMutations:!!p.hasCommittedMutations};var Me;u.push(A.put(z))}).next(()=>Tt.waitFor(u))}ii(e,r){const s=r.store("mutations"),u=Zh(this.serializer),d=new zd(Wd.jr,this.serializer.ut);return s.W().next(p=>{const A=new Map;return p.forEach(N=>{var z;let se=null!==(z=A.get(N.userId))&&void 0!==z?z:oe();tl(this.serializer,N).keys().forEach(Me=>se=se.add(Me)),A.set(N.userId,se)}),Tt.forEach(A,(N,z)=>{const se=new or(z),Me=Ou.ct(this.serializer,se),ct=d.getIndexManager(se),Nt=jd.ct(se,this.serializer,ct,d.referenceDelegate);return new Um(u,Nt,Me,ct).recalculateAndSaveOverlaysForDocumentKeys(new Ua(r,Bi._e),N).next()})})}}function Gm(i){i.createObjectStore("targetDocuments",{keyPath:Ar}).createIndex("documentTargetsIndex",Di,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Un,{unique:!0}),i.createObjectStore("targetGlobal")}const tf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class jp{constructor(e,r,s,u,d,p,A,N,z,se,Me=15){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=s,this.si=d,this.window=p,this.document=A,this.oi=z,this._i=se,this.ai=Me,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=ct=>Promise.resolve(),!jp.D())throw new vn(Ot.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Kh(this,u),this.Ii=r+"main",this.serializer=new gy(N),this.Ti=new _o(this.Ii,this.ai,new Gd(this.serializer)),this.qr=new qh(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Zh(this.serializer),this.Kr=new wm,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===se&&gi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new vn(Ot.FAILED_PRECONDITION,tf);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new Bi(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var r=this;return this.Pi=function(){var s=(0,l.Z)(function*(u){if(r.started)return e(u)});return function(u){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var r=(0,l.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return r.apply(this,arguments)}}())}setNetworkEnabled(e){var r=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,l.Z)(function*(){r.started&&(yield r.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>nf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(r=>{r||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(r=>this.isPrimary&&!r?this.pi(e).next(()=>!1):!!r&&this.yi(e).next(()=>!0))).catch(e=>{if(Ms(e))return sn("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return sn("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return Yd(e).get("owner").next(r=>Tt.resolve(this.wi(r)))}Si(e){return nf(e).delete(this.clientId)}bi(){var e=this;return(0,l.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const r=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=Qi(s,"clientMetadata");return u.W().next(d=>{const p=e.Ci(d,18e5),A=d.filter(N=>-1===p.indexOf(N));return Tt.forEach(A,N=>u.delete(N.clientId)).next(()=>A)})}).catch(()=>[]);if(e.Ei)for(const s of r)e.Ei.removeItem(e.vi(s.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?Tt.resolve(!0):Yd(e).get("owner").next(r=>{if(null!==r&&this.Di(r.leaseTimestampMs,5e3)&&!this.Fi(r.ownerId)){if(this.wi(r)&&this.networkEnabled)return!0;if(!this.wi(r)){if(!r.allowTabSynchronization)throw new vn(Ot.FAILED_PRECONDITION,tf);return!1}}return!(!this.networkEnabled||!this.inForeground)||nf(e).W().next(s=>void 0===this.Ci(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(r=>(this.isPrimary!==r&&sn("IndexedDbPersistence",`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}shutdown(){var e=this;return(0,l.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],r=>{const s=new Ua(r,Bi._e);return e.pi(s).next(()=>e.Si(s))}),e.Ti.close(),e.Ni()})()}Ci(e,r){return e.filter(s=>this.Di(s.updateTimeMs,r)&&!this.Fi(s.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>nf(e).W().next(r=>this.Ci(r,18e5).map(s=>s.clientId)))}get started(){return this.kr}getMutationQueue(e,r){return jd.ct(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Pm(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Ou.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,r,s){sn("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===r?"readonly":"readwrite",d=15===(N=this.ai)?lc:14===N?js:13===N?yu:12===N?ac:11===N?Ca:void zn();var N;let p;return this.Ti.runTransaction(e,u,d,A=>(p=new Ua(A,this.Lr?this.Lr.next():Bi._e),"readwrite-primary"===r?this.fi(p).next(N=>!!N||this.gi(p)).next(N=>{if(!N)throw gi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new vn(Ot.FAILED_PRECONDITION,Jt);return s(p)}).next(N=>this.yi(p).next(()=>N)):this.Li(p).next(()=>s(p)))).then(A=>(p.raiseOnCommittedEvent(),A))}Li(e){return Yd(e).get("owner").next(r=>{if(null!==r&&this.Di(r.leaseTimestampMs,5e3)&&!this.Fi(r.ownerId)&&!this.wi(r)&&!(this._i||this.allowTabSynchronization&&r.allowTabSynchronization))throw new vn(Ot.FAILED_PRECONDITION,tf)})}yi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Yd(e).put("owner",r)}static D(){return _o.D()}pi(e){const r=Yd(e);return r.get("owner").next(s=>this.wi(s)?(sn("IndexedDbPersistence","Releasing primary lease."),r.delete("owner")):Tt.resolve())}Di(e,r){const s=Date.now();return!(e<s-r||e>s&&(gi(`Detected an update time that is in the future: ${e} > ${s}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const r=/(?:Version|Mobile)\/1[456]/;(0,_e.G6)()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var r;try{const s=null!==(null===(r=this.Ei)||void 0===r?void 0:r.getItem(this.vi(e)));return sn("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return gi("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){gi("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Yd(i){return Qi(i,"owner")}function nf(i){return Qi(i,"clientMetadata")}function rf(i,e){let r=i.projectId;return i.isDefaultDatabase||(r+="."+i.database),"firestore/"+e+"/"+r+"/"}class sf{constructor(e,r,s,u){this.targetId=e,this.fromCache=r,this.ki=s,this.qi=u}static Qi(e,r){let s=oe(),u=oe();for(const d of r.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new sf(e,r.fromCache,s,u)}}class af{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class lf{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,r){this.Gi=e,this.indexManager=r,this.Ki=!0}getDocumentsMatchingQuery(e,r,s,u){const d={result:null};return this.zi(e,r).next(p=>{d.result=p}).next(()=>{if(!d.result)return this.ji(e,r,u,s).next(p=>{d.result=p})}).next(()=>{if(d.result)return;const p=new af;return this.Hi(e,r,p).next(A=>{if(d.result=A,this.$i)return this.Ji(e,r,p,A.size)})}).next(()=>d.result)}Ji(e,r,s,u){return s.documentReadCount<this.Ui?(wi()<=Q.in.DEBUG&&sn("QueryEngine","SDK will not create cache indexes for query:",Ma(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Tt.resolve()):(wi()<=Q.in.DEBUG&&sn("QueryEngine","Query:",Ma(r),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Wi*u?(wi()<=Q.in.DEBUG&&sn("QueryEngine","The SDK decides to create cache indexes for query:",Ma(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vo(r))):Tt.resolve())}zi(e,r){if($l(r))return Tt.resolve(null);let s=Vo(r);return this.indexManager.getIndexType(e,s).next(u=>0===u?null:(null!==r.limit&&1===u&&(r=Sd(r,null,"F"),s=Vo(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next(d=>{const p=oe(...d);return this.Gi.getDocuments(e,p).next(A=>this.indexManager.getMinOffset(e,s).next(N=>{const z=this.Yi(r,A);return this.Zi(r,z,p,N.readTime)?this.zi(e,Sd(r,null,"F")):this.Xi(e,z,r,N)}))})))}ji(e,r,s,u){return $l(r)||u.isEqual(ar.min())?Tt.resolve(null):this.Gi.getDocuments(e,s).next(d=>{const p=this.Yi(r,d);return this.Zi(r,p,s,u)?Tt.resolve(null):(wi()<=Q.in.DEBUG&&sn("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Ma(r)),this.Xi(e,p,r,Gi(u,-1)).next(A=>A))})}Yi(e,r){let s=new ci(xh(e));return r.forEach((u,d)=>{qa(e,d)&&(s=s.add(d))}),s}Zi(e,r,s,u){if(null===e.limit)return!1;if(s.size!==r.size)return!0;const d="F"===e.limitType?r.last():r.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}Hi(e,r,s){return wi()<=Q.in.DEBUG&&sn("QueryEngine","Using full collection scan to execute query:",Ma(r)),this.Gi.getDocumentsMatchingQuery(e,r,Ao.min(),s)}Xi(e,r,s,u){return this.Gi.getDocumentsMatchingQuery(e,s,u).next(d=>(r.forEach(p=>{d=d.insert(p.key,p)}),d))}}class Nc{constructor(e,r,s,u){this.persistence=e,this.es=r,this.serializer=u,this.ts=new Ii(gr),this.ns=new xa(d=>vs(d),Vl),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(s)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Um(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.ts))}}function Ym(i,e,r,s){return new Nc(i,e,r,s)}function qm(i,e){return Km.apply(this,arguments)}function Km(){return Km=(0,l.Z)(function*(i,e){const r=$n(i);return yield r.persistence.runTransaction("Handle user change","readonly",s=>{let u;return r.mutationQueue.getAllMutationBatches(s).next(d=>(u=d,r.os(e),r.mutationQueue.getAllMutationBatches(s))).next(d=>{const p=[],A=[];let N=oe();for(const z of u){p.push(z.batchId);for(const se of z.mutations)N=N.add(se.key)}for(const z of d){A.push(z.batchId);for(const se of z.mutations)N=N.add(se.key)}return r.localDocuments.getDocuments(s,N).next(z=>({_s:z,removedBatchIds:p,addedBatchIds:A}))})})}),Km.apply(this,arguments)}function qd(i){const e=$n(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.qr.getLastRemoteSnapshotVersion(r))}function zp(i,e,r){let s=oe(),u=oe();return r.forEach(d=>s=s.add(d)),e.getEntries(i,s).next(d=>{let p=ls();return r.forEach((A,N)=>{const z=d.get(A);N.isFoundDocument()!==z.isFoundDocument()&&(u=u.add(A)),N.isNoDocument()&&N.version.isEqual(ar.min())?(e.removeEntry(A,N.readTime),p=p.insert(A,N)):!z.isValidDocument()||N.version.compareTo(z.version)>0||0===N.version.compareTo(z.version)&&z.hasPendingWrites?(e.addEntry(N),p=p.insert(A,N)):sn("LocalStore","Ignoring outdated watch update for ",A,". Current version:",z.version," Watch version:",N.version)}),{us:p,cs:u}})}function Zm(i,e){const r=$n(i);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Lu(i,e){const r=$n(i);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return r.qr.getTargetData(s,e).next(d=>d?(u=d,Tt.resolve(u)):r.qr.allocateTargetId(s).next(p=>(u=new Kl(e,p,"TargetPurposeListen",s.currentSequenceNumber),r.qr.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=r.ts.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.ts=r.ts.insert(s.targetId,s),r.ns.set(e,s.targetId)),s})}function Fu(i,e,r){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,l.Z)(function*(i,e,r){const s=$n(i),u=s.ts.get(e),d=r?"readwrite":"readwrite-primary";try{r||(yield s.persistence.runTransaction("Release target",d,p=>s.persistence.referenceDelegate.removeTarget(p,u)))}catch(p){if(!Ms(p))throw p;sn("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.ts=s.ts.remove(e),s.ns.delete(u.target)}),Wp.apply(this,arguments)}function uf(i,e,r){const s=$n(i);let u=ar.min(),d=oe();return s.persistence.runTransaction("Execute query","readwrite",p=>function(N,z,se){const Me=$n(N),ct=Me.ns.get(se);return void 0!==ct?Tt.resolve(Me.ts.get(ct)):Me.qr.getTargetData(z,se)}(s,p,Vo(e)).next(A=>{if(A)return u=A.lastLimboFreeSnapshotVersion,s.qr.getMatchingKeysForTargetId(p,A.targetId).next(N=>{d=N})}).next(()=>s.es.getDocumentsMatchingQuery(p,e,r?u:ar.min(),r?d:oe())).next(A=>(Jm(s,Ul(e),A),{documents:A,ls:d})))}function Xm(i,e){const r=$n(i),s=$n(r.qr),u=r.ts.get(e);return u?Promise.resolve(u.target):r.persistence.runTransaction("Get target data","readonly",d=>s._t(d,e).next(p=>p?p.target:null))}function Qm(i,e){const r=$n(i),s=r.rs.get(e)||ar.min();return r.persistence.runTransaction("Get new document changes","readonly",u=>r.ss.getAllFromCollectionGroup(u,e,Gi(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Jm(r,e,u),u))}function Jm(i,e,r){let s=i.rs.get(e)||ar.min();r.forEach((u,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),i.rs.set(e,s)}function Vu(){return Vu=(0,l.Z)(function*(i,e,r,s){const u=$n(i);let d=oe(),p=ls();for(const z of r){const se=e.hs(z.metadata.name);z.document&&(d=d.add(se));const Me=e.Ps(z);Me.setReadTime(e.Is(z.metadata.readTime)),p=p.insert(se,Me)}const A=u.ss.newChangeBuffer({trackRemovals:!0}),N=yield Lu(u,(se=s,Vo(Eo(Wr.fromString(`__bundle__/docs/${se}`)))));var se;return u.persistence.runTransaction("Apply bundle documents","readwrite",z=>zp(z,A,p).next(se=>(A.apply(z),se)).next(se=>u.qr.removeMatchingKeysForTargetId(z,N.targetId).next(()=>u.qr.addMatchingKeys(z,d,N.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(z,se.us,se.cs)).next(()=>se.us)))}),Vu.apply(this,arguments)}function by(i,e){return ev.apply(this,arguments)}function ev(){return ev=(0,l.Z)(function*(i,e,r=oe()){const s=yield Lu(i,Vo(jh(e.bundledQuery))),u=$n(i);return u.persistence.runTransaction("Save named query","readwrite",d=>{const p=To(e.readTime);if(s.snapshotVersion.compareTo(p)>=0)return u.Kr.saveNamedQuery(d,e);const A=s.withResumeToken(yo.EMPTY_BYTE_STRING,p);return u.ts=u.ts.insert(A.targetId,A),u.qr.updateTargetData(d,A).next(()=>u.qr.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>u.qr.addMatchingKeys(d,r,s.targetId)).next(()=>u.Kr.saveNamedQuery(d,e))})}),ev.apply(this,arguments)}function wy(i,e){return`firestore_clients_${i}_${e}`}function Ay(i,e,r){let s=`firestore_mutations_${i}_${r}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function tv(i,e){return`firestore_targets_${i}_${e}`}class Gp{constructor(e,r,s,u){this.user=e,this.batchId=r,this.state=s,this.error=u}static Ts(e,r,s){const u=JSON.parse(s);let d,p="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return p&&u.error&&(p="string"==typeof u.error.message&&"string"==typeof u.error.code,p&&(d=new vn(u.error.code,u.error.message))),p?new Gp(e,r,u.state,d):(gi("SharedClientState",`Failed to parse mutation state for ID '${r}': ${s}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class kc{constructor(e,r,s){this.targetId=e,this.state=r,this.error=s}static Ts(e,r){const s=JSON.parse(r);let u,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(u=new vn(s.error.code,s.error.message))),d?new kc(e,s.state,u):(gi("SharedClientState",`Failed to parse target state for ID '${e}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cf{constructor(e,r){this.clientId=e,this.activeTargetIds=r}static Ts(e,r){const s=JSON.parse(r);let u="object"==typeof s&&s.activeTargetIds instanceof Array,d=Bt();for(let p=0;u&&p<s.activeTargetIds.length;++p)u=vu(s.activeTargetIds[p]),d=d.add(s.activeTargetIds[p]);return u?new cf(e,d):(gi("SharedClientState",`Failed to parse client data for instance '${e}': ${r}`),null)}}class Yp{constructor(e,r){this.clientId=e,this.onlineState=r}static Ts(e){const r=JSON.parse(e);return"object"==typeof r&&-1!==["Unknown","Online","Offline"].indexOf(r.onlineState)&&"string"==typeof r.clientId?new Yp(r.clientId,r.onlineState):(gi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class qp{constructor(){this.activeTargetIds=Bt()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kp{constructor(e,r,s,u,d){this.window=e,this.si=r,this.persistenceKey=s,this.Rs=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Ii(gr),this.started=!1,this.ps=[];const p=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ys=wy(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new qp),this.Ss=new RegExp(`^firestore_clients_${p}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${p}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${p}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(N){return`firestore_bundle_loaded_v2_${N}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,l.Z)(function*(){const r=yield e.syncEngine.Bi();for(const u of r){if(u===e.Rs)continue;const d=e.getItem(wy(e.persistenceKey,u));if(d){const p=cf.Ts(u,d);p&&(e.gs=e.gs.insert(p.clientId,p))}}e.Fs();const s=e.storage.getItem(e.Cs);if(s){const u=e.Ms(s);u&&e.xs(u)}for(const u of e.ps)e.fs(u);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let r=!1;return this.gs.forEach((s,u)=>{u.activeTargetIds.has(e)&&(r=!0)}),r}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,r,s){this.Ns(e,r,s),this.Bs(e)}addLocalQueryTarget(e){let r="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(tv(this.persistenceKey,e));if(s){const u=kc.Ts(e,s);u&&(r=u.state)}}return this.Ls.ds(e),this.Fs(),r}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(tv(this.persistenceKey,e))}updateQueryState(e,r,s){this.ks(e,r,s)}handleUserChange(e,r,s){r.forEach(u=>{this.Bs(u)}),this.currentUser=e,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const r=this.storage.getItem(e);return sn("SharedClientState","READ",e,r),r}setItem(e,r){sn("SharedClientState","SET",e,r),this.storage.setItem(e,r)}removeItem(e){sn("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var r=this;const s=e;if(s.storageArea===this.storage){if(sn("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ys)return void gi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,l.Z)(function*(){if(r.started){if(null!==s.key)if(r.Ss.test(s.key)){if(null==s.newValue){const u=r.Ks(s.key);return r.$s(u,null)}{const u=r.Us(s.key,s.newValue);if(u)return r.$s(u.clientId,u)}}else if(r.bs.test(s.key)){if(null!==s.newValue){const u=r.Ws(s.key,s.newValue);if(u)return r.Gs(u)}}else if(r.Ds.test(s.key)){if(null!==s.newValue){const u=r.zs(s.key,s.newValue);if(u)return r.js(u)}}else if(s.key===r.Cs){if(null!==s.newValue){const u=r.Ms(s.newValue);if(u)return r.xs(u)}}else if(s.key===r.ws){const u=function(p){let A=Bi._e;if(null!=p)try{const N=JSON.parse(p);Jn("number"==typeof N),A=N}catch(N){gi("SharedClientState","Failed to read sequence number from WebStorage",N)}return A}(s.newValue);u!==Bi._e&&r.sequenceNumberHandler(u)}else if(s.key===r.vs){const u=r.Hs(s.newValue);yield Promise.all(u.map(d=>r.syncEngine.Js(d)))}}else r.ps.push(s)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,r,s){const u=new Gp(this.currentUser,e,r,s),d=Ay(this.persistenceKey,this.currentUser,e);this.setItem(d,u.Es())}Bs(e){const r=Ay(this.persistenceKey,this.currentUser,e);this.removeItem(r)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,r,s){const u=tv(this.persistenceKey,e),d=new kc(e,r,s);this.setItem(u,d.Es())}Qs(e){const r=JSON.stringify(Array.from(e));this.setItem(this.vs,r)}Ks(e){const r=this.Ss.exec(e);return r?r[1]:null}Us(e,r){const s=this.Ks(e);return cf.Ts(s,r)}Ws(e,r){const s=this.bs.exec(e),u=Number(s[1]);return Gp.Ts(new or(void 0!==s[2]?s[2]:null),u,r)}zs(e,r){const s=this.Ds.exec(e),u=Number(s[1]);return kc.Ts(u,r)}Ms(e){return Yp.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var r=this;return(0,l.Z)(function*(){if(e.user.uid===r.currentUser.uid)return r.syncEngine.Ys(e.batchId,e.state,e.error);sn("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,r){const s=r?this.gs.insert(e,r):this.gs.remove(e),u=this.Os(this.gs),d=this.Os(s),p=[],A=[];return d.forEach(N=>{u.has(N)||p.push(N)}),u.forEach(N=>{d.has(N)||A.push(N)}),this.syncEngine.Xs(p,A).then(()=>{this.gs=s})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let r=Bt();return e.forEach((s,u)=>{r=r.unionWith(u.activeTargetIds)}),r}}class df{constructor(){this.eo=new qp,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,r,s){this.no[e]=r}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new qp,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class bl{ro(e){}shutdown(){}}class Lc{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){sn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){sn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Kd=null;function hf(){return null===Kd?Kd=268435456+Math.round(2147483648*Math.random()):Kd++,"0x"+Kd.toString(16)}const nv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class V0{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Is="WebChannelConnection";class $0 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),d=encodeURIComponent(this.databaseId.database);this.mo=s+"://"+r.host,this.fo=`projects/${u}/databases/${d}`,this.po="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${d}`}get yo(){return!1}wo(r,s,u,d,p){const A=hf(),N=this.So(r,s);sn("RestConnection",`Sending RPC '${r}' ${A}:`,N,u);const z={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(z,d,p),this.Do(r,N,z,u).then(se=>(sn("RestConnection",`Received RPC '${r}' ${A}: `,se),se),se=>{throw $i("RestConnection",`RPC '${r}' ${A} failed with error: `,se,"url: ",N,"request:",u),se})}Co(r,s,u,d,p,A){return this.wo(r,s,u,d,p)}bo(r,s,u){r["X-Goog-Api-Client"]="gl-js/ fire/"+ei,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((d,p)=>r[p]=d),u&&u.headers.forEach((d,p)=>r[p]=d)}So(r,s){return`${this.mo}/v1/${s}:${nv[r]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,r,s,u){const d=hf();return new Promise((p,A)=>{const N=new yn;N.setWithCredentials(!0),N.listenOnce(Ne.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case j.NO_ERROR:const se=N.getResponseJson();sn(Is,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(se)),p(se);break;case j.TIMEOUT:sn(Is,`RPC '${e}' ${d} timed out`),A(new vn(Ot.DEADLINE_EXCEEDED,"Request time out"));break;case j.HTTP_ERROR:const Me=N.getStatus();if(sn(Is,`RPC '${e}' ${d} failed with status:`,Me,"response text:",N.getResponseText()),Me>0){let ct=N.getResponseJson();Array.isArray(ct)&&(ct=ct[0]);const Nt=null==ct?void 0:ct.error;if(Nt&&Nt.status&&Nt.message){const Sn=function(Pn){const fr=Pn.toLowerCase().replace(/_/g,"-");return Object.values(Ot).indexOf(fr)>=0?fr:Ot.UNKNOWN}(Nt.status);A(new vn(Sn,Nt.message))}else A(new vn(Ot.UNKNOWN,"Server responded with status "+N.getStatus()))}else A(new vn(Ot.UNAVAILABLE,"Connection failed."));break;default:zn()}}finally{sn(Is,`RPC '${e}' ${d} completed.`)}});const z=JSON.stringify(u);sn(Is,`RPC '${e}' ${d} sending request:`,u),N.send(r,"POST",z,s,15)})}vo(e,r,s){const u=hf(),d=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=hu(),A=C(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},z=this.longPollingOptions.timeoutSeconds;void 0!==z&&(N.longPollingTimeout=Math.round(1e3*z)),this.useFetchStreams&&(N.xmlHttpFactory=new Ze({})),this.bo(N.initMessageHeaders,r,s),N.encodeInitMessageHeaders=!0;const se=d.join("");sn(Is,`Creating RPC '${e}' stream ${u}: ${se}`,N);const Me=p.createWebChannel(se,N);let ct=!1,Nt=!1;const Sn=new V0({co:Pn=>{Nt?sn(Is,`Not sending because RPC '${e}' stream ${u} is closed:`,Pn):(ct||(sn(Is,`Opening RPC '${e}' stream ${u} transport.`),Me.open(),ct=!0),sn(Is,`RPC '${e}' stream ${u} sending:`,Pn),Me.send(Pn))},lo:()=>Me.close()}),Rn=(Pn,fr,Or)=>{Pn.listen(fr,Sr=>{try{Or(Sr)}catch(oi){setTimeout(()=>{throw oi},0)}})};return Rn(Me,Yt.EventType.OPEN,()=>{Nt||sn(Is,`RPC '${e}' stream ${u} transport opened.`)}),Rn(Me,Yt.EventType.CLOSE,()=>{Nt||(Nt=!0,sn(Is,`RPC '${e}' stream ${u} transport closed`),Sn.Ro())}),Rn(Me,Yt.EventType.ERROR,Pn=>{Nt||(Nt=!0,$i(Is,`RPC '${e}' stream ${u} transport errored:`,Pn),Sn.Ro(new vn(Ot.UNAVAILABLE,"The operation could not be completed")))}),Rn(Me,Yt.EventType.MESSAGE,Pn=>{var fr;if(!Nt){const Or=Pn.data[0];Jn(!!Or);const oi=Or.error||(null===(fr=Or[0])||void 0===fr?void 0:fr.error);if(oi){sn(Is,`RPC '${e}' stream ${u} received error:`,oi);const Li=oi.status;let bi=function(Ih){const R_=Io[Ih];if(void 0!==R_)return pm(R_)}(Li),jo=oi.message;void 0===bi&&(bi=Ot.INTERNAL,jo="Unknown error status: "+Li+" with message "+oi.message),Nt=!0,Sn.Ro(new vn(bi,jo)),Me.close()}else sn(Is,`RPC '${e}' stream ${u} received:`,Or),Sn.Vo(Or)}}),Rn(A,$.STAT_EVENT,Pn=>{Pn.stat===De.PROXY?sn(Is,`RPC '${e}' stream ${u} detected buffering proxy`):Pn.stat===De.NOPROXY&&sn(Is,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Sn.Ao()},0),Sn}}function ff(){return typeof window<"u"?window:null}function Fc(){return typeof document<"u"?document:null}function pf(i){return new Gl(i,!0)}class rv{constructor(e,r,s=1e3,u=1.5,d=6e4){this.si=e,this.timerId=r,this.Fo=s,this.Mo=u,this.xo=d,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const r=Math.floor(this.Oo+this.qo()),s=Math.max(0,Date.now()-this.Bo),u=Math.max(0,r-s);u>0&&sn("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Oo} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,u,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Zp{constructor(e,r,s,u,d,p,A,N){this.si=e,this.Ko=s,this.$o=u,this.connection=d,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=A,this.listener=N,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new rv(e,r)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,l.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,l.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,r){var s=this;return(0,l.Z)(function*(){s.t_(),s.n_(),s.zo.cancel(),s.Uo++,4!==e?s.zo.reset():r&&r.code===Ot.RESOURCE_EXHAUSTED?(gi(r.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),s.zo.Lo()):r&&r.code===Ot.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.r_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Io(r)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),r=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Uo===r&&this.s_(s,u)},s=>{e(()=>{const u=new vn(Ot.UNKNOWN,"Fetching auth token failed: "+s.message);return this.o_(u)})})}s_(e,r){const s=this.i_(this.Uo);this.stream=this.__(e,r),this.stream.ho(()=>{s(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(u=>{s(()=>this.o_(u))}),this.stream.onMessage(u=>{s(()=>this.onMessage(u))})}Jo(){var e=this;this.state=5,this.zo.ko((0,l.Z)(function*(){e.state=0,e.start()}))}o_(e){return sn("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return r=>{this.si.enqueueAndForget(()=>this.Uo===e?r():(sn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sy extends Zp{constructor(e,r,s,u,d,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,u,p),this.serializer=d}__(e,r){return this.connection.vo("Listen",e,r)}onMessage(e){this.zo.reset();const r=function Im(i,e){let r;if("targetChange"in e){const s="NO_CHANGE"===(z=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===z?1:"REMOVE"===z?2:"CURRENT"===z?3:"RESET"===z?4:zn(),u=e.targetChange.targetIds||[],d=function(z,se){return z.useProto3Json?(Jn(void 0===se||"string"==typeof se),yo.fromBase64String(se||"")):(Jn(void 0===se||se instanceof Uint8Array),yo.fromUint8Array(se||new Uint8Array))}(i,e.targetChange.resumeToken),p=e.targetChange.cause,A=p&&function(z){const se=void 0===z.code?Ot.UNKNOWN:pm(z.code);return new vn(se,z.message||"")}(p);r=new Il(s,u,d,A||null)}else if("documentChange"in e){const s=e.documentChange,u=Ja(i,s.document.name),d=To(s.document.updateTime),p=s.document.createTime?To(s.document.createTime):ar.min(),A=new ti({mapValue:{fields:s.document.fields}}),N=Ai.newFoundDocument(u,d,p,A);r=new ys(s.targetIds||[],s.removedTargetIds||[],N.key,N)}else if("documentDelete"in e){const s=e.documentDelete,u=Ja(i,s.document),d=s.readTime?To(s.readTime):ar.min(),p=Ai.newNoDocument(u,d);r=new ys([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const s=e.documentRemove,u=Ja(i,s.document);r=new ys([],s.removedTargetIds||[],u,null)}else{if(!("filter"in e))return zn();{const s=e.filter,{count:u=0,unchangedNames:d}=s,p=new bp(u,d);r=new Vh(s.targetId,p)}}var z;return r}(this.serializer,e),s=function(d){if(!("targetChange"in d))return ar.min();const p=d.targetChange;return p.targetIds&&p.targetIds.length?ar.min():p.readTime?To(p.readTime):ar.min()}(e);return this.listener.a_(r,s)}u_(e){const r={};r.database=bc(this.serializer),r.addTarget=function(d,p){let A;const N=p.target;if(A=vl(N)?{documents:Nd(d,N)}:{query:Bh(d,N)},A.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){A.resumeToken=Mp(d,p.resumeToken);const z=$h(d,p.expectedCount);null!==z&&(A.expectedCount=z)}else if(p.snapshotVersion.compareTo(ar.min())>0){A.readTime=Cc(d,p.snapshotVersion.toTimestamp());const z=$h(d,p.expectedCount);null!==z&&(A.expectedCount=z)}return A}(this.serializer,e);const s=function Dm(i,e){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return zn()}}(e.purpose);return null==r?null:{"goog-listen-tags":r}}(0,e);s&&(r.labels=s),this.e_(r)}c_(e){const r={};r.database=bc(this.serializer),r.removeTarget=e,this.e_(r)}}class Ry extends Zp{constructor(e,r,s,u,d,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,u,p),this.serializer=d,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,r){return this.connection.vo("Write",e,r)}onMessage(e){if(Jn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const r=function N0(i,e){return i&&i.length>0?(Jn(void 0!==e),i.map(r=>function(u,d){let p=To(u.updateTime?u.updateTime:d);return p.isEqual(ar.min())&&(p=To(d)),new wu(p,u.transformResults||[])}(r,e))):[]}(e.writeResults,e.commitTime),s=To(e.commitTime);return this.listener.I_(s,r)}return Jn(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=bc(this.serializer),this.e_(e)}P_(e){const r={streamToken:this.lastStreamToken,writes:e.map(s=>da(this.serializer,s))};this.e_(r)}}class Py extends class{}{constructor(e,r,s,u){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=u,this.d_=!1}A_(){if(this.d_)throw new vn(Ot.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,r,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.wo(e,r,s,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new vn(Ot.UNKNOWN,u.toString())})}Co(e,r,s,u){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Co(e,r,s,d,p,u)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new vn(Ot.UNKNOWN,d.toString())})}terminate(){this.d_=!0}}class mf{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const r=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(gi(r),this.f_=!1):sn("OnlineStateTracker",r)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class xy{constructor(e,r,s,u,d){var p=this;this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=d,this.F_.ro(A=>{s.enqueueAndForget((0,l.Z)(function*(){var N;ru(p)&&(sn("RemoteStore","Restarting streams for network reachability change."),yield(N=(0,l.Z)(function*(se){const Me=$n(se);Me.C_.add(4),yield Na(Me),Me.M_.set("Unknown"),Me.C_.delete(4),yield $u(Me)}),function z(se){return N.apply(this,arguments)})(p))}))}),this.M_=new mf(s,u)}}function $u(i){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,l.Z)(function*(i){if(ru(i))for(const e of i.v_)yield e(!0)}),Xp.apply(this,arguments)}function Na(i){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,l.Z)(function*(i){for(const e of i.v_)yield e(!1)}),Qp.apply(this,arguments)}function vf(i,e){const r=$n(i);r.D_.has(e.targetId)||(r.D_.set(e.targetId,e),eg(r)?Jp(r):Hc(r).Ho()&&_f(r,e))}function Bu(i,e){const r=$n(i),s=Hc(r);r.D_.delete(e),s.Ho()&&iv(r,e),0===r.D_.size&&(s.Ho()?s.Zo():ru(r)&&r.M_.set("Unknown"))}function _f(i,e){if(i.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ar.min())>0){const r=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Hc(i).u_(e)}function iv(i,e){i.x_.Oe(e),Hc(i).c_(e)}function Jp(i){i.x_=new mm({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.D_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Hc(i).start(),i.M_.g_()}function eg(i){return ru(i)&&!Hc(i).jo()&&i.D_.size>0}function ru(i){return 0===$n(i).C_.size}function tg(i){i.x_=void 0}function B0(i){return ov.apply(this,arguments)}function ov(){return ov=(0,l.Z)(function*(i){i.D_.forEach((e,r)=>{_f(i,e)})}),ov.apply(this,arguments)}function Zd(i,e){return sv.apply(this,arguments)}function sv(){return sv=(0,l.Z)(function*(i,e){tg(i),eg(i)?(i.M_.w_(e),Jp(i)):i.M_.set("Unknown")}),sv.apply(this,arguments)}function U0(i,e,r){return Vc.apply(this,arguments)}function Vc(){return Vc=(0,l.Z)(function*(i,e,r){if(i.M_.set("Online"),e instanceof Il&&2===e.state&&e.cause)try{yield(s=(0,l.Z)(function*(d,p){const A=p.cause;for(const N of p.targetIds)d.D_.has(N)&&(yield d.remoteSyncer.rejectListen(N,A),d.D_.delete(N),d.x_.removeTarget(N))}),function u(d,p){return s.apply(this,arguments)})(i,e)}catch(s){sn("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield yf(i,s)}else if(e instanceof ys?i.x_.$e(e):e instanceof Vh?i.x_.Je(e):i.x_.Ge(e),!r.isEqual(ar.min()))try{const s=yield qd(i.localStore);r.compareTo(s)>=0&&(yield function(d,p){const A=d.x_.it(p);return A.targetChanges.forEach((N,z)=>{if(N.resumeToken.approximateByteSize()>0){const se=d.D_.get(z);se&&d.D_.set(z,se.withResumeToken(N.resumeToken,p))}}),A.targetMismatches.forEach((N,z)=>{const se=d.D_.get(N);if(!se)return;d.D_.set(N,se.withResumeToken(yo.EMPTY_BYTE_STRING,se.snapshotVersion)),iv(d,N);const Me=new Kl(se.target,N,z,se.sequenceNumber);_f(d,Me)}),d.remoteSyncer.applyRemoteEvent(A)}(i,r))}catch(s){sn("RemoteStore","Failed to raise snapshot:",s),yield yf(i,s)}var s}),Vc.apply(this,arguments)}function yf(i,e,r){return Xd.apply(this,arguments)}function Xd(){return Xd=(0,l.Z)(function*(i,e,r){if(!Ms(e))throw e;i.C_.add(1),yield Na(i),i.M_.set("Offline"),r||(r=()=>qd(i.localStore)),i.asyncQueue.enqueueRetryable((0,l.Z)(function*(){sn("RemoteStore","Retrying IndexedDB access"),yield r(),i.C_.delete(1),yield $u(i)}))}),Xd.apply(this,arguments)}function Ef(i,e){return e().catch(r=>yf(i,r,e))}function ka(i){return $c.apply(this,arguments)}function $c(){return $c=(0,l.Z)(function*(i){const e=$n(i),r=iu(e);let s=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;If(e);)try{const u=yield Zm(e.localStore,s);if(null===u){0===e.b_.length&&r.Zo();break}s=u.batchId,Bc(e,u)}catch(u){yield yf(e,u)}Uc(e)&&Uu(e)}),$c.apply(this,arguments)}function If(i){return ru(i)&&i.b_.length<10}function Bc(i,e){i.b_.push(e);const r=iu(i);r.Ho()&&r.h_&&r.P_(e.mutations)}function Uc(i){return ru(i)&&!iu(i).jo()&&i.b_.length>0}function Uu(i){iu(i).start()}function ng(i){return jc.apply(this,arguments)}function jc(){return jc=(0,l.Z)(function*(i){iu(i).E_()}),jc.apply(this,arguments)}function Qd(i){return av.apply(this,arguments)}function av(){return av=(0,l.Z)(function*(i){const e=iu(i);for(const r of i.b_)e.P_(r.mutations)}),av.apply(this,arguments)}function rg(i,e,r){return ju.apply(this,arguments)}function ju(){return ju=(0,l.Z)(function*(i,e,r){const s=i.b_.shift(),u=Dp.from(s,e,r);yield Ef(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield ka(i)}),ju.apply(this,arguments)}function Oy(i,e){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,l.Z)(function*(i,e){var r;e&&iu(i).h_&&(yield(r=(0,l.Z)(function*(u,d){if(wp(A=d.code)&&A!==Ot.ABORTED){const p=u.b_.shift();iu(u).Yo(),yield Ef(u,()=>u.remoteSyncer.rejectFailedWrite(p.batchId,d)),yield ka(u)}var A}),function s(u,d){return r.apply(this,arguments)})(i,e)),Uc(i)&&Uu(i)}),Tf.apply(this,arguments)}function lv(i,e){return ig.apply(this,arguments)}function ig(){return ig=(0,l.Z)(function*(i,e){const r=$n(i);r.asyncQueue.verifyOperationInProgress(),sn("RemoteStore","RemoteStore received new credentials");const s=ru(r);r.C_.add(3),yield Na(r),s&&r.M_.set("Unknown"),yield r.remoteSyncer.handleCredentialChange(e),r.C_.delete(3),yield $u(r)}),ig.apply(this,arguments)}function Jd(i,e){return Df.apply(this,arguments)}function Df(){return Df=(0,l.Z)(function*(i,e){const r=$n(i);e?(r.C_.delete(2),yield $u(r)):e||(r.C_.add(2),yield Na(r),r.M_.set("Unknown"))}),Df.apply(this,arguments)}function Hc(i){return i.O_||(i.O_=function(r,s,u){const d=$n(r);return d.A_(),new Sy(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,u)}(i.datastore,i.asyncQueue,{ho:B0.bind(null,i),Io:Zd.bind(null,i),a_:U0.bind(null,i)}),i.v_.push(function(){var e=(0,l.Z)(function*(r){r?(i.O_.Yo(),eg(i)?Jp(i):i.M_.set("Unknown")):(yield i.O_.stop(),tg(i))});return function(r){return e.apply(this,arguments)}}())),i.O_}function iu(i){return i.N_||(i.N_=function(r,s,u){const d=$n(r);return d.A_(),new Ry(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,u)}(i.datastore,i.asyncQueue,{ho:ng.bind(null,i),Io:Oy.bind(null,i),T_:Qd.bind(null,i),I_:rg.bind(null,i)}),i.v_.push(function(){var e=(0,l.Z)(function*(r){r?(i.N_.Yo(),yield ka(i)):(yield i.N_.stop(),i.b_.length>0&&(sn("RemoteStore",`Stopping write stream with ${i.b_.length} pending writes`),i.b_=[]))});return function(r){return e.apply(this,arguments)}}())),i.N_}class uv{constructor(e,r,s,u,d){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=u,this.removalCallback=d,this.deferred=new Ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,u,d){const p=Date.now()+s,A=new uv(e,r,p,u,d);return A.start(s),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vn(Ot.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zc(i,e){if(gi("AsyncQueue",`${e}: ${i}`),Ms(i))return new vn(Ot.UNAVAILABLE,`${e}: ${i}`);throw i}class wl{constructor(e){this.comparator=e?(r,s)=>e(r,s)||Wn.comparator(r.key,s.key):(r,s)=>Wn.comparator(r.key,s.key),this.keyedMap=yl(),this.sortedSet=new Ii(this.comparator)}static emptySet(e){return new wl(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,s)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof wl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,d=s.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,r){const s=new wl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}class Cf{constructor(){this.B_=new Ii(Wn.comparator)}track(e){const r=e.doc.key,s=this.B_.get(r);s?0!==e.type&&3===s.type?this.B_=this.B_.insert(r,e):3===e.type&&1!==s.type?this.B_=this.B_.insert(r,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.B_=this.B_.insert(r,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.B_=this.B_.insert(r,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.B_=this.B_.remove(r):1===e.type&&2===s.type?this.B_=this.B_.insert(r,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.B_=this.B_.insert(r,{type:2,doc:e.doc}):zn():this.B_=this.B_.insert(r,e)}L_(){const e=[];return this.B_.inorderTraversal((r,s)=>{e.push(s)}),e}}class Wc{constructor(e,r,s,u,d,p,A,N,z){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=d,this.fromCache=p,this.syncStateChanged=A,this.excludesMetadataChanges=N,this.hasCachedResults=z}static fromInitialDocuments(e,r,s,u,d){const p=[];return r.forEach(A=>{p.push({type:0,doc:A})}),new Wc(e,r,wl.emptySet(r),p,s,u,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_l(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==s[u].type||!r[u].doc.isEqual(s[u].doc))return!1;return!0}}class cv{constructor(){this.k_=void 0,this.listeners=[]}}class og{constructor(){this.queries=new xa(e=>Rd(e),_l),this.onlineState="Unknown",this.q_=new Set}}function Gc(i,e){return sg.apply(this,arguments)}function sg(){return sg=(0,l.Z)(function*(i,e){const r=$n(i),s=e.query;let u=!1,d=r.queries.get(s);if(d||(u=!0,d=new cv),u)try{d.k_=yield r.onListen(s)}catch(p){const A=zc(p,`Initialization of query '${Ma(e.query)}' failed`);return void e.onError(A)}r.queries.set(s,d),d.listeners.push(e),e.Q_(r.onlineState),d.k_&&e.K_(d.k_)&&lg(r)}),sg.apply(this,arguments)}function bf(i,e){return ag.apply(this,arguments)}function ag(){return ag=(0,l.Z)(function*(i,e){const r=$n(i),s=e.query;let u=!1;const d=r.queries.get(s);if(d){const p=d.listeners.indexOf(e);p>=0&&(d.listeners.splice(p,1),u=0===d.listeners.length)}if(u)return r.queries.delete(s),r.onUnlisten(s)}),ag.apply(this,arguments)}function dv(i,e){const r=$n(i);let s=!1;for(const u of e){const p=r.queries.get(u.query);if(p){for(const A of p.listeners)A.K_(u)&&(s=!0);p.k_=u}}s&&lg(r)}function j0(i,e,r){const s=$n(i),u=s.queries.get(e);if(u)for(const d of u.listeners)d.onError(r);s.queries.delete(e)}function lg(i){i.q_.forEach(e=>{e.next()})}class Yc{constructor(e,r,s){this.query=e,this.U_=r,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=s||{}}K_(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)3!==u.type&&s.push(u);e=new Wc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.W_?this.z_(e)&&(this.U_.next(e),r=!0):this.j_(e,this.onlineState)&&(this.H_(e),r=!0),this.G_=e,r}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let r=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),r=!0),r}j_(e,r){return!e.fromCache||(!this.options.J_||!("Offline"!==r))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===r)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Wc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Ny{constructor(e,r){this.Y_=e,this.byteLength=r}Z_(){return"metadata"in this.Y_}}class Hu{constructor(e){this.serializer=e}hs(e){return Ja(this.serializer,e)}Ps(e){return e.metadata.exists?Tl(this.serializer,e.document,!1):Ai.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return To(e)}}class eh{constructor(e,r,s){this.X_=e,this.localStore=r,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=hv(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let r=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++r;const s=Wr.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++r);return r!==this.progress.documentsLoaded?(this.progress.documentsLoaded=r,Object.assign({},this.progress)):null}ta(e){const r=new Map,s=new Hu(this.serializer);for(const u of e)if(u.metadata.queries){const d=s.hs(u.metadata.name);for(const p of u.metadata.queries){const A=(r.get(p)||oe()).add(d);r.set(p,A)}}return r}complete(){var e=this;return(0,l.Z)(function*(){const r=yield function nu(i,e,r,s){return Vu.apply(this,arguments)}(e.localStore,new Hu(e.serializer),e.documents,e.X_.id),s=e.ta(e.documents);for(const u of e.queries)yield by(e.localStore,u,s.get(u.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:r}})()}}function hv(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class ug{constructor(e){this.key=e}}class fv{constructor(e){this.key=e}}class pv{constructor(e,r){this.query=e,this.ia=r,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=oe(),this.mutatedKeys=oe(),this._a=xh(e),this.aa=new wl(this._a)}get ua(){return this.ia}ca(e,r){const s=r?r.la:new Cf,u=r?r.aa:this.aa;let d=r?r.mutatedKeys:this.mutatedKeys,p=u,A=!1;const N="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,z="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((se,Me)=>{const ct=u.get(se),Nt=qa(this.query,Me)?Me:null,Sn=!!ct&&this.mutatedKeys.has(ct.key),Rn=!!Nt&&(Nt.hasLocalMutations||this.mutatedKeys.has(Nt.key)&&Nt.hasCommittedMutations);let Pn=!1;ct&&Nt?ct.data.isEqual(Nt.data)?Sn!==Rn&&(s.track({type:3,doc:Nt}),Pn=!0):this.ha(ct,Nt)||(s.track({type:2,doc:Nt}),Pn=!0,(N&&this._a(Nt,N)>0||z&&this._a(Nt,z)<0)&&(A=!0)):!ct&&Nt?(s.track({type:0,doc:Nt}),Pn=!0):ct&&!Nt&&(s.track({type:1,doc:ct}),Pn=!0,(N||z)&&(A=!0)),Pn&&(Nt?(p=p.add(Nt),d=Rn?d.add(se):d.delete(se)):(p=p.delete(se),d=d.delete(se)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const se="F"===this.query.limitType?p.last():p.first();p=p.delete(se.key),d=d.delete(se.key),s.track({type:1,doc:se})}return{aa:p,la:s,Zi:A,mutatedKeys:d}}ha(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s){const u=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const d=e.la.L_();d.sort((z,se)=>function(ct,Nt){const Sn=Rn=>{switch(Rn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zn()}};return Sn(ct)-Sn(Nt)}(z.type,se.type)||this._a(z.doc,se.doc)),this.Pa(s);const p=r?this.Ia():[],A=0===this.oa.size&&this.current?1:0,N=A!==this.sa;return this.sa=A,0!==d.length||N?{snapshot:new Wc(this.query,e.aa,u,d,e.mutatedKeys,0===A,N,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ta:p}:{Ta:p}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new Cf,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(r=>this.ia=this.ia.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.ia=this.ia.delete(r)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=oe(),this.aa.forEach(s=>{this.Ea(s.key)&&(this.oa=this.oa.add(s.key))});const r=[];return e.forEach(s=>{this.oa.has(s)||r.push(new fv(s))}),this.oa.forEach(s=>{e.has(s)||r.push(new ug(s))}),r}da(e){this.ia=e.ls,this.oa=oe();const r=this.ca(e.documents);return this.applyChanges(r,!0)}Aa(){return Wc.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class ky{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class gv{constructor(e){this.key=e,this.Ra=!1}}class mv{constructor(e,r,s,u,d,p){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=p,this.Va={},this.ma=new xa(A=>Rd(A),_l),this.fa=new Map,this.ga=new Set,this.pa=new Ii(Wn.comparator),this.ya=new Map,this.wa=new Qh,this.Sa={},this.ba=new Map,this.Da=Cl.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function cg(i,e){return vv.apply(this,arguments)}function vv(){return vv=(0,l.Z)(function*(i,e){const r=Eg(i);let s,u;const d=r.ma.get(e);if(d)s=d.targetId,r.sharedClientState.addLocalQueryTarget(s),u=d.view.Aa();else{const p=yield Lu(r.localStore,Vo(e)),A=r.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,u=yield _v(r,e,s,"current"===A,p.resumeToken),r.isPrimaryClient&&vf(r.remoteStore,p)}return u}),vv.apply(this,arguments)}function _v(i,e,r,s,u){return yv.apply(this,arguments)}function yv(){return yv=(0,l.Z)(function*(i,e,r,s,u){i.va=(Me,ct,Nt)=>{return(Sn=(0,l.Z)(function*(Pn,fr,Or,Sr){let oi=fr.view.ca(Or);oi.Zi&&(oi=yield uf(Pn.localStore,fr.query,!1).then(({documents:jo})=>fr.view.ca(jo,oi)));const Li=Sr&&Sr.targetChanges.get(fr.targetId),bi=fr.view.applyChanges(oi,Pn.isPrimaryClient,Li);return Dv(Pn,fr.targetId,bi.Ta),bi.snapshot}),function Rn(Pn,fr,Or,Sr){return Sn.apply(this,arguments)})(i,Me,ct,Nt);var Sn};const d=yield uf(i.localStore,e,!0),p=new pv(e,d.ls),A=p.ca(d.documents),N=Tc.createSynthesizedTargetChangeForCurrentChange(r,s&&"Offline"!==i.onlineState,u),z=p.applyChanges(A,i.isPrimaryClient,N);Dv(i,r,z.Ta);const se=new ky(e,r,p);return i.ma.set(e,se),i.fa.has(r)?i.fa.get(r).push(e):i.fa.set(r,[e]),z.snapshot}),yv.apply(this,arguments)}function Ly(i,e){return dg.apply(this,arguments)}function dg(){return dg=(0,l.Z)(function*(i,e){const r=$n(i),s=r.ma.get(e),u=r.fa.get(s.targetId);if(u.length>1)return r.fa.set(s.targetId,u.filter(d=>!_l(d,e))),void r.ma.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Fu(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),Bu(r.remoteStore,s.targetId),zu(r,s.targetId)}).catch(Bs))):(zu(r,s.targetId),yield Fu(r.localStore,s.targetId,!0))}),dg.apply(this,arguments)}function qc(){return qc=(0,l.Z)(function*(i,e,r){const s=Rv(i);try{const u=yield function(p,A){const N=$n(p),z=Ei.now(),se=A.reduce((Nt,Sn)=>Nt.add(Sn.key),oe());let Me,ct;return N.persistence.runTransaction("Locally write mutations","readwrite",Nt=>{let Sn=ls(),Rn=oe();return N.ss.getEntries(Nt,se).next(Pn=>{Sn=Pn,Sn.forEach((fr,Or)=>{Or.isValidDocument()||(Rn=Rn.add(fr))})}).next(()=>N.localDocuments.getOverlayedDocuments(Nt,Sn)).next(Pn=>{Me=Pn;const fr=[];for(const Or of A){const Sr=ay(Or,Me.get(Or.key).overlayedDocument);null!=Sr&&fr.push(new $o(Or.key,Sr,Dd(Sr.value.mapValue),ki.exists(!0)))}return N.mutationQueue.addMutationBatch(Nt,z,fr,A)}).next(Pn=>{ct=Pn;const fr=Pn.applyToLocalDocumentSet(Me,Rn);return N.documentOverlayCache.saveOverlays(Nt,Pn.batchId,fr)})}).then(()=>({batchId:ct.batchId,changes:Du(Me)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),function(p,A,N){let z=p.Sa[p.currentUser.toKey()];z||(z=new Ii(gr)),z=z.insert(A,N),p.Sa[p.currentUser.toKey()]=z}(s,u.batchId,r),yield Al(s,u.changes),yield ka(s.remoteStore)}catch(u){const d=zc(u,"Failed to persist write");r.reject(d)}}),qc.apply(this,arguments)}function Ev(i,e){return hg.apply(this,arguments)}function hg(){return hg=(0,l.Z)(function*(i,e){const r=$n(i);try{const s=yield function Hp(i,e){const r=$n(i),s=e.snapshotVersion;let u=r.ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const p=r.ss.newChangeBuffer({trackRemovals:!0});u=r.ts;const A=[];e.targetChanges.forEach((se,Me)=>{const ct=u.get(Me);if(!ct)return;A.push(r.qr.removeMatchingKeys(d,se.removedDocuments,Me).next(()=>r.qr.addMatchingKeys(d,se.addedDocuments,Me)));let Nt=ct.withSequenceNumber(d.currentSequenceNumber);var Rn,Pn,fr;null!==e.targetMismatches.get(Me)?Nt=Nt.withResumeToken(yo.EMPTY_BYTE_STRING,ar.min()).withLastLimboFreeSnapshotVersion(ar.min()):se.resumeToken.approximateByteSize()>0&&(Nt=Nt.withResumeToken(se.resumeToken,s)),u=u.insert(Me,Nt),Pn=Nt,fr=se,(0===(Rn=ct).resumeToken.approximateByteSize()||Pn.snapshotVersion.toMicroseconds()-Rn.snapshotVersion.toMicroseconds()>=3e8||fr.addedDocuments.size+fr.modifiedDocuments.size+fr.removedDocuments.size>0)&&A.push(r.qr.updateTargetData(d,Nt))});let N=ls(),z=oe();if(e.documentUpdates.forEach(se=>{e.resolvedLimboDocuments.has(se)&&A.push(r.persistence.referenceDelegate.updateLimboDocument(d,se))}),A.push(zp(d,p,e.documentUpdates).next(se=>{N=se.us,z=se.cs})),!s.isEqual(ar.min())){const se=r.qr.getLastRemoteSnapshotVersion(d).next(Me=>r.qr.setTargetsMetadata(d,d.currentSequenceNumber,s));A.push(se)}return Tt.waitFor(A).next(()=>p.apply(d)).next(()=>r.localDocuments.getLocalViewOfDocuments(d,N,z)).next(()=>N)}).then(d=>(r.ts=u,d))}(r.localStore,e);e.targetChanges.forEach((u,d)=>{const p=r.ya.get(d);p&&(Jn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?p.Ra=!0:u.modifiedDocuments.size>0?Jn(p.Ra):u.removedDocuments.size>0&&(Jn(p.Ra),p.Ra=!1))}),yield Al(r,s,e)}catch(s){yield Bs(s)}}),hg.apply(this,arguments)}function wf(i,e,r){const s=$n(i);if(s.isPrimaryClient&&0===r||!s.isPrimaryClient&&1===r){const u=[];s.ma.forEach((d,p)=>{const A=p.view.Q_(e);A.snapshot&&u.push(A.snapshot)}),function(p,A){const N=$n(p);N.onlineState=A;let z=!1;N.queries.forEach((se,Me)=>{for(const ct of Me.listeners)ct.Q_(A)&&(z=!0)}),z&&lg(N)}(s.eventManager,e),u.length&&s.Va.a_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Iv(i,e,r){return fg.apply(this,arguments)}function fg(){return fg=(0,l.Z)(function*(i,e,r){const s=$n(i);s.sharedClientState.updateQueryState(e,"rejected",r);const u=s.ya.get(e),d=u&&u.key;if(d){let p=new Ii(Wn.comparator);p=p.insert(d,Ai.newNoDocument(d,ar.min()));const A=oe().add(d),N=new Ic(ar.min(),new Map,new Ii(gr),p,A);yield Ev(s,N),s.pa=s.pa.remove(d),s.ya.delete(e),th(s)}else yield Fu(s.localStore,e,!1).then(()=>zu(s,e,r)).catch(Bs)}),fg.apply(this,arguments)}function Fy(i,e){return pg.apply(this,arguments)}function pg(){return pg=(0,l.Z)(function*(i,e){const r=$n(i),s=e.batch.batchId;try{const u=yield function Cy(i,e){const r=$n(i);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=e.batch.keys(),d=r.ss.newChangeBuffer({trackRemovals:!0});return function(A,N,z,se){const Me=z.batch,ct=Me.keys();let Nt=Tt.resolve();return ct.forEach(Sn=>{Nt=Nt.next(()=>se.getEntry(N,Sn)).next(Rn=>{const Pn=z.docVersions.get(Sn);Jn(null!==Pn),Rn.version.compareTo(Pn)<0&&(Me.applyToRemoteDocument(Rn,z),Rn.isValidDocument()&&(Rn.setReadTime(z.commitVersion),se.addEntry(Rn)))})}),Nt.next(()=>A.mutationQueue.removeMutationBatch(N,Me))}(r,s,e,d).next(()=>d.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(A){let N=oe();for(let z=0;z<A.mutationResults.length;++z)A.mutationResults[z].transformResults.length>0&&(N=N.add(A.batch.mutations[z].key));return N}(e))).next(()=>r.localDocuments.getDocuments(s,u))})}(r.localStore,e);mg(r,s,null),gg(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),yield Al(r,u)}catch(u){yield Bs(u)}}),pg.apply(this,arguments)}function Vy(i,e,r){return Af.apply(this,arguments)}function Af(){return Af=(0,l.Z)(function*(i,e,r){const s=$n(i);try{const u=yield function(p,A){const N=$n(p);return N.persistence.runTransaction("Reject batch","readwrite-primary",z=>{let se;return N.mutationQueue.lookupMutationBatch(z,A).next(Me=>(Jn(null!==Me),se=Me.keys(),N.mutationQueue.removeMutationBatch(z,Me))).next(()=>N.mutationQueue.performConsistencyCheck(z)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId(z,se,A)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(z,se)).next(()=>N.localDocuments.getDocuments(z,se))})}(s.localStore,e);mg(s,e,r),gg(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),yield Al(s,u)}catch(u){yield Bs(u)}}),Af.apply(this,arguments)}function Sf(){return Sf=(0,l.Z)(function*(i,e){const r=$n(i);ru(r.remoteStore)||sn("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(p){const A=$n(p);return A.persistence.runTransaction("Get highest unacknowledged batch id","readonly",N=>A.mutationQueue.getHighestUnacknowledgedBatchId(N))}(r.localStore);if(-1===s)return void e.resolve();const u=r.ba.get(s)||[];u.push(e),r.ba.set(s,u)}catch(s){const u=zc(s,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Sf.apply(this,arguments)}function gg(i,e){(i.ba.get(e)||[]).forEach(r=>{r.resolve()}),i.ba.delete(e)}function mg(i,e,r){const s=$n(i);let u=s.Sa[s.currentUser.toKey()];if(u){const d=u.get(e);d&&(r?d.reject(r):d.resolve(),u=u.remove(e)),s.Sa[s.currentUser.toKey()]=u}}function zu(i,e,r=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.fa.get(e))i.ma.delete(s),r&&i.Va.Fa(s,r);i.fa.delete(e),i.isPrimaryClient&&i.wa.Rr(e).forEach(s=>{i.wa.containsKey(s)||Rf(i,s)})}function Rf(i,e){i.ga.delete(e.path.canonicalString());const r=i.pa.get(e);null!==r&&(Bu(i.remoteStore,r),i.pa=i.pa.remove(e),i.ya.delete(r),th(i))}function Dv(i,e,r){for(const s of r)s instanceof ug?(i.wa.addReference(s.key,e),Cv(i,s)):s instanceof fv?(sn("SyncEngine","Document no longer in limbo: "+s.key),i.wa.removeReference(s.key,e),i.wa.containsKey(s.key)||Rf(i,s.key)):zn()}function Cv(i,e){const r=e.key,s=r.path.canonicalString();i.pa.get(r)||i.ga.has(s)||(sn("SyncEngine","New document in limbo: "+r),i.ga.add(s),th(i))}function th(i){for(;i.ga.size>0&&i.pa.size<i.maxConcurrentLimboResolutions;){const e=i.ga.values().next().value;i.ga.delete(e);const r=new Wn(Wr.fromString(e)),s=i.Da.next();i.ya.set(s,new gv(r)),i.pa=i.pa.insert(r,s),vf(i.remoteStore,new Kl(Vo(Eo(r.path)),s,"TargetPurposeLimboResolution",Bi._e))}}function Al(i,e,r){return Wu.apply(this,arguments)}function Wu(){return Wu=(0,l.Z)(function*(i,e,r){const s=$n(i),u=[],d=[],p=[];var A;s.ma.isEmpty()||(s.ma.forEach((A,N)=>{p.push(s.va(N,e,r).then(z=>{if((z||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(N.targetId,null!=z&&z.fromCache?"not-current":"current"),z){u.push(z);const se=sf.Qi(N.targetId,z);d.push(se)}}))}),yield Promise.all(p),s.Va.a_(u),yield(A=(0,l.Z)(function*(z,se){const Me=$n(z);try{yield Me.persistence.runTransaction("notifyLocalViewChanges","readwrite",ct=>Tt.forEach(se,Nt=>Tt.forEach(Nt.ki,Sn=>Me.persistence.referenceDelegate.addReference(ct,Nt.targetId,Sn)).next(()=>Tt.forEach(Nt.qi,Sn=>Me.persistence.referenceDelegate.removeReference(ct,Nt.targetId,Sn)))))}catch(ct){if(!Ms(ct))throw ct;sn("LocalStore","Failed to update sequence numbers: "+ct)}for(const ct of se){const Nt=ct.targetId;if(!ct.fromCache){const Sn=Me.ts.get(Nt),Pn=Sn.withLastLimboFreeSnapshotVersion(Sn.snapshotVersion);Me.ts=Me.ts.insert(Nt,Pn)}}}),function N(z,se){return A.apply(this,arguments)})(s.localStore,d))}),Wu.apply(this,arguments)}function bv(i,e){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,l.Z)(function*(i,e){const r=$n(i);if(!r.currentUser.isEqual(e)){sn("SyncEngine","User change. New user:",e.toKey());const s=yield qm(r.localStore,e);r.currentUser=e,(d=r).ba.forEach(A=>{A.forEach(N=>{N.reject(new vn(Ot.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.ba.clear(),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Al(r,s._s)}var d}),Pf.apply(this,arguments)}function $y(i,e){const r=$n(i),s=r.ya.get(e);if(s&&s.Ra)return oe().add(s.key);{let u=oe();const d=r.fa.get(e);if(!d)return u;for(const p of d){const A=r.ma.get(p);u=u.unionWith(A.view.ua)}return u}}function By(i,e){return vg.apply(this,arguments)}function vg(){return vg=(0,l.Z)(function*(i,e){const r=$n(i),s=yield uf(r.localStore,e.query,!0),u=e.view.da(s);return r.isPrimaryClient&&Dv(r,e.targetId,u.Ta),u}),vg.apply(this,arguments)}function Uy(i,e){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,l.Z)(function*(i,e){const r=$n(i);return Qm(r.localStore,e).then(s=>Al(r,s))}),Mf.apply(this,arguments)}function z0(i,e,r,s){return nh.apply(this,arguments)}function nh(){return nh=(0,l.Z)(function*(i,e,r,s){const u=$n(i),d=yield function(A,N){const z=$n(A),se=$n(z.mutationQueue);return z.persistence.runTransaction("Lookup mutation documents","readonly",Me=>se.Cn(Me,N).next(ct=>ct?z.localDocuments.getDocuments(Me,ct):Tt.resolve(null)))}(u.localStore,e);var N;null!==d?("pending"===r?yield ka(u.remoteStore):"acknowledged"===r||"rejected"===r?(mg(u,e,s||null),gg(u,e),N=e,$n($n(u.localStore).mutationQueue).Fn(N)):zn(),yield Al(u,d)):sn("SyncEngine","Cannot apply mutation batch with id: "+e)}),nh.apply(this,arguments)}function Kc(){return Kc=(0,l.Z)(function*(i,e){const r=$n(i);if(Eg(r),Rv(r),!0===e&&!0!==r.Ca){const s=r.sharedClientState.getAllActiveQueryTargets(),u=yield _g(r,s.toArray());r.Ca=!0,yield Jd(r.remoteStore,!0);for(const d of u)vf(r.remoteStore,d)}else if(!1===e&&!1!==r.Ca){const s=[];let u=Promise.resolve();r.fa.forEach((d,p)=>{r.sharedClientState.isLocalQueryTarget(p)?s.push(p):u=u.then(()=>(zu(r,p),Fu(r.localStore,p,!0))),Bu(r.remoteStore,p)}),yield u,yield _g(r,s),function(p){const A=$n(p);A.ya.forEach((N,z)=>{Bu(A.remoteStore,z)}),A.wa.Vr(),A.ya=new Map,A.pa=new Ii(Wn.comparator)}(r),r.Ca=!1,yield Jd(r.remoteStore,!1)}}),Kc.apply(this,arguments)}function _g(i,e,r){return xf.apply(this,arguments)}function xf(){return xf=(0,l.Z)(function*(i,e,r){const s=$n(i),u=[],d=[];for(const p of e){let A;const N=s.fa.get(p);if(N&&0!==N.length){A=yield Lu(s.localStore,Vo(N[0]));for(const z of N){const se=s.ma.get(z),Me=yield By(s,se);Me.snapshot&&d.push(Me.snapshot)}}else{const z=yield Xm(s.localStore,p);A=yield Lu(s.localStore,z),yield _v(s,wv(z),p,!1,A.resumeToken)}u.push(A)}return s.Va.a_(d),u}),xf.apply(this,arguments)}function wv(i){return wd(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function jy(i){return r=$n(i).localStore,$n($n(r).persistence).Bi();var r}function Hy(i,e,r,s){return yg.apply(this,arguments)}function yg(){return yg=(0,l.Z)(function*(i,e,r,s){const u=$n(i);if(u.Ca)return void sn("SyncEngine","Ignoring unexpected query state notification.");const d=u.fa.get(e);if(d&&d.length>0)switch(r){case"current":case"not-current":{const p=yield Qm(u.localStore,Ul(d[0])),A=Ic.createSynthesizedRemoteEventForCurrentChange(e,"current"===r,yo.EMPTY_BYTE_STRING);yield Al(u,p,A);break}case"rejected":yield Fu(u.localStore,e,!0),zu(u,e,s);break;default:zn()}}),yg.apply(this,arguments)}function Av(i,e,r){return Sv.apply(this,arguments)}function Sv(){return Sv=(0,l.Z)(function*(i,e,r){const s=Eg(i);if(s.Ca){for(const u of e){if(s.fa.has(u)){sn("SyncEngine","Adding an already active target "+u);continue}const d=yield Xm(s.localStore,u),p=yield Lu(s.localStore,d);yield _v(s,wv(d),p.targetId,!1,p.resumeToken),vf(s.remoteStore,p)}for(const u of r)s.fa.has(u)&&(yield Fu(s.localStore,u,!1).then(()=>{Bu(s.remoteStore,u),zu(s,u)}).catch(Bs))}}),Sv.apply(this,arguments)}function Eg(i){const e=$n(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ev.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$y.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Iv.bind(null,e),e.Va.a_=dv.bind(null,e.eventManager),e.Va.Fa=j0.bind(null,e.eventManager),e}function Rv(i){const e=$n(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Fy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vy.bind(null,e),e}class Zc{constructor(){this.synchronizeTabs=!1}initialize(e){var r=this;return(0,l.Z)(function*(){r.serializer=pf(e.databaseInfo.databaseId),r.sharedClientState=r.createSharedClientState(e),r.persistence=r.createPersistence(e),yield r.persistence.start(),r.localStore=r.createLocalStore(e),r.gcScheduler=r.createGarbageCollectionScheduler(e,r.localStore),r.indexBackfillerScheduler=r.createIndexBackfillerScheduler(e,r.localStore)})()}createGarbageCollectionScheduler(e,r){return null}createIndexBackfillerScheduler(e,r){return null}createLocalStore(e){return Ym(this.persistence,new lf,e.initialUser,this.serializer)}createPersistence(e){return new zd(Wd.jr,this.serializer)}createSharedClientState(e){return new df}terminate(){var e=this;return(0,l.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Mv extends Zc{constructor(e,r,s){super(),this.xa=e,this.cacheSizeBytes=r,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var r=()=>super.initialize,s=this;return(0,l.Z)(function*(){yield r().call(s,e),yield s.xa.initialize(s,e),yield Rv(s.xa.syncEngine),yield ka(s.xa.remoteStore),yield s.persistence.mi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Ym(this.persistence,new lf,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,r){return new Lm(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,r)}createIndexBackfillerScheduler(e,r){const s=new sc(r,this.persistence);return new gs(e.asyncQueue,s)}createPersistence(e){const r=rf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?cs.withCacheSize(this.cacheSizeBytes):cs.DEFAULT;return new jp(this.synchronizeTabs,r,e.clientId,s,e.asyncQueue,ff(),Fc(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new df}}class Br extends Mv{constructor(e,r){super(e,r,!1),this.xa=e,this.cacheSizeBytes=r,this.synchronizeTabs=!0}initialize(e){var r=()=>super.initialize,s=this;return(0,l.Z)(function*(){yield r().call(s,e);const u=s.xa.syncEngine;s.sharedClientState instanceof Kp&&(s.sharedClientState.syncEngine={Ys:z0.bind(null,u),Zs:Hy.bind(null,u),Xs:Av.bind(null,u),Bi:jy.bind(null,u),Js:Uy.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.mi(function(){var d=(0,l.Z)(function*(p){yield function ou(i,e){return Kc.apply(this,arguments)}(s.xa.syncEngine,p),s.gcScheduler&&(p&&!s.gcScheduler.started?s.gcScheduler.start():p||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(p&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():p||s.indexBackfillerScheduler.stop())});return function(p){return d.apply(this,arguments)}}())})()}createSharedClientState(e){const r=ff();if(!Kp.D(r))throw new vn(Ot.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=rf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Kp(r,e.asyncQueue,s,e.clientId,e.initialUser)}}class Gu{initialize(e,r){var s=this;return(0,l.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(r),s.remoteStore=s.createRemoteStore(r),s.eventManager=s.createEventManager(r),s.syncEngine=s.createSyncEngine(r,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>wf(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=bv.bind(null,s.syncEngine),yield Jd(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new og}createDatastore(e){const r=pf(e.databaseInfo.databaseId),s=new $0(e.databaseInfo);return new Py(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return s=this.localStore,u=this.datastore,d=e.asyncQueue,p=r=>wf(this.syncEngine,r,0),A=Lc.D()?new Lc:new bl,new xy(s,u,d,p,A);var s,u,d,p,A}createSyncEngine(e,r){return function(u,d,p,A,N,z,se){const Me=new mv(u,d,p,A,N,z);return se&&(Me.Ca=!0),Me}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}terminate(){return(e=(0,l.Z)(function*(s){const u=$n(s);sn("RemoteStore","RemoteStore shutting down."),u.C_.add(5),yield Na(u),u.F_.shutdown(),u.M_.set("Unknown")}),function r(s){return e.apply(this,arguments)})(this.remoteStore);var e}}function Ig(i,e=10240){let r=0;return{read:()=>(0,l.Z)(function*(){if(r<i.byteLength){const s={value:i.slice(r,r+e),done:!1};return r+=e,s}return{done:!0}})(),cancel:()=>(0,l.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Sl{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,r){this.muted||setTimeout(()=>{this.muted||e(r)},0)}}class xv{constructor(e,r){this.Ba=e,this.serializer=r,this.metadata=new Ni,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(s=>{s&&s.Z_()?this.metadata.resolve(s.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.Y_)}`))},s=>this.metadata.reject(s))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,l.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,l.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,l.Z)(function*(){const r=yield e.qa();if(null===r)return null;const s=e.La.decode(r),u=Number(s);isNaN(u)&&e.Qa(`length string (${s}) is not valid number`);const d=yield e.Ka(u);return new Ny(JSON.parse(d),r.length+u)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,l.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const r=e.$a();r<0&&e.Qa("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,r);return e.buffer=e.buffer.slice(r),s})()}Ka(e){var r=this;return(0,l.Z)(function*(){for(;r.buffer.length<e;)(yield r.Ua())&&r.Qa("Reached the end of bundle when more is expected.");const s=r.La.decode(r.buffer.slice(0,e));return r.buffer=r.buffer.slice(e),s})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,l.Z)(function*(){const r=yield e.Ba.read();if(!r.done){const s=new Uint8Array(e.buffer.length+r.value.length);s.set(e.buffer),s.set(r.value,e.buffer.length),e.buffer=s}return r.done})()}}class zy{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var r=this;return(0,l.Z)(function*(){if(r.ensureCommitNotCalled(),r.mutations.length>0)throw new vn(Ot.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(u=(0,l.Z)(function*(p,A){const N=$n(p),z=bc(N.serializer)+"/documents",se={documents:A.map(Sn=>Od(N.serializer,Sn))},Me=yield N.Co("BatchGetDocuments",z,se,A.length),ct=new Map;Me.forEach(Sn=>{const Rn=function Np(i,e){return"found"in e?function(s,u){Jn(!!u.found);const d=Ja(s,u.found.name),p=To(u.found.updateTime),A=u.found.createTime?To(u.found.createTime):ar.min(),N=new ti({mapValue:{fields:u.found.fields}});return Ai.newFoundDocument(d,p,A,N)}(i,e):"missing"in e?function(s,u){Jn(!!u.missing),Jn(!!u.readTime);const d=Ja(s,u.missing),p=To(u.readTime);return Ai.newNoDocument(d,p)}(i,e):zn()}(N.serializer,Sn);ct.set(Rn.key.toString(),Rn)});const Nt=[];return A.forEach(Sn=>{const Rn=ct.get(Sn.toString());Jn(!!Rn),Nt.push(Rn)}),Nt}),function d(p,A){return u.apply(this,arguments)})(r.datastore,e);var u;return s.forEach(u=>r.recordVersion(u)),s})()}set(e,r){this.write(r.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,r){try{this.write(r.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ec(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,l.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const r=e.readVersions;var s;e.mutations.forEach(s=>{r.delete(s.key.toString())}),r.forEach((s,u)=>{const d=Wn.fromPath(u);e.mutations.push(new kh(d,e.precondition(d)))}),yield(s=(0,l.Z)(function*(d,p){const A=$n(d),N=bc(A.serializer)+"/documents",z={writes:p.map(se=>da(A.serializer,se))};yield A.wo("Commit",N,z)}),function u(d,p){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let r;if(e.isFoundDocument())r=e.version;else{if(!e.isNoDocument())throw zn();r=ar.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!r.isEqual(s))throw new vn(Ot.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),r)}precondition(e){const r=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&r?r.isEqual(ar.min())?ki.exists(!1):ki.updateTime(r):ki.none()}preconditionForUpdate(e){const r=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&r){if(r.isEqual(ar.min()))throw new vn(Ot.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ki.updateTime(r)}return ki.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Of{constructor(e,r,s,u,d){this.asyncQueue=e,this.datastore=r,this.options=s,this.updateFunction=u,this.deferred=d,this.Wa=s.maxAttempts,this.zo=new rv(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,l.Z)(function*(){const r=new zy(e.datastore),s=e.za(r);s&&s.then(u=>{e.asyncQueue.enqueueAndForget(()=>r.commit().then(()=>{e.deferred.resolve(u)}).catch(d=>{e.ja(d)}))}).catch(u=>{e.ja(u)})}))}za(e){try{const r=this.updateFunction(e);return!ss(r)&&r.catch&&r.then?r:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const r=e.code;return"aborted"===r||"failed-precondition"===r||"already-exists"===r||!wp(r)}return!1}}class Xc{constructor(e,r,s,u){var d=this;this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=u,this.user=or.UNAUTHENTICATED,this.clientId=fu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var p=(0,l.Z)(function*(A){sn("FirestoreClient","Received user=",A.uid),yield d.authCredentialListener(A),d.user=A});return function(A){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(s,p=>(sn("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,l.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vn(Ot.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const r=new Ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,l.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),r.resolve()}catch(s){const u=zc(s,"Failed to shutdown persistence");r.reject(u)}})),r.promise}}function Qc(i,e){return Yu.apply(this,arguments)}function Yu(){return Yu=(0,l.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),sn("FirestoreClient","Initializing OfflineComponentProvider");const r=yield i.getConfiguration();yield e.initialize(r);let s=r.initialUser;i.setCredentialChangeListener(function(){var u=(0,l.Z)(function*(d){s.isEqual(d)||(yield qm(e.localStore,d),s=d)});return function(d){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Yu.apply(this,arguments)}function Nf(i,e){return rh.apply(this,arguments)}function rh(){return rh=(0,l.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const r=yield ih(i);sn("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(r,s),i.setCredentialChangeListener(u=>lv(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,d)=>lv(e.remoteStore,d)),i._onlineComponents=e}),rh.apply(this,arguments)}function kf(i){return"FirebaseError"===i.name?i.code===Ot.FAILED_PRECONDITION||i.code===Ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}function ih(i){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,l.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){sn("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Qc(i,i._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!kf(r))throw r;$i("Error using user provided cache. Falling back to memory cache: "+r),yield Qc(i,new Zc)}}else sn("FirestoreClient","Using default OfflineComponentProvider"),yield Qc(i,new Zc);return i._offlineComponents}),Lf.apply(this,arguments)}function Jc(i){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,l.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(sn("FirestoreClient","Using user provided OnlineComponentProvider"),yield Nf(i,i._uninitializedComponentsProvider._online)):(sn("FirestoreClient","Using default OnlineComponentProvider"),yield Nf(i,new Gu))),i._onlineComponents}),Tg.apply(this,arguments)}function Ov(i){return ih(i).then(e=>e.persistence)}function ed(i){return ih(i).then(e=>e.localStore)}function Dg(i){return Jc(i).then(e=>e.remoteStore)}function Cg(i){return Jc(i).then(e=>e.syncEngine)}function td(i){return bg.apply(this,arguments)}function bg(){return bg=(0,l.Z)(function*(i){const e=yield Jc(i),r=e.eventManager;return r.onListen=cg.bind(null,e.syncEngine),r.onUnlisten=Ly.bind(null,e.syncEngine),r}),bg.apply(this,arguments)}function Fv(i,e,r={}){const s=new Ni;return i.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function(d,p,A,N,z){const se=new Sl({next:ct=>{p.enqueueAndForget(()=>bf(d,Me));const Nt=ct.docs.has(A);!Nt&&ct.fromCache?z.reject(new vn(Ot.UNAVAILABLE,"Failed to get document because the client is offline.")):Nt&&ct.fromCache&&N&&"server"===N.source?z.reject(new vn(Ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):z.resolve(ct)},error:ct=>z.reject(ct)}),Me=new Yc(Eo(A.path),se,{includeMetadataChanges:!0,J_:!0});return Gc(d,Me)}(yield td(i),i.asyncQueue,e,r,s)})),s.promise}function Vv(i,e,r={}){const s=new Ni;return i.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function(d,p,A,N,z){const se=new Sl({next:ct=>{p.enqueueAndForget(()=>bf(d,Me)),ct.fromCache&&"server"===N.source?z.reject(new vn(Ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):z.resolve(ct)},error:ct=>z.reject(ct)}),Me=new Yc(A,se,{includeMetadataChanges:!0,J_:!0});return Gc(d,Me)}(yield td(i),i.asyncQueue,e,r,s)})),s.promise}function Bv(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Ag=new Map;function Sg(i,e,r){if(!r)throw new vn(Ot.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Uv(i,e,r,s){if(!0===e&&!0===s)throw new vn(Ot.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function Ff(i){if(!Wn.isDocumentKey(i))throw new vn(Ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function jv(i){if(Wn.isDocumentKey(i))throw new vn(Ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Vf(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(s=i).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof i?"a function":zn()}function ri(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new vn(Ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Vf(i);throw new vn(Ot.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return i}function Hv(i,e){if(e<=0)throw new vn(Ot.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class zv{constructor(e){var r,s;if(void 0===e.host){if(void 0!==e.ssl)throw new vn(Ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(r=e.ssl)||void 0===r||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new vn(Ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Uv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Bv(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(d){if(void 0!==d.timeoutSeconds){if(isNaN(d.timeoutSeconds))throw new vn(Ot.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (must not be NaN)`);if(d.timeoutSeconds<5)throw new vn(Ot.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (minimum allowed value is 5)`);if(d.timeoutSeconds>30)throw new vn(Ot.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ks{constructor(e,r,s,u){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new vn(Ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new vn(Ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zv(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new nc;switch(s.type){case"firstParty":return new Ea(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new vn(Ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=Ag.get(r);s&&(sn("ComponentProvider","Removing Datastore"),Ag.delete(r),s.terminate())}(this),Promise.resolve()}}function $f(i,e,r,s={}){var u;const d=(i=ri(i,ks))._getSettings(),p=`${e}:${r}`;if("firestore.googleapis.com"!==d.host&&d.host!==p&&$i("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},d),{host:p,ssl:!1})),s.mockUserToken){let A,N;if("string"==typeof s.mockUserToken)A=s.mockUserToken,N=or.MOCK_USER;else{A=(0,_e.Sg)(s.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const z=s.mockUserToken.sub||s.mockUserToken.user_id;if(!z)throw new vn(Ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new or(z)}i._authCredentials=new Ml(new yi(A,N))}}class Jo{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Jo(this.firestore,e,this._query)}}class Ji{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ji(this.firestore,e,this._key)}}class nl extends Jo{constructor(e,r,s){super(e,r,Eo(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ji(this.firestore,null,new Wn(e))}withConverter(e){return new nl(this.firestore,e,this._path)}}function Wv(i,e,...r){if(i=(0,_e.m9)(i),Sg("collection","path",e),i instanceof ks){const s=Wr.fromString(e,...r);return jv(s),new nl(i,null,s)}{if(!(i instanceof Ji||i instanceof nl))throw new vn(Ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Wr.fromString(e,...r));return jv(s),new nl(i.firestore,null,s)}}function Gv(i,e){if(i=ri(i,ks),Sg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new vn(Ot.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Jo(i,null,(s=e,new xs(Wr.emptyPath(),s)));var s}function oh(i,e,...r){if(i=(0,_e.m9)(i),1===arguments.length&&(e=fu.newId()),Sg("doc","path",e),i instanceof ks){const s=Wr.fromString(e,...r);return Ff(s),new Ji(i,null,new Wn(s))}{if(!(i instanceof Ji||i instanceof nl))throw new vn(Ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Wr.fromString(e,...r));return Ff(s),new Ji(i.firestore,i instanceof nl?i.converter:null,new Wn(s))}}function Rg(i,e){return i=(0,_e.m9)(i),e=(0,_e.m9)(e),(i instanceof Ji||i instanceof nl)&&(e instanceof Ji||e instanceof nl)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Yv(i,e){return i=(0,_e.m9)(i),e=(0,_e.m9)(e),i instanceof Jo&&e instanceof Jo&&i.firestore===e.firestore&&_l(i._query,e._query)&&i.converter===e.converter}class qv{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new rv(this,"async_queue_retry"),this.iu=()=>{const r=Fc();r&&sn("AsyncQueue","Visibility state changed to "+r.visibilityState),this.zo.Qo()};const e=Fc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const r=Fc();r&&"function"==typeof r.removeEventListener&&r.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const r=new Ni;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,l.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(r){if(!Ms(r))throw r;sn("AsyncQueue","Operation failed with retryable error: "+r)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const r=this.Ja.then(()=>(this.tu=!0,e().catch(s=>{throw this.eu=s,this.tu=!1,gi("INTERNAL UNHANDLED ERROR: ",function(p){let A=p.message||"";return p.stack&&(A=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),A}(s)),s}).then(s=>(this.tu=!1,s))));return this.Ja=r,r}enqueueAfterDelay(e,r,s){this.su(),this.ru.indexOf(e)>-1&&(r=0);const u=uv.createAndSchedule(this,e,r,s,d=>this.au(d));return this.Xa.push(u),u}su(){this.eu&&zn()}verifyOperationInProgress(){}uu(){var e=this;return(0,l.Z)(function*(){let r;do{r=e.Ja,yield r}while(r!==e.Ja)})()}cu(e){for(const r of this.Xa)if(r.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.Xa)if(r.skipDelay(),"all"!==e&&r.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const r=this.Xa.indexOf(e);this.Xa.splice(r,1)}}function Bf(i){return function(r,s){if("object"!=typeof r||null===r)return!1;const u=r;for(const d of["next","error","complete"])if(d in u&&"function"==typeof u[d])return!0;return!1}(i)}class Kv{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ni,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,r,s){this._progressObserver={next:e,error:r,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,r){return this._taskCompletionResolver.promise.then(e,r)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Uf=-1;class xi extends ks{constructor(e,r,s,u){super(e,r,s,u),this.type="firestore",this._queue=new qv,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Zv(this),this._firestoreClient.terminate()}}function Ky(i,e){const r="object"==typeof i?i:(0,M.getApp)(),s="string"==typeof i?i:e||"(default)",u=(0,M._getProvider)(r,"firestore").getImmediate({identifier:s});if(!u._initialized){const d=(0,_e.P0)("firestore");d&&$f(u,...d)}return u}function qi(i){return i._firestoreClient||Zv(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Zv(i){var e,r,s;const u=i._freezeSettings(),d=(N=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new um(i._databaseId,N,i._persistenceKey,(se=u).host,se.ssl,se.experimentalForceLongPolling,se.experimentalAutoDetectLongPolling,Bv(se.experimentalLongPollingOptions),se.useFetchStreams));var N,se;i._firestoreClient=new Xc(i._authCredentials,i._appCheckCredentials,i._queue,d),null!==(r=u.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(s=u.localCache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function Y0(i,e){nd(i=ri(i,xi));const r=qi(i);if(r._uninitializedComponentsProvider)throw new vn(Ot.FAILED_PRECONDITION,"SDK cache is already specified.");$i("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=i._freezeSettings(),u=new Gu;return Qv(r,u,new Mv(u,s.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Xv(i){nd(i=ri(i,xi));const e=qi(i);if(e._uninitializedComponentsProvider)throw new vn(Ot.FAILED_PRECONDITION,"SDK cache is already specified.");$i("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=i._freezeSettings(),s=new Gu;return Qv(e,s,new Br(s,r.cacheSizeBytes))}function Qv(i,e,r){const s=new Ni;return i.asyncQueue.enqueue((0,l.Z)(function*(){try{yield Qc(i,r),yield Nf(i,e),s.resolve()}catch(u){const d=u;if(!kf(d))throw d;$i("Error enabling indexeddb cache. Falling back to memory cache: "+d),s.reject(d)}})).then(()=>s.promise)}function Jv(i){if(i._initialized&&!i._terminated)throw new vn(Ot.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ni;return i._queue.enqueueAndForgetEvenWhileRestricted((0,l.Z)(function*(){try{yield(r=(0,l.Z)(function*(u){if(!_o.D())return Promise.resolve();const d=u+"main";yield _o.delete(d)}),function s(u){return r.apply(this,arguments)})(rf(i._databaseId,i._persistenceKey)),e.resolve()}catch(r){e.reject(r)}var r})),e.promise}function Zy(i){return function(r){const s=new Ni;return r.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function Tv(i,e){return Sf.apply(this,arguments)}(yield Cg(r),s)})),s.promise}(qi(i=ri(i,xi)))}function Xy(i){return function kv(i){return i.asyncQueue.enqueue((0,l.Z)(function*(){const e=yield Ov(i),r=yield Dg(i);return e.setNetworkEnabled(!0),function(u){const d=$n(u);return d.C_.delete(0),$u(d)}(r)}))}(qi(i=ri(i,xi)))}function e_(i){return function Lv(i){return i.asyncQueue.enqueue((0,l.Z)(function*(){const e=yield Ov(i),r=yield Dg(i);return e.setNetworkEnabled(!1),(s=(0,l.Z)(function*(d){const p=$n(d);p.C_.add(0),yield Na(p),p.M_.set("Offline")}),function u(d){return s.apply(this,arguments)})(r);var s}))}(qi(i=ri(i,xi)))}function t_(i,e){const r=qi(i=ri(i,xi)),s=new Kv;return function G0(i,e,r,s){const u=function(p,A){let N;return N="string"==typeof p?Ap().encode(p):p,se=function(se,Me){if(se instanceof Uint8Array)return Ig(se,void 0);if(se instanceof ArrayBuffer)return Ig(new Uint8Array(se),void 0);if(se instanceof ReadableStream)return se.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(N),new xv(se,A);var se}(r,pf(e));i.asyncQueue.enqueueAndForget((0,l.Z)(function*(){!function W0(i,e,r){const s=$n(i);var u;(u=(0,l.Z)(function*(p,A,N){try{const z=yield A.getMetadata();if(yield function(Sn,Rn){const Pn=$n(Sn),fr=To(Rn.createTime);return Pn.persistence.runTransaction("hasNewerBundle","readonly",Or=>Pn.Kr.getBundleMetadata(Or,Rn.id)).then(Or=>!!Or&&Or.createTime.compareTo(fr)>=0)}(p.localStore,z))return yield A.close(),N._completeWith({taskState:"Success",documentsLoaded:(Sn=z).totalDocuments,bytesLoaded:Sn.totalBytes,totalDocuments:Sn.totalDocuments,totalBytes:Sn.totalBytes}),Promise.resolve(new Set);N._updateProgress(hv(z));const se=new eh(z,p.localStore,A.serializer);let Me=yield A.Ma();for(;Me;){const Nt=yield se.ea(Me);Nt&&N._updateProgress(Nt),Me=yield A.Ma()}const ct=yield se.complete();return yield Al(p,ct.ra,void 0),yield function(Sn,Rn){const Pn=$n(Sn);return Pn.persistence.runTransaction("Save bundle","readwrite",fr=>Pn.Kr.saveBundleMetadata(fr,Rn))}(p.localStore,z),N._completeWith(ct.progress),Promise.resolve(ct.na)}catch(z){return $i("SyncEngine",`Loading bundle failed with ${z}`),N._failWith(z),Promise.resolve(new Set)}var Sn}),function d(p,A,N){return u.apply(this,arguments)})(s,e,r).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield Cg(i),u,s)}))}(r,i._databaseId,e,s),s}function sh(i,e){return function wg(i,e){return i.asyncQueue.enqueue((0,l.Z)(function*(){return function(s,u){const d=$n(s);return d.persistence.runTransaction("Get named query","readonly",p=>d.Kr.getNamedQuery(p,u))}(yield ed(i),e)}))}(qi(i=ri(i,xi)),e).then(r=>r?new Jo(i,null,r.query):null)}function nd(i){if(i._initialized||i._terminated)throw new vn(Ot.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class au{constructor(e){this._byteString=e}static fromBase64String(e){try{return new au(yo.fromBase64String(e))}catch(r){throw new vn(Ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new au(yo.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class lu{constructor(...e){for(let r=0;r<e.length;++r)if(0===e[r].length)throw new vn(Ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class id{constructor(e){this._methodName=e}}class Pg{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new vn(Ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new vn(Ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return gr(this._lat,e._lat)||gr(this._long,e._long)}}const jf=/^__.*__$/;class eE{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return null!==this.fieldMask?new $o(e,this.data,this.fieldMask,r,this.fieldTransforms):new El(e,this.data,r,this.fieldTransforms)}}class n_{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new $o(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function tE(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zn()}}class Hf{constructor(e,r,s,u,d,p){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===d&&this.Pu(),this.fieldTransforms=d||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Hf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Tu({path:s,du:!1});return u.Au(e),u}Ru(e){var r;const s=null===(r=this.path)||void 0===r?void 0:r.child(e),u=this.Tu({path:s,du:!1});return u.Pu(),u}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return ch(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(r=>e.isPrefixOf(r))||void 0!==this.fieldTransforms.find(r=>e.isPrefixOf(r.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(tE(this.Iu)&&jf.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class nE{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||pf(e)}pu(e,r,s,u=!1){return new Hf({Iu:e,methodName:r,gu:s,path:Xn.emptyPath(),du:!1,fu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qu(i){const e=i._freezeSettings(),r=pf(i._databaseId);return new nE(i._databaseId,!!e.ignoreUndefinedProperties,r)}function zf(i,e,r,s,u,d={}){const p=i.pu(d.merge||d.mergeFields?2:0,e,r,u);lh("Data must be an object, but it was:",p,s);const A=po(s,p);let N,z;if(d.merge)N=new as(p.fieldMask),z=p.fieldTransforms;else if(d.mergeFields){const se=[];for(const Me of d.mergeFields){const ct=uh(e,Me,r);if(!p.contains(ct))throw new vn(Ot.INVALID_ARGUMENT,`Field '${ct}' is specified in your field mask but missing from your input data.`);xg(se,ct)||se.push(ct)}N=new as(se),z=p.fieldTransforms.filter(Me=>N.covers(Me.field))}else N=null,z=p.fieldTransforms;return new eE(new ti(A),N,z)}class ah extends id{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ah}}function r_(i,e,r){return new Hf({Iu:3,gu:e.settings.gu,methodName:i._methodName,du:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Wf extends id{_toFieldTransform(e){return new Xa(e.path,new Oa)}isEqual(e){return e instanceof Wf}}class Ku extends id{constructor(e,r){super(e),this.yu=r}_toFieldTransform(e){const r=r_(this,e,!0),s=this.yu.map(d=>od(d,r)),u=new Os(s);return new Xa(e.path,u)}isEqual(e){return this===e}}class rE extends id{constructor(e,r){super(e),this.yu=r}_toFieldTransform(e){const r=r_(this,e,!0),s=this.yu.map(d=>od(d,r)),u=new Ka(s);return new Xa(e.path,u)}isEqual(e){return this===e}}class Mg extends id{constructor(e,r){super(e),this.wu=r}_toFieldTransform(e){const r=new Za(e.serializer,Er(e.serializer,this.wu));return new Xa(e.path,r)}isEqual(e){return this===e}}function ha(i,e,r,s){const u=i.pu(1,e,r);lh("Data must be an object, but it was:",u,s);const d=[],p=ti.empty();aa(s,(N,z)=>{const se=sd(e,N,r);z=(0,_e.m9)(z);const Me=u.Ru(se);if(z instanceof ah)d.push(se);else{const ct=od(z,Me);null!=ct&&(d.push(se),p.set(se,ct))}});const A=new as(d);return new n_(p,A,u.fieldTransforms)}function Gf(i,e,r,s,u,d){const p=i.pu(1,e,r),A=[uh(e,s,r)],N=[u];if(d.length%2!=0)throw new vn(Ot.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ct=0;ct<d.length;ct+=2)A.push(uh(e,d[ct])),N.push(d[ct+1]);const z=[],se=ti.empty();for(let ct=A.length-1;ct>=0;--ct)if(!xg(z,A[ct])){const Nt=A[ct];let Sn=N[ct];Sn=(0,_e.m9)(Sn);const Rn=p.Ru(Nt);if(Sn instanceof ah)z.push(Nt);else{const Pn=od(Sn,Rn);null!=Pn&&(z.push(Nt),se.set(Nt,Pn))}}const Me=new as(z);return new n_(se,Me,p.fieldTransforms)}function i_(i,e,r,s=!1){return od(r,i.pu(s?4:3,e))}function od(i,e){if(o_(i=(0,_e.m9)(i)))return lh("Unsupported field value:",e,i),po(i,e);if(i instanceof id)return function(s,u){if(!tE(u.Iu))throw u.mu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.mu(`${s._methodName}() is not currently supported inside arrays`);const d=s._toFieldTransform(u);d&&u.fieldTransforms.push(d)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(s,u){const d=[];let p=0;for(const A of s){let N=od(A,u.Vu(p));null==N&&(N={nullValue:"NULL_VALUE"}),d.push(N),p++}return{arrayValue:{values:d}}}(i,e)}return function(s,u){if(null===(s=(0,_e.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return Er(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const d=Ei.fromDate(s);return{timestampValue:Cc(u.serializer,d)}}if(s instanceof Ei){const d=new Ei(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Cc(u.serializer,d)}}if(s instanceof Pg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof au)return{bytesValue:Mp(u.serializer,s._byteString)};if(s instanceof Ji){const d=u.databaseId,p=s.firestore._databaseId;if(!p.isEqual(d))throw u.mu(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:_m(s.firestore._databaseId||u.databaseId,s._key.path)}}throw u.mu(`Unsupported field value: ${Vf(s)}`)}(i,e)}function po(i,e){const r={};return ba(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):aa(i,(s,u)=>{const d=od(u,e.Eu(s));null!=d&&(r[s]=d)}),{mapValue:{fields:r}}}function o_(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Ei||i instanceof Pg||i instanceof au||i instanceof Ji||i instanceof id)}function lh(i,e,r){if(!o_(r)||"object"!=typeof(u=r)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=Vf(r);throw e.mu("an object"===s?i+" a custom object":i+" "+s)}var u}function uh(i,e,r){if((e=(0,_e.m9)(e))instanceof lu)return e._internalPath;if("string"==typeof e)return sd(i,e);throw ch("Field path arguments must be of type string or ",i,!1,void 0,r)}const iE=new RegExp("[~\\*/\\[\\]]");function sd(i,e,r){if(e.search(iE)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,r);try{return new lu(...e.split("."))._internalPath}catch{throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,r)}}function ch(i,e,r,s,u){const d=s&&!s.isEmpty(),p=void 0!==u;let A=`Function ${e}() called with invalid data`;r&&(A+=" (via `toFirestore()`)"),A+=". ";let N="";return(d||p)&&(N+=" (found",d&&(N+=` in field ${s}`),p&&(N+=` in document ${u}`),N+=")"),new vn(Ot.INVALID_ARGUMENT,A+i+N)}function xg(i,e){return i.some(r=>r.isEqual(e))}class dh{constructor(e,r,s,u,d){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Ji(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new s_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(hh("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r)}}}class s_ extends dh{data(){return super.data()}}function hh(i,e){return"string"==typeof e?sd(i,e):e instanceof lu?e._internalPath:e._delegate._internalPath}function a_(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new vn(Ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rl{}class ad extends Rl{}function l_(i,e,...r){let s=[];e instanceof Rl&&s.push(e),s=s.concat(r),function(d){const p=d.filter(N=>N instanceof Zu).length,A=d.filter(N=>N instanceof fh).length;if(p>1||p>0&&A>0)throw new vn(Ot.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)i=u._apply(i);return i}class fh extends ad{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new fh(e,r,s)}_apply(e){const r=this._parse(e);return p_(e._query,r),new Jo(e.firestore,e.converter,Ad(e._query,r))}_parse(e){const r=qu(e.firestore);return function(d,p,A,N,z,se,Me){let ct;if(z.isKeyField()){if("array-contains"===se||"array-contains-any"===se)throw new vn(Ot.INVALID_ARGUMENT,`Invalid Query. You can't perform '${se}' queries on documentId().`);if("in"===se||"not-in"===se){f_(Me,se);const Nt=[];for(const Sn of Me)Nt.push(h_(N,d,Sn));ct={arrayValue:{values:Nt}}}else ct=h_(N,d,Me)}else"in"!==se&&"not-in"!==se&&"array-contains-any"!==se||f_(Me,se),ct=i_(A,"where",Me,"in"===se||"not-in"===se);return $r.create(z,se,ct)}(e._query,0,r,e.firestore._databaseId,this._field,this._op,this._value)}}function u_(i,e,r){const s=e,u=hh("where",i);return fh._create(u,s,r)}class Zu extends Rl{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new Zu(e,r)}_parse(e){const r=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===r.length?r[0]:mi.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return 0===r.getFilters().length?e:(function(u,d){let p=u;const A=d.getFlattenedFilters();for(const N of A)p_(p,N),p=Ad(p,N)}(e._query,r),new Jo(e.firestore,e.converter,Ad(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ng extends ad{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Ng(e,r)}_apply(e){const r=function(u,d,p){if(null!==u.startAt)throw new vn(Ot.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new vn(Ot.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gl(d,p)}(e._query,this._field,this._direction);return new Jo(e.firestore,e.converter,function(u,d){const p=u.explicitOrderBy.concat([d]);return new xs(u.path,u.collectionGroup,p,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,r))}}function sE(i,e="asc"){const r=e,s=hh("orderBy",i);return Ng._create(s,r)}class ld extends ad{constructor(e,r,s){super(),this.type=e,this._limit=r,this._limitType=s}static _create(e,r,s){return new ld(e,r,s)}_apply(e){return new Jo(e.firestore,e.converter,Sd(e._query,this._limit,this._limitType))}}function aE(i){return Hv("limit",i),ld._create("limit",i,"F")}function Yf(i){return Hv("limitToLast",i),ld._create("limitToLast",i,"L")}class ph extends ad{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new ph(e,r,s)}_apply(e){const r=d_(e,this.type,this._docOrFields,this._inclusive);return new Jo(e.firestore,e.converter,(d=r,new xs((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,d,u.endAt)));var u,d}}function c_(...i){return ph._create("startAt",i,!0)}function lE(...i){return ph._create("startAfter",i,!1)}class qf extends ad{constructor(e,r,s){super(),this.type=e,this._docOrFields=r,this._inclusive=s}static _create(e,r,s){return new qf(e,r,s)}_apply(e){const r=d_(e,this.type,this._docOrFields,this._inclusive);return new Jo(e.firestore,e.converter,(d=r,new xs((u=e._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,d)));var u,d}}function gh(...i){return qf._create("endBefore",i,!1)}function uE(...i){return qf._create("endAt",i,!0)}function d_(i,e,r,s){if(r[0]=(0,_e.m9)(r[0]),r[0]instanceof dh)return function(d,p,A,N,z){if(!N)throw new vn(Ot.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${A}().`);const se=[];for(const Me of Bl(d))if(Me.field.isKeyField())se.push(za(p,N.key));else{const ct=N.data.field(Me.field);if(ja(ct))throw new vn(Ot.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Me.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ct){const Nt=Me.field.canonicalString();throw new vn(Ot.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Nt}' (used as the orderBy) does not exist.`)}se.push(ct)}return new ca(se,z)}(i._query,i.firestore._databaseId,e,r[0]._document,s);{const u=qu(i.firestore);return function(p,A,N,z,se,Me){const ct=p.explicitOrderBy;if(se.length>ct.length)throw new vn(Ot.INVALID_ARGUMENT,`Too many arguments provided to ${z}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Nt=[];for(let Sn=0;Sn<se.length;Sn++){const Rn=se[Sn];if(ct[Sn].field.isKeyField()){if("string"!=typeof Rn)throw new vn(Ot.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${z}(), but got a ${typeof Rn}`);if(!Ya(p)&&-1!==Rn.indexOf("/"))throw new vn(Ot.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${z}() must be a plain document ID, but '${Rn}' contains a slash.`);const Pn=p.path.child(Wr.fromString(Rn));if(!Wn.isDocumentKey(Pn))throw new vn(Ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${z}() must result in a valid document path, but '${Pn}' is not because it contains an odd number of segments.`);const fr=new Wn(Pn);Nt.push(za(A,fr))}else{const Pn=i_(N,z,Rn);Nt.push(Pn)}}return new ca(Nt,Me)}(i._query,i.firestore._databaseId,u,e,r,s)}}function h_(i,e,r){if("string"==typeof(r=(0,_e.m9)(r))){if(""===r)throw new vn(Ot.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ya(e)&&-1!==r.indexOf("/"))throw new vn(Ot.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(Wr.fromString(r));if(!Wn.isDocumentKey(s))throw new vn(Ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return za(i,new Wn(s))}if(r instanceof Ji)return za(i,r._key);throw new vn(Ot.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vf(r)}.`)}function f_(i,e){if(!Array.isArray(i)||0===i.length)throw new vn(Ot.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function p_(i,e){const r=function(u,d){for(const p of u)for(const A of p.getFlattenedFilters())if(d.indexOf(A.op)>=0)return A.op;return null}(i.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==r)throw new vn(Ot.INVALID_ARGUMENT,r===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class kg{convertValue(e,r="none"){switch(Ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ci(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 10:return this.convertObject(e.mapValue,r);default:throw zn()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return aa(e,(u,d)=>{s[u]=this.convertValue(d,r)}),s}convertGeoPoint(e){return new Pg(Ci(e.latitude),Ci(e.longitude))}convertArray(e,r){return(e.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(e,r){switch(r){case"previous":const s=ua(e);return null==s?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Ha(e));default:return null}}convertTimestamp(e){const r=la(e);return new Ei(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=Wr.fromString(e);Jn(Uh(s));const u=new zs(s.get(1),s.get(3)),d=new Wn(s.popFirst(5));return u.isEqual(r)||gi(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),d}}function Kf(i,e,r){let s;return s=i?r&&(r.merge||r.mergeFields)?i.toFirestore(e,r):i.toFirestore(e):e,s}class m_ extends kg{constructor(e){super(),this.firestore=e}convertBytes(e){return new au(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ji(this.firestore,null,r)}}class Xu{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qu extends dh{constructor(e,r,s,u,d,p){super(e,r,s,u,p),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(hh("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class mh extends Qu{data(e={}){return super.data(e)}}class Ju{constructor(e,r,s,u){this._firestore=e,this._userDataWriter=r,this._snapshot=u,this.metadata=new Xu(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,r){this._snapshot.docs.forEach(s=>{e.call(r,new mh(this._firestore,this._userDataWriter,s.key,s,new Xu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new vn(Ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,d){if(u._snapshot.oldDocs.isEmpty()){let p=0;return u._snapshot.docChanges.map(A=>({type:"added",doc:new mh(u._firestore,u._userDataWriter,A.doc.key,A.doc,new Xu(u._snapshot.mutatedKeys.has(A.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:p++}))}{let p=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(A=>d||3!==A.type).map(A=>{const N=new mh(u._firestore,u._userDataWriter,A.doc.key,A.doc,new Xu(u._snapshot.mutatedKeys.has(A.doc.key),u._snapshot.fromCache),u.query.converter);let z=-1,se=-1;return 0!==A.type&&(z=p.indexOf(A.doc.key),p=p.delete(A.doc.key)),1!==A.type&&(p=p.add(A.doc),se=p.indexOf(A.doc.key)),{type:cE(A.type),doc:N,oldIndex:z,newIndex:se}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function cE(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zn()}}function __(i,e){return i instanceof Qu&&e instanceof Qu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Ju&&e instanceof Ju&&i._firestore===e._firestore&&Yv(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function y_(i){i=ri(i,Ji);const e=ri(i.firestore,xi);return Fv(qi(e),i._key).then(r=>cu(e,i,r))}class uu extends kg{constructor(e){super(),this.firestore=e}convertBytes(e){return new au(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ji(this.firestore,null,r)}}function Q0(i){i=ri(i,Ji);const e=ri(i.firestore,xi),r=qi(e),s=new uu(e);return function Wy(i,e){const r=new Ni;return i.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return(s=(0,l.Z)(function*(d,p,A){try{const N=yield function(se,Me){const ct=$n(se);return ct.persistence.runTransaction("read document","readonly",Nt=>ct.localDocuments.getDocument(Nt,Me))}(d,p);N.isFoundDocument()?A.resolve(N):N.isNoDocument()?A.resolve(null):A.reject(new vn(Ot.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(N){const z=zc(N,`Failed to get document '${p} from cache`);A.reject(z)}}),function u(d,p,A){return s.apply(this,arguments)})(yield ed(i),e,r);var s})),r.promise}(r,i._key).then(u=>new Qu(e,s,i._key,u,new Xu(null!==u&&u.hasLocalMutations,!0),i.converter))}function E_(i){i=ri(i,Ji);const e=ri(i.firestore,xi);return Fv(qi(e),i._key,{source:"server"}).then(r=>cu(e,i,r))}function I_(i){i=ri(i,Jo);const e=ri(i.firestore,xi),r=qi(e),s=new uu(e);return a_(i._query),Vv(r,i._query).then(u=>new Ju(e,s,i,u))}function rl(i){i=ri(i,Jo);const e=ri(i.firestore,xi),r=qi(e),s=new uu(e);return function Ks(i,e){const r=new Ni;return i.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return(s=(0,l.Z)(function*(d,p,A){try{const N=yield uf(d,p,!0),z=new pv(p,N.ls),se=z.ca(N.documents),Me=z.applyChanges(se,!1);A.resolve(Me.snapshot)}catch(N){const z=zc(N,`Failed to execute query '${p} against cache`);A.reject(z)}}),function u(d,p,A){return s.apply(this,arguments)})(yield ed(i),e,r);var s})),r.promise}(r,i._query).then(u=>new Ju(e,s,i,u))}function vh(i){i=ri(i,Jo);const e=ri(i.firestore,xi),r=qi(e),s=new uu(e);return Vv(r,i._query,{source:"server"}).then(u=>new Ju(e,s,i,u))}function Co(i,e,r){i=ri(i,Ji);const s=ri(i.firestore,xi),u=Kf(i.converter,e,r);return La(s,[zf(qu(s),"setDoc",i._key,u,null!==i.converter,r).toMutation(i._key,ki.none())])}function ec(i,e,r,...s){i=ri(i,Ji);const u=ri(i.firestore,xi),d=qu(u);let p;return p="string"==typeof(e=(0,_e.m9)(e))||e instanceof lu?Gf(d,"updateDoc",i._key,e,r,s):ha(d,"updateDoc",i._key,e),La(u,[p.toMutation(i._key,ki.exists(!0))])}function Xf(i){return La(ri(i.firestore,xi),[new Ec(i._key,ki.none())])}function fa(i,e){const r=ri(i.firestore,xi),s=oh(i),u=Kf(i.converter,e);return La(r,[zf(qu(i.firestore),"addDoc",s._key,u,null!==i.converter,{}).toMutation(s._key,ki.exists(!1))]).then(()=>s)}function Lg(i,...e){var r,s,u;i=(0,_e.m9)(i);let d={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||Bf(e[p])||(d=e[p],p++);const A={includeMetadataChanges:d.includeMetadataChanges};if(Bf(e[p])){const Me=e[p];e[p]=null===(r=Me.next)||void 0===r?void 0:r.bind(Me),e[p+1]=null===(s=Me.error)||void 0===s?void 0:s.bind(Me),e[p+2]=null===(u=Me.complete)||void 0===u?void 0:u.bind(Me)}let N,z,se;if(i instanceof Ji)z=ri(i.firestore,xi),se=Eo(i._key.path),N={next:Me=>{e[p]&&e[p](cu(z,i,Me))},error:e[p+1],complete:e[p+2]};else{const Me=ri(i,Jo);z=ri(Me.firestore,xi),se=Me._query;const ct=new uu(z);N={next:Nt=>{e[p]&&e[p](new Ju(z,ct,Me,Nt))},error:e[p+1],complete:e[p+2]},a_(i._query)}return function(ct,Nt,Sn,Rn){const Pn=new Sl(Rn),fr=new Yc(Nt,Pn,Sn);return ct.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return Gc(yield td(ct),fr)})),()=>{Pn.Na(),ct.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return bf(yield td(ct),fr)}))}}(qi(z),se,A,N)}function ud(i,e){return function Gy(i,e){const r=new Sl(e);return i.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return u=yield td(i),d=r,$n(u).q_.add(d),void d.next();var u,d})),()=>{r.Na(),i.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return u=yield td(i),d=r,void $n(u).q_.delete(d);var u,d}))}}(qi(i=ri(i,xi)),Bf(e)?e:{next:e})}function La(i,e){return function(s,u){const d=new Ni;return s.asyncQueue.enqueueAndForget((0,l.Z)(function*(){return function H0(i,e,r){return qc.apply(this,arguments)}(yield Cg(s),u,d)})),d.promise}(qi(i),e)}function cu(i,e,r){const s=r.docs.get(e._key),u=new uu(i);return new Qu(i,u,e._key,s,new Xu(r.hasPendingWrites,r.fromCache),e.converter)}const b_={maxAttempts:5};class yh{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=qu(e)}set(e,r,s){this._verifyNotCommitted();const u=Ts(e,this._firestore),d=Kf(u.converter,r,s),p=zf(this._dataReader,"WriteBatch.set",u._key,d,null!==u.converter,s);return this._mutations.push(p.toMutation(u._key,ki.none())),this}update(e,r,s,...u){this._verifyNotCommitted();const d=Ts(e,this._firestore);let p;return p="string"==typeof(r=(0,_e.m9)(r))||r instanceof lu?Gf(this._dataReader,"WriteBatch.update",d._key,r,s,u):ha(this._dataReader,"WriteBatch.update",d._key,r),this._mutations.push(p.toMutation(d._key,ki.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=Ts(e,this._firestore);return this._mutations=this._mutations.concat(new Ec(r._key,ki.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new vn(Ot.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ts(i,e){if((i=(0,_e.m9)(i)).firestore!==e)throw new vn(Ot.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class mE extends class{constructor(r,s){this._firestore=r,this._transaction=s,this._dataReader=qu(r)}get(r){const s=Ts(r,this._firestore),u=new m_(this._firestore);return this._transaction.lookup([s._key]).then(d=>{if(!d||1!==d.length)return zn();const p=d[0];if(p.isFoundDocument())return new dh(this._firestore,u,p.key,p,s.converter);if(p.isNoDocument())return new dh(this._firestore,u,s._key,null,s.converter);throw zn()})}set(r,s,u){const d=Ts(r,this._firestore),p=Kf(d.converter,s,u),A=zf(this._dataReader,"Transaction.set",d._key,p,null!==d.converter,u);return this._transaction.set(d._key,A),this}update(r,s,u,...d){const p=Ts(r,this._firestore);let A;return A="string"==typeof(s=(0,_e.m9)(s))||s instanceof lu?Gf(this._dataReader,"Transaction.update",p._key,s,u,d):ha(this._dataReader,"Transaction.update",p._key,s),this._transaction.update(p._key,A),this}delete(r){const s=Ts(r,this._firestore);return this._transaction.delete(s._key),this}}{constructor(e,r){super(e,r),this._firestore=e}get(e){const r=Ts(e,this._firestore),s=new uu(this._firestore);return super.get(e).then(u=>new Qu(this._firestore,s,r._key,u._document,new Xu(!1,!1),r.converter))}}function vE(i,e,r){i=ri(i,xi);const s=Object.assign(Object.assign({},b_),r);return function(d){if(d.maxAttempts<1)throw new vn(Ot.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(d,p,A){const N=new Ni;return d.asyncQueue.enqueueAndForget((0,l.Z)(function*(){const z=yield function Nv(i){return Jc(i).then(e=>e.datastore)}(d);new Of(d.asyncQueue,z,A,p,N).run()})),N.promise}(qi(i),u=>e(new mE(i,u)),s)}function Fg(){return new ah("deleteField")}function tc(){return new Wf("serverTimestamp")}function Vg(...i){return new Ku("arrayUnion",i)}function _E(...i){return new rE("arrayRemove",i)}function $g(i){return new Mg("increment",i)}!function(e,r=!0){ei=M.SDK_VERSION,(0,M._registerComponent)(new H.wA("firestore",(s,{instanceIdentifier:u,options:d})=>{const p=s.getProvider("app").getImmediate(),A=new xi(new fo(s.getProvider("auth-internal")),new vo(s.getProvider("app-check-internal")),function(z,se){if(!Object.prototype.hasOwnProperty.apply(z.options,["projectId"]))throw new vn(Ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zs(z.options.projectId,se)}(p,u),p);return d=Object.assign({useFetchStreams:r},d),A._setSettings(d),A},"PUBLIC").setMultipleInstances(!0)),(0,M.registerVersion)(Jr,"4.3.2",e),(0,M.registerVersion)(Jr,"4.3.2","esm2017")}()},9058:(ln,nt,w)=>{"use strict";w.d(nt,{BH:()=>Xe,G6:()=>tt,L:()=>Ye,LL:()=>pt,P0:()=>dt,Pz:()=>je,Sg:()=>Se,UG:()=>ke,ZB:()=>$e,ZR:()=>at,aH:()=>qe,b$:()=>lt,eu:()=>ne,hl:()=>he,jU:()=>Ve,m9:()=>hr,ne:()=>br,pd:()=>qn,q4:()=>ze,r3:()=>qt,ru:()=>ft,tV:()=>ue,uI:()=>X,vZ:()=>dn,w1:()=>Wt,xO:()=>Dr,xb:()=>Nn,z$:()=>ge,zd:()=>Yn});const Q=function(He){const te=[];let B=0;for(let R=0;R<He.length;R++){let b=He.charCodeAt(R);b<128?te[B++]=b:b<2048?(te[B++]=b>>6|192,te[B++]=63&b|128):55296==(64512&b)&&R+1<He.length&&56320==(64512&He.charCodeAt(R+1))?(b=65536+((1023&b)<<10)+(1023&He.charCodeAt(++R)),te[B++]=b>>18|240,te[B++]=b>>12&63|128,te[B++]=b>>6&63|128,te[B++]=63&b|128):(te[B++]=b>>12|224,te[B++]=b>>6&63|128,te[B++]=63&b|128)}return te},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(He,te){if(!Array.isArray(He))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=te?this.byteToCharMapWebSafe_:this.byteToCharMap_,R=[];for(let b=0;b<He.length;b+=3){const W=He[b],ie=b+1<He.length,We=ie?He[b+1]:0,Ce=b+2<He.length,Ge=Ce?He[b+2]:0;let Mt=(15&We)<<2|Ge>>6,rn=63&Ge;Ce||(rn=64,ie||(Mt=64)),R.push(B[W>>2],B[(3&W)<<4|We>>4],B[Mt],B[rn])}return R.join("")},encodeString(He,te){return this.HAS_NATIVE_SUPPORT&&!te?btoa(He):this.encodeByteArray(Q(He),te)},decodeString(He,te){return this.HAS_NATIVE_SUPPORT&&!te?atob(He):function(He){const te=[];let B=0,R=0;for(;B<He.length;){const b=He[B++];if(b<128)te[R++]=String.fromCharCode(b);else if(b>191&&b<224){const W=He[B++];te[R++]=String.fromCharCode((31&b)<<6|63&W)}else if(b>239&&b<365){const Ce=((7&b)<<18|(63&He[B++])<<12|(63&He[B++])<<6|63&He[B++])-65536;te[R++]=String.fromCharCode(55296+(Ce>>10)),te[R++]=String.fromCharCode(56320+(1023&Ce))}else{const W=He[B++],ie=He[B++];te[R++]=String.fromCharCode((15&b)<<12|(63&W)<<6|63&ie)}}return te.join("")}(this.decodeStringToByteArray(He,te))},decodeStringToByteArray(He,te){this.init_();const B=te?this.charToByteMapWebSafe_:this.charToByteMap_,R=[];for(let b=0;b<He.length;){const W=B[He.charAt(b++)],We=b<He.length?B[He.charAt(b)]:0;++b;const Ge=b<He.length?B[He.charAt(b)]:64;++b;const gt=b<He.length?B[He.charAt(b)]:64;if(++b,null==W||null==We||null==Ge||null==gt)throw new pe;R.push(W<<2|We>>4),64!==Ge&&(R.push(We<<4&240|Ge>>2),64!==gt&&R.push(Ge<<6&192|gt))}return R},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let He=0;He<this.ENCODED_VALS.length;He++)this.byteToCharMap_[He]=this.ENCODED_VALS.charAt(He),this.charToByteMap_[this.byteToCharMap_[He]]=He,this.byteToCharMapWebSafe_[He]=this.ENCODED_VALS_WEBSAFE.charAt(He),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[He]]=He,He>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(He)]=He,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(He)]=He)}}};class pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ye=function(He){return function(He){const te=Q(He);return le.encodeByteArray(te,!0)}(He).replace(/\./g,"")},ue=function(He){try{return le.decodeString(He,!0)}catch(te){console.error("base64Decode failed: ",te)}return null};function $e(He,te){if(!(te instanceof Object))return te;switch(te.constructor){case Date:return new Date(te.getTime());case Object:void 0===He&&(He={});break;case Array:He=[];break;default:return te}for(const B in te)!te.hasOwnProperty(B)||!we(B)||(He[B]=$e(He[B],te[B]));return He}function we(He){return"__proto__"!==He}const Le=()=>{try{return function xe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const He=process.env.__FIREBASE_DEFAULTS__;return He?JSON.parse(He):void 0})()||(()=>{if(typeof document>"u")return;let He;try{He=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const te=He&&ue(He[1]);return te&&JSON.parse(te)})()}catch(He){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${He}`)}},ze=He=>{var te,B;return null===(B=null===(te=Le())||void 0===te?void 0:te.emulatorHosts)||void 0===B?void 0:B[He]},dt=He=>{const te=ze(He);if(!te)return;const B=te.lastIndexOf(":");if(B<=0||B+1===te.length)throw new Error(`Invalid host ${te} with no separate hostname and port!`);const R=parseInt(te.substring(B+1),10);return"["===te[0]?[te.substring(1,B-1),R]:[te.substring(0,B),R]},qe=()=>{var He;return null===(He=Le())||void 0===He?void 0:He.config},je=He=>{var te;return null===(te=Le())||void 0===te?void 0:te[`_${He}`]};class Xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((te,B)=>{this.resolve=te,this.reject=B})}wrapCallback(te){return(B,R)=>{B?this.reject(B):this.resolve(R),"function"==typeof te&&(this.promise.catch(()=>{}),1===te.length?te(B):te(B,R))}}}function Se(He,te){if(He.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const R=te||"demo-project",b=He.iat||0,W=He.sub||He.user_id;if(!W)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ie=Object.assign({iss:`https://securetoken.google.com/${R}`,aud:R,iat:b,exp:b+3600,auth_time:b,sub:W,user_id:W,firebase:{sign_in_provider:"custom",identities:{}}},He);return[Ye(JSON.stringify({alg:"none",type:"JWT"})),Ye(JSON.stringify(ie)),""].join(".")}function ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function X(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ge())}function ke(){var He;const te=null===(He=Le())||void 0===He?void 0:He.forceEnvironment;if("node"===te)return!0;if("browser"===te)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ve(){return"object"==typeof self&&self.self===self}function ft(){const He="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof He&&void 0!==He.id}function lt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Wt(){const He=ge();return He.indexOf("MSIE ")>=0||He.indexOf("Trident/")>=0}function tt(){return!ke()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){try{return"object"==typeof indexedDB}catch{return!1}}function ne(){return new Promise((He,te)=>{try{let B=!0;const R="validate-browser-context-for-indexeddb-analytics-module",b=self.indexedDB.open(R);b.onsuccess=()=>{b.result.close(),B||self.indexedDB.deleteDatabase(R),He(!0)},b.onupgradeneeded=()=>{B=!1},b.onerror=()=>{var W;te((null===(W=b.error)||void 0===W?void 0:W.message)||"")}}catch(B){te(B)}})}class at extends Error{constructor(te,B,R){super(B),this.code=te,this.customData=R,this.name="FirebaseError",Object.setPrototypeOf(this,at.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pt.prototype.create)}}class pt{constructor(te,B,R){this.service=te,this.serviceName=B,this.errors=R}create(te,...B){const R=B[0]||{},b=`${this.service}/${te}`,W=this.errors[te],ie=W?function Ft(He,te){return He.replace(on,(B,R)=>{const b=te[R];return null!=b?String(b):`<${R}?>`})}(W,R):"Error";return new at(b,`${this.serviceName}: ${ie} (${b}).`,R)}}const on=/\{\$([^}]+)}/g;function qt(He,te){return Object.prototype.hasOwnProperty.call(He,te)}function Nn(He){for(const te in He)if(Object.prototype.hasOwnProperty.call(He,te))return!1;return!0}function dn(He,te){if(He===te)return!0;const B=Object.keys(He),R=Object.keys(te);for(const b of B){if(!R.includes(b))return!1;const W=He[b],ie=te[b];if(kn(W)&&kn(ie)){if(!dn(W,ie))return!1}else if(W!==ie)return!1}for(const b of R)if(!B.includes(b))return!1;return!0}function kn(He){return null!==He&&"object"==typeof He}function Dr(He){const te=[];for(const[B,R]of Object.entries(He))Array.isArray(R)?R.forEach(b=>{te.push(encodeURIComponent(B)+"="+encodeURIComponent(b))}):te.push(encodeURIComponent(B)+"="+encodeURIComponent(R));return te.length?"&"+te.join("&"):""}function Yn(He){const te={};return He.replace(/^\?/,"").split("&").forEach(R=>{if(R){const[b,W]=R.split("=");te[decodeURIComponent(b)]=decodeURIComponent(W)}}),te}function qn(He){const te=He.indexOf("?");if(!te)return"";const B=He.indexOf("#",te);return He.substring(te,B>0?B:void 0)}function br(He,te){const B=new Cr(He,te);return B.subscribe.bind(B)}class Cr{constructor(te,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{te(this)}).catch(R=>{this.error(R)})}next(te){this.forEachObserver(B=>{B.next(te)})}error(te){this.forEachObserver(B=>{B.error(te)}),this.close(te)}complete(){this.forEachObserver(te=>{te.complete()}),this.close()}subscribe(te,B,R){let b;if(void 0===te&&void 0===B&&void 0===R)throw new Error("Missing Observer.");b=function rr(He,te){if("object"!=typeof He||null===He)return!1;for(const B of te)if(B in He&&"function"==typeof He[B])return!0;return!1}(te,["next","error","complete"])?te:{next:te,error:B,complete:R},void 0===b.next&&(b.next=xn),void 0===b.error&&(b.error=xn),void 0===b.complete&&(b.complete=xn);const W=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?b.error(this.finalError):b.complete()}catch{}}),this.observers.push(b),W}unsubscribeOne(te){void 0===this.observers||void 0===this.observers[te]||(delete this.observers[te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(te){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,te)}sendOne(te,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[te])try{B(this.observers[te])}catch(R){typeof console<"u"&&console.error&&console.error(R)}})}close(te){this.finalized||(this.finalized=!0,void 0!==te&&(this.finalError=te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xn(){}function hr(He){return He&&He._delegate?He._delegate:He}},3630:(ln,nt,w)=>{"use strict";w.d(nt,{c:()=>H,r:()=>fe});const H=(ge,X)=>{ge.componentOnReady?ge.componentOnReady().then(ke=>X(ke)):fe(()=>X(ge))},fe=ge=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ge):"function"==typeof requestAnimationFrame?requestAnimationFrame(ge):setTimeout(ge)},191:(ln,nt,w)=>{"use strict";w.d(nt,{L:()=>l,a:()=>M,b:()=>H,c:()=>Q,d:()=>_e,g:()=>ge});const l="ionViewWillEnter",M="ionViewDidEnter",H="ionViewWillLeave",Q="ionViewDidLeave",_e="ionViewWillUnload",ge=X=>X.classList.contains("ion-page")?X:X.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||X},6410:(ln,nt,w)=>{"use strict";w.d(nt,{c:()=>rt});var l=w(6225),M=w(839);let H;const _e=Be=>Be.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),le=Be=>(void 0===H&&(H=void 0===Be.style.animationName&&void 0!==Be.style.webkitAnimationName?"-webkit-":""),H),pe=(Be,Le,ze)=>{const dt=Le.startsWith("animation")?le(Be):"";Be.style.setProperty(dt+Le,ze)},ve=(Be,Le)=>{const ze=Le.startsWith("animation")?le(Be):"";Be.style.removeProperty(ze+Le)},fe=[],Ke=(Be=[],Le)=>{if(void 0!==Le){const ze=Array.isArray(Le)?Le:[Le];return[...Be,...ze]}return Be},rt=Be=>{let Le,ze,dt,qe,je,Xe,Ve,he,ne,Re,Ee,on,en,Se=[],ge=[],X=[],ke=!1,ft={},lt=[],yt=[],Wt={},cn=0,Xt=!1,tt=!1,at=!0,pt=!1,Ft=!0,$t=!1;const Cn=Be,Vt=[],St=[],At=[],kt=[],qt=[],An=[],Nn=[],Zn=[],dn=[],kn=[],En=[],Dr="function"==typeof AnimationEffect||void 0!==l.w&&"function"==typeof l.w.AnimationEffect,Yn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Dr,jn=()=>En,xn=(U,J)=>{const Pe=J.findIndex(et=>et.c===U);Pe>-1&&J.splice(Pe,1)},cr=(U,J)=>((null!=J&&J.oneTimeCallback?St:Vt).push({c:U,o:J}),en),bn=()=>{if(Yn)En.forEach(U=>{U.cancel()}),En.length=0;else{const U=kt.slice();(0,M.r)(()=>{U.forEach(J=>{ve(J,"animation-name"),ve(J,"animation-duration"),ve(J,"animation-timing-function"),ve(J,"animation-iteration-count"),ve(J,"animation-delay"),ve(J,"animation-play-state"),ve(J,"animation-fill-mode"),ve(J,"animation-direction")})})}},er=()=>{An.forEach(U=>{null!=U&&U.parentNode&&U.parentNode.removeChild(U)}),An.length=0},te=()=>void 0!==je?je:Ve?Ve.getFill():"both",B=()=>void 0!==ne?ne:void 0!==Xe?Xe:Ve?Ve.getDirection():"normal",R=()=>Xt?"linear":void 0!==dt?dt:Ve?Ve.getEasing():"linear",b=()=>tt?0:void 0!==Re?Re:void 0!==ze?ze:Ve?Ve.getDuration():0,W=()=>void 0!==qe?qe:Ve?Ve.getIterations():1,ie=()=>void 0!==Ee?Ee:void 0!==Le?Le:Ve?Ve.getDelay():0,Bn=()=>{0!==cn&&(cn--,0===cn&&((()=>{Ae(),dn.forEach(Rt=>Rt()),kn.forEach(Rt=>Rt());const U=at?1:0,J=lt,Pe=yt,et=Wt;kt.forEach(Rt=>{const vt=Rt.classList;J.forEach(Zt=>vt.add(Zt)),Pe.forEach(Zt=>vt.remove(Zt));for(const Zt in et)et.hasOwnProperty(Zt)&&pe(Rt,Zt,et[Zt])}),Vt.forEach(Rt=>Rt.c(U,en)),St.forEach(Rt=>Rt.c(U,en)),St.length=0,Ft=!0,at&&(pt=!0),at=!0})(),Ve&&Ve.animationFinish()))},Ln=(U=!0)=>{er();const J=(Be=>(Be.forEach(Le=>{for(const ze in Le)if(Le.hasOwnProperty(ze)){const dt=Le[ze];if("easing"===ze)Le["animation-timing-function"]=dt,delete Le[ze];else{const qe=_e(ze);qe!==ze&&(Le[qe]=dt,delete Le[ze])}}}),Be))(Se);kt.forEach(Pe=>{if(J.length>0){const et=((Be=[])=>Be.map(Le=>{const ze=Le.offset,dt=[];for(const qe in Le)Le.hasOwnProperty(qe)&&"offset"!==qe&&dt.push(`${qe}: ${Le[qe]};`);return`${100*ze}% { ${dt.join(" ")} }`}).join(" "))(J);on=void 0!==Be?Be:(Be=>{let Le=fe.indexOf(Be);return Le<0&&(Le=fe.push(Be)-1),`ion-animation-${Le}`})(et);const Rt=((Be,Le,ze)=>{var dt;const qe=(Be=>{const Le=void 0!==Be.getRootNode?Be.getRootNode():Be;return Le.head||Le})(ze),je=le(ze),Xe=qe.querySelector("#"+Be);if(Xe)return Xe;const Se=(null!==(dt=ze.ownerDocument)&&void 0!==dt?dt:document).createElement("style");return Se.id=Be,Se.textContent=`@${je}keyframes ${Be} { ${Le} } @${je}keyframes ${Be}-alt { ${Le} }`,qe.appendChild(Se),Se})(on,et,Pe);An.push(Rt),pe(Pe,"animation-duration",`${b()}ms`),pe(Pe,"animation-timing-function",R()),pe(Pe,"animation-delay",`${ie()}ms`),pe(Pe,"animation-fill-mode",te()),pe(Pe,"animation-direction",B());const vt=W()===1/0?"infinite":W().toString();pe(Pe,"animation-iteration-count",vt),pe(Pe,"animation-play-state","paused"),U&&pe(Pe,"animation-name",`${Rt.id}-alt`),(0,M.r)(()=>{pe(Pe,"animation-name",Rt.id||null)})}})},st=(U=!0)=>{(()=>{Nn.forEach(et=>et()),Zn.forEach(et=>et());const U=ge,J=X,Pe=ft;kt.forEach(et=>{const Rt=et.classList;U.forEach(vt=>Rt.add(vt)),J.forEach(vt=>Rt.remove(vt));for(const vt in Pe)Pe.hasOwnProperty(vt)&&pe(et,vt,Pe[vt])})})(),Se.length>0&&(Yn?(kt.forEach(U=>{const J=U.animate(Se,{id:Cn,delay:ie(),duration:b(),easing:R(),iterations:W(),fill:te(),direction:B()});J.pause(),En.push(J)}),En.length>0&&(En[0].onfinish=()=>{Bn()})):Ln(U)),ke=!0},Ue=U=>{if(U=Math.min(Math.max(U,0),.9999),Yn)En.forEach(J=>{J.currentTime=J.effect.getComputedTiming().delay+b()*U,J.pause()});else{const J=`-${b()*U}ms`;kt.forEach(Pe=>{Se.length>0&&(pe(Pe,"animation-delay",J),pe(Pe,"animation-play-state","paused"))})}},wt=U=>{En.forEach(J=>{J.effect.updateTiming({delay:ie(),duration:b(),easing:R(),iterations:W(),fill:te(),direction:B()})}),void 0!==U&&Ue(U)},Et=(U=!0,J)=>{(0,M.r)(()=>{kt.forEach(Pe=>{pe(Pe,"animation-name",on||null),pe(Pe,"animation-duration",`${b()}ms`),pe(Pe,"animation-timing-function",R()),pe(Pe,"animation-delay",void 0!==J?`-${J*b()}ms`:`${ie()}ms`),pe(Pe,"animation-fill-mode",te()||null),pe(Pe,"animation-direction",B()||null);const et=W()===1/0?"infinite":W().toString();pe(Pe,"animation-iteration-count",et),U&&pe(Pe,"animation-name",`${on}-alt`),(0,M.r)(()=>{pe(Pe,"animation-name",on||null)})})})},xt=(U=!1,J=!0,Pe)=>(U&&qt.forEach(et=>{et.update(U,J,Pe)}),Yn?wt(Pe):Et(J,Pe),en),mn=()=>{ke&&(Yn?En.forEach(U=>{U.pause()}):kt.forEach(U=>{pe(U,"animation-play-state","paused")}),$t=!0)},ce=()=>{he=void 0,Bn()},Ae=()=>{he&&clearTimeout(he)},Je=U=>new Promise(J=>{null!=U&&U.sync&&(tt=!0,cr(()=>tt=!1,{oneTimeCallback:!0})),ke||st(),pt&&(Yn?(Ue(0),wt()):Et(),pt=!1),Ft&&(cn=qt.length+1,Ft=!1);const Pe=()=>{xn(et,St),J()},et=()=>{xn(Pe,At),J()};cr(et,{oneTimeCallback:!0}),((U,J)=>{At.push({c:U,o:{oneTimeCallback:!0}})})(Pe),qt.forEach(Rt=>{Rt.play()}),Yn?(En.forEach(U=>{U.play()}),(0===Se.length||0===kt.length)&&Bn()):(()=>{if(Ae(),(0,M.r)(()=>{kt.forEach(U=>{Se.length>0&&pe(U,"animation-play-state","running")})}),0===Se.length||0===kt.length)Bn();else{const U=ie()||0,J=b()||0,Pe=W()||1;isFinite(Pe)&&(he=setTimeout(ce,U+J*Pe+100)),((Be,Le)=>{let ze;const dt={passive:!0},je=Xe=>{Be===Xe.target&&(ze&&ze(),Ae(),(0,M.r)(()=>{kt.forEach(U=>{ve(U,"animation-duration"),ve(U,"animation-delay"),ve(U,"animation-play-state")}),(0,M.r)(Bn)}))};Be&&(Be.addEventListener("webkitAnimationEnd",je,dt),Be.addEventListener("animationend",je,dt),ze=()=>{Be.removeEventListener("webkitAnimationEnd",je,dt),Be.removeEventListener("animationend",je,dt)})})(kt[0])}})(),$t=!1}),tn=(U,J)=>{const Pe=Se[0];return void 0===Pe||void 0!==Pe.offset&&0!==Pe.offset?Se=[{offset:0,[U]:J},...Se]:Pe[U]=J,en};return en={parentAnimation:Ve,elements:kt,childAnimations:qt,id:Cn,animationFinish:Bn,from:tn,to:(U,J)=>{const Pe=Se[Se.length-1];return void 0===Pe||void 0!==Pe.offset&&1!==Pe.offset?Se=[...Se,{offset:1,[U]:J}]:Pe[U]=J,en},fromTo:(U,J,Pe)=>tn(U,J).to(U,Pe),parent:U=>(Ve=U,en),play:Je,pause:()=>(qt.forEach(U=>{U.pause()}),mn(),en),stop:()=>{qt.forEach(U=>{U.stop()}),ke&&(bn(),ke=!1),Xt=!1,tt=!1,Ft=!0,ne=void 0,Re=void 0,Ee=void 0,cn=0,pt=!1,at=!0,$t=!1,At.forEach(U=>U.c(0,en)),At.length=0},destroy:U=>(qt.forEach(J=>{J.destroy(U)}),(U=>{bn(),U&&er()})(U),kt.length=0,qt.length=0,Se.length=0,Vt.length=0,St.length=0,ke=!1,Ft=!0,en),keyframes:U=>{const J=Se!==U;return Se=U,J&&(U=>{Yn?jn().forEach(J=>{const Pe=J.effect;if(Pe.setKeyframes)Pe.setKeyframes(U);else{const et=new KeyframeEffect(Pe.target,U,Pe.getTiming());J.effect=et}}):Ln()})(Se),en},addAnimation:U=>{if(null!=U)if(Array.isArray(U))for(const J of U)J.parent(en),qt.push(J);else U.parent(en),qt.push(U);return en},addElement:U=>{if(null!=U)if(1===U.nodeType)kt.push(U);else if(U.length>=0)for(let J=0;J<U.length;J++)kt.push(U[J]);else console.error("Invalid addElement value");return en},update:xt,fill:U=>(je=U,xt(!0),en),direction:U=>(Xe=U,xt(!0),en),iterations:U=>(qe=U,xt(!0),en),duration:U=>(!Yn&&0===U&&(U=1),ze=U,xt(!0),en),easing:U=>(dt=U,xt(!0),en),delay:U=>(Le=U,xt(!0),en),getWebAnimations:jn,getKeyframes:()=>Se,getFill:te,getDirection:B,getDelay:ie,getIterations:W,getEasing:R,getDuration:b,afterAddRead:U=>(dn.push(U),en),afterAddWrite:U=>(kn.push(U),en),afterClearStyles:(U=[])=>{for(const J of U)Wt[J]="";return en},afterStyles:(U={})=>(Wt=U,en),afterRemoveClass:U=>(yt=Ke(yt,U),en),afterAddClass:U=>(lt=Ke(lt,U),en),beforeAddRead:U=>(Nn.push(U),en),beforeAddWrite:U=>(Zn.push(U),en),beforeClearStyles:(U=[])=>{for(const J of U)ft[J]="";return en},beforeStyles:(U={})=>(ft=U,en),beforeRemoveClass:U=>(X=Ke(X,U),en),beforeAddClass:U=>(ge=Ke(ge,U),en),onFinish:cr,isRunning:()=>0!==cn&&!$t,progressStart:(U=!1,J)=>(qt.forEach(Pe=>{Pe.progressStart(U,J)}),mn(),Xt=U,ke||st(),xt(!1,!0,J),en),progressStep:U=>(qt.forEach(J=>{J.progressStep(U)}),Ue(U),en),progressEnd:(U,J,Pe)=>(Xt=!1,qt.forEach(et=>{et.progressEnd(U,J,Pe)}),void 0!==Pe&&(Re=Pe),pt=!1,at=!0,0===U?(ne="reverse"===B()?"normal":"reverse","reverse"===ne&&(at=!1),Yn?(xt(),Ue(1-J)):(Ee=(1-J)*b()*-1,xt(!1,!1))):1===U&&(Yn?(xt(),Ue(J)):(Ee=J*b()*-1,xt(!1,!1))),void 0!==U&&(cr(()=>{Re=void 0,ne=void 0,Ee=void 0},{oneTimeCallback:!0}),Ve||Je()),en)}}},3365:(ln,nt,w)=>{"use strict";w.d(nt,{E:()=>ue,a:()=>l,s:()=>ve});const l=fe=>{try{if(fe instanceof pe)return fe.value;if(!Q()||"string"!=typeof fe||""===fe)return fe;if(fe.includes("onload="))return"";const $e=document.createDocumentFragment(),we=document.createElement("div");$e.appendChild(we),we.innerHTML=fe,le.forEach(Be=>{const Le=$e.querySelectorAll(Be);for(let ze=Le.length-1;ze>=0;ze--){const dt=Le[ze];dt.parentNode?dt.parentNode.removeChild(dt):$e.removeChild(dt);const qe=H(dt);for(let je=0;je<qe.length;je++)M(qe[je])}});const xe=H($e);for(let Be=0;Be<xe.length;Be++)M(xe[Be]);const Ke=document.createElement("div");Ke.appendChild($e);const rt=Ke.querySelector("div");return null!==rt?rt.innerHTML:Ke.innerHTML}catch($e){return console.error($e),""}},M=fe=>{if(fe.nodeType&&1!==fe.nodeType)return;if(typeof NamedNodeMap<"u"&&!(fe.attributes instanceof NamedNodeMap))return void fe.remove();for(let we=fe.attributes.length-1;we>=0;we--){const xe=fe.attributes.item(we),Ke=xe.name;if(!_e.includes(Ke.toLowerCase())){fe.removeAttribute(Ke);continue}const rt=xe.value,Be=fe[Ke];(null!=rt&&rt.toLowerCase().includes("javascript:")||null!=Be&&Be.toLowerCase().includes("javascript:"))&&fe.removeAttribute(Ke)}const $e=H(fe);for(let we=0;we<$e.length;we++)M($e[we])},H=fe=>null!=fe.children?fe.children:fe.childNodes,Q=()=>{var fe;const $e=window,we=null===(fe=null==$e?void 0:$e.Ionic)||void 0===fe?void 0:fe.config;return!we||(we.get?we.get("sanitizerEnabled",!0):!0===we.sanitizerEnabled||void 0===we.sanitizerEnabled)},_e=["class","id","href","src","name","slot"],le=["script","style","iframe","meta","link","object","embed"];class pe{constructor($e){this.value=$e}}const ve=fe=>{const $e=window,we=$e.Ionic;if(!we||!we.config||"Object"===we.config.constructor.name)return $e.Ionic=$e.Ionic||{},$e.Ionic.config=Object.assign(Object.assign({},$e.Ionic.config),fe),$e.Ionic.config},ue=!1},6559:(ln,nt,w)=>{"use strict";w.d(nt,{C:()=>_e,a:()=>H,d:()=>Q});var l=w(5861),M=w(839);const H=function(){var le=(0,l.Z)(function*(pe,ve,Ye,ue,fe,$e){var we;if(pe)return pe.attachViewToDom(ve,Ye,fe,ue);if(!($e||"string"==typeof Ye||Ye instanceof HTMLElement))throw new Error("framework delegate is missing");const xe="string"==typeof Ye?null===(we=ve.ownerDocument)||void 0===we?void 0:we.createElement(Ye):Ye;return ue&&ue.forEach(Ke=>xe.classList.add(Ke)),fe&&Object.assign(xe,fe),ve.appendChild(xe),yield new Promise(Ke=>(0,M.c)(xe,Ke)),xe});return function(ve,Ye,ue,fe,$e,we){return le.apply(this,arguments)}}(),Q=(le,pe)=>{if(pe){if(le)return le.removeViewFromDom(pe.parentElement,pe);pe.remove()}return Promise.resolve()},_e=()=>{let le,pe;return{attachViewToDom:function(){var ue=(0,l.Z)(function*(fe,$e,we={},xe=[]){var Ke,rt;let Be;if(le=fe,$e){const ze="string"==typeof $e?null===(Ke=le.ownerDocument)||void 0===Ke?void 0:Ke.createElement($e):$e;xe.forEach(dt=>ze.classList.add(dt)),Object.assign(ze,we),le.appendChild(ze),Be=ze,yield new Promise(dt=>(0,M.c)(ze,dt))}else if(le.children.length>0&&("ION-MODAL"===le.tagName||"ION-POPOVER"===le.tagName)&&!(Be=le.children[0]).classList.contains("ion-delegate-host")){const dt=null===(rt=le.ownerDocument)||void 0===rt?void 0:rt.createElement("div");dt.classList.add("ion-delegate-host"),xe.forEach(qe=>dt.classList.add(qe)),dt.append(...le.children),le.appendChild(dt),Be=dt}const Le=document.querySelector("ion-app")||document.body;return pe=document.createComment("ionic teleport"),le.parentNode.insertBefore(pe,le),Le.appendChild(le),null!=Be?Be:le});return function($e,we){return ue.apply(this,arguments)}}(),removeViewFromDom:()=>(le&&pe&&(pe.parentNode.insertBefore(le,pe),pe.remove()),Promise.resolve())}}},619:(ln,nt,w)=>{"use strict";w.d(nt,{G:()=>_e});class M{constructor(pe,ve,Ye,ue,fe){this.id=ve,this.name=Ye,this.disableScroll=fe,this.priority=1e6*ue+ve,this.ctrl=pe}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const pe=this.ctrl.capture(this.name,this.id,this.priority);return pe&&this.disableScroll&&this.ctrl.disableScroll(this.id),pe}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class H{constructor(pe,ve,Ye,ue){this.id=ve,this.disable=Ye,this.disableScroll=ue,this.ctrl=pe}block(){if(this.ctrl){if(this.disable)for(const pe of this.disable)this.ctrl.disableGesture(pe,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const pe of this.disable)this.ctrl.enableGesture(pe,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Q="backdrop-no-scroll",_e=new class l{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(pe){var ve;return new M(this,this.newID(),pe.name,null!==(ve=pe.priority)&&void 0!==ve?ve:0,!!pe.disableScroll)}createBlocker(pe={}){return new H(this,this.newID(),pe.disable,!!pe.disableScroll)}start(pe,ve,Ye){return this.canStart(pe)?(this.requestedStart.set(ve,Ye),!0):(this.requestedStart.delete(ve),!1)}capture(pe,ve,Ye){if(!this.start(pe,ve,Ye))return!1;const ue=this.requestedStart;let fe=-1e4;if(ue.forEach($e=>{fe=Math.max(fe,$e)}),fe===Ye){this.capturedId=ve,ue.clear();const $e=new CustomEvent("ionGestureCaptured",{detail:{gestureName:pe}});return document.dispatchEvent($e),!0}return ue.delete(ve),!1}release(pe){this.requestedStart.delete(pe),this.capturedId===pe&&(this.capturedId=void 0)}disableGesture(pe,ve){let Ye=this.disabledGestures.get(pe);void 0===Ye&&(Ye=new Set,this.disabledGestures.set(pe,Ye)),Ye.add(ve)}enableGesture(pe,ve){const Ye=this.disabledGestures.get(pe);void 0!==Ye&&Ye.delete(ve)}disableScroll(pe){this.disabledScroll.add(pe),1===this.disabledScroll.size&&document.body.classList.add(Q)}enableScroll(pe){this.disabledScroll.delete(pe),0===this.disabledScroll.size&&document.body.classList.remove(Q)}canStart(pe){return!(void 0!==this.capturedId||this.isDisabled(pe))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(pe){const ve=this.disabledGestures.get(pe);return!!(ve&&ve.size>0)}newID(){return this.gestureId++,this.gestureId}}},2124:(ln,nt,w)=>{"use strict";w.r(nt),w.d(nt,{MENU_BACK_BUTTON_PRIORITY:()=>_e,OVERLAY_BACK_BUTTON_PRIORITY:()=>Q,blockHardwareBackButton:()=>M,startHardwareBackButton:()=>H});var l=w(5861);const M=()=>{document.addEventListener("backbutton",()=>{})},H=()=>{const le=document;let pe=!1;le.addEventListener("backbutton",()=>{if(pe)return;let ve=0,Ye=[];const ue=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(we,xe){Ye.push({priority:we,handler:xe,id:ve++})}}});le.dispatchEvent(ue);const fe=function(){var we=(0,l.Z)(function*(xe){try{if(null!=xe&&xe.handler){const Ke=xe.handler($e);null!=Ke&&(yield Ke)}}catch(Ke){console.error(Ke)}});return function(Ke){return we.apply(this,arguments)}}(),$e=()=>{if(Ye.length>0){let we={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ye.forEach(xe=>{xe.priority>=we.priority&&(we=xe)}),pe=!0,Ye=Ye.filter(xe=>xe.id!==we.id),fe(we).then(()=>pe=!1)}};$e()})},Q=100,_e=99},839:(ln,nt,w)=>{"use strict";w.d(nt,{a:()=>ve,b:()=>Ye,c:()=>H,d:()=>rt,e:()=>Ke,f:()=>xe,g:()=>ue,h:()=>we,i:()=>pe,j:()=>je,k:()=>_e,l:()=>Be,m:()=>Q,n:()=>$e,o:()=>Le,p:()=>qe,q:()=>Xe,r:()=>fe,s:()=>Se,t:()=>l,u:()=>ze,v:()=>dt});const l=(ge,X=0)=>new Promise(ke=>{M(ge,X,ke)}),M=(ge,X=0,ke)=>{let Ve,ft;const lt={passive:!0},Wt=()=>{Ve&&Ve()},cn=Xt=>{(void 0===Xt||ge===Xt.target)&&(Wt(),ke(Xt))};return ge&&(ge.addEventListener("webkitTransitionEnd",cn,lt),ge.addEventListener("transitionend",cn,lt),ft=setTimeout(cn,X+500),Ve=()=>{ft&&(clearTimeout(ft),ft=void 0),ge.removeEventListener("webkitTransitionEnd",cn,lt),ge.removeEventListener("transitionend",cn,lt)}),Wt},H=(ge,X)=>{ge.componentOnReady?ge.componentOnReady().then(ke=>X(ke)):fe(()=>X(ge))},Q=ge=>void 0!==ge.componentOnReady,_e=(ge,X=[])=>{const ke={};return X.forEach(Ve=>{ge.hasAttribute(Ve)&&(null!==ge.getAttribute(Ve)&&(ke[Ve]=ge.getAttribute(Ve)),ge.removeAttribute(Ve))}),ke},le=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],pe=(ge,X)=>{let ke=le;return X&&X.length>0&&(ke=ke.filter(Ve=>!X.includes(Ve))),_e(ge,ke)},ve=(ge,X,ke,Ve)=>{var ft;if(typeof window<"u"){const lt=window,yt=null===(ft=null==lt?void 0:lt.Ionic)||void 0===ft?void 0:ft.config;if(yt){const Wt=yt.get("_ael");if(Wt)return Wt(ge,X,ke,Ve);if(yt._ael)return yt._ael(ge,X,ke,Ve)}}return ge.addEventListener(X,ke,Ve)},Ye=(ge,X,ke,Ve)=>{var ft;if(typeof window<"u"){const lt=window,yt=null===(ft=null==lt?void 0:lt.Ionic)||void 0===ft?void 0:ft.config;if(yt){const Wt=yt.get("_rel");if(Wt)return Wt(ge,X,ke,Ve);if(yt._rel)return yt._rel(ge,X,ke,Ve)}}return ge.removeEventListener(X,ke,Ve)},ue=(ge,X=ge)=>ge.shadowRoot||X,fe=ge=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ge):"function"==typeof requestAnimationFrame?requestAnimationFrame(ge):setTimeout(ge),$e=ge=>!!ge.shadowRoot&&!!ge.attachShadow,we=ge=>{const X=ge.closest("ion-item");return X?X.querySelector("ion-label"):null},xe=ge=>{if(ge.focus(),ge.classList.contains("ion-focusable")){const X=ge.closest("ion-app");X&&X.setFocus([ge])}},Ke=(ge,X)=>{let ke;const Ve=ge.getAttribute("aria-labelledby"),ft=ge.id;let lt=null!==Ve&&""!==Ve.trim()?Ve:X+"-lbl",yt=null!==Ve&&""!==Ve.trim()?document.getElementById(Ve):we(ge);return yt?(null===Ve&&(yt.id=lt),ke=yt.textContent,yt.setAttribute("aria-hidden","true")):""!==ft.trim()&&(yt=document.querySelector(`label[for="${ft}"]`),yt&&(""!==yt.id?lt=yt.id:yt.id=lt=`${ft}-lbl`,ke=yt.textContent)),{label:yt,labelId:lt,labelText:ke}},rt=(ge,X,ke,Ve,ft)=>{if(ge||$e(X)){let lt=X.querySelector("input.aux-input");lt||(lt=X.ownerDocument.createElement("input"),lt.type="hidden",lt.classList.add("aux-input"),X.appendChild(lt)),lt.disabled=ft,lt.name=ke,lt.value=Ve||""}},Be=(ge,X,ke)=>Math.max(ge,Math.min(X,ke)),Le=(ge,X)=>{if(!ge){const ke="ASSERT: "+X;throw console.error(ke),new Error(ke)}},ze=ge=>ge.timeStamp||Date.now(),dt=ge=>{if(ge){const X=ge.changedTouches;if(X&&X.length>0){const ke=X[0];return{x:ke.clientX,y:ke.clientY}}if(void 0!==ge.pageX)return{x:ge.pageX,y:ge.pageY}}return{x:0,y:0}},qe=ge=>{const X="rtl"===document.dir;switch(ge){case"start":return X;case"end":return!X;default:throw new Error(`"${ge}" is not a valid value for [side]. Use "start" or "end" instead.`)}},je=(ge,X)=>{const ke=ge._original||ge;return{_original:ge,emit:Xe(ke.emit.bind(ke),X)}},Xe=(ge,X=0)=>{let ke;return(...Ve)=>{clearTimeout(ke),ke=setTimeout(ge,X,...Ve)}},Se=(ge,X)=>{if(null!=ge||(ge={}),null!=X||(X={}),ge===X)return!0;const ke=Object.keys(ge);if(ke.length!==Object.keys(X).length)return!1;for(const Ve of ke)if(!(Ve in X)||ge[Ve]!==X[Ve])return!1;return!0}},1783:(ln,nt,w)=>{"use strict";w.d(nt,{m:()=>$e});var l=w(5861),M=w(6710),H=w(2124),Q=w(839),_e=w(3882),le=w(6410);const pe=we=>(0,le.c)().duration(we?400:300),ve=we=>{let xe,Ke;const rt=we.width+8,Be=(0,le.c)(),Le=(0,le.c)();we.isEndSide?(xe=rt+"px",Ke="0px"):(xe=-rt+"px",Ke="0px"),Be.addElement(we.menuInnerEl).fromTo("transform",`translateX(${xe})`,`translateX(${Ke})`);const dt="ios"===(0,_e.b)(we),qe=dt?.2:.25;return Le.addElement(we.backdropEl).fromTo("opacity",.01,qe),pe(dt).addAnimation([Be,Le])},Ye=we=>{let xe,Ke;const rt=(0,_e.b)(we),Be=we.width;we.isEndSide?(xe=-Be+"px",Ke=Be+"px"):(xe=Be+"px",Ke=-Be+"px");const Le=(0,le.c)().addElement(we.menuInnerEl).fromTo("transform",`translateX(${Ke})`,"translateX(0px)"),ze=(0,le.c)().addElement(we.contentEl).fromTo("transform","translateX(0px)",`translateX(${xe})`),dt=(0,le.c)().addElement(we.backdropEl).fromTo("opacity",.01,.32);return pe("ios"===rt).addAnimation([Le,ze,dt])},ue=we=>{const xe=(0,_e.b)(we),Ke=we.width*(we.isEndSide?-1:1)+"px",rt=(0,le.c)().addElement(we.contentEl).fromTo("transform","translateX(0px)",`translateX(${Ke})`);return pe("ios"===xe).addAnimation(rt)},$e=(()=>{const we=new Map,xe=[],Ke=function(){var he=(0,l.Z)(function*(ne){const Re=yield je(ne,!0);return!!Re&&Re.open()});return function(Re){return he.apply(this,arguments)}}(),rt=function(){var he=(0,l.Z)(function*(ne){const Re=yield void 0!==ne?je(ne,!0):Xe();return void 0!==Re&&Re.close()});return function(Re){return he.apply(this,arguments)}}(),Be=function(){var he=(0,l.Z)(function*(ne){const Re=yield je(ne,!0);return!!Re&&Re.toggle()});return function(Re){return he.apply(this,arguments)}}(),Le=function(){var he=(0,l.Z)(function*(ne,Re){const Ee=yield je(Re);return Ee&&(Ee.disabled=!ne),Ee});return function(Re,Ee){return he.apply(this,arguments)}}(),ze=function(){var he=(0,l.Z)(function*(ne,Re){const Ee=yield je(Re);return Ee&&(Ee.swipeGesture=ne),Ee});return function(Re,Ee){return he.apply(this,arguments)}}(),dt=function(){var he=(0,l.Z)(function*(ne){if(null!=ne){const Re=yield je(ne);return void 0!==Re&&Re.isOpen()}return void 0!==(yield Xe())});return function(Re){return he.apply(this,arguments)}}(),qe=function(){var he=(0,l.Z)(function*(ne){const Re=yield je(ne);return!!Re&&!Re.disabled});return function(Re){return he.apply(this,arguments)}}(),je=function(){var he=(0,l.Z)(function*(ne,Re=!1){if(yield tt(),"start"===ne||"end"===ne){const at=xe.filter(Ft=>Ft.side===ne&&!Ft.disabled);if(at.length>=1)return at.length>1&&Re&&(0,M.p)(`menuController queried for a menu on the "${ne}" side, but ${at.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,at.map(Ft=>Ft.el)),at[0].el;const pt=xe.filter(Ft=>Ft.side===ne);if(pt.length>=1)return pt.length>1&&Re&&(0,M.p)(`menuController queried for a menu on the "${ne}" side, but ${pt.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,pt.map(Ft=>Ft.el)),pt[0].el}else if(null!=ne)return Xt(at=>at.menuId===ne);return Xt(at=>!at.disabled)||(xe.length>0?xe[0].el:void 0)});return function(Re){return he.apply(this,arguments)}}(),Xe=function(){var he=(0,l.Z)(function*(){return yield tt(),yt()});return function(){return he.apply(this,arguments)}}(),Se=function(){var he=(0,l.Z)(function*(){return yield tt(),Wt()});return function(){return he.apply(this,arguments)}}(),ge=function(){var he=(0,l.Z)(function*(){return yield tt(),cn()});return function(){return he.apply(this,arguments)}}(),X=(he,ne)=>{we.set(he,ne)},ft=function(){var he=(0,l.Z)(function*(ne,Re,Ee){if(cn())return!1;if(Re){const at=yield Xe();at&&ne.el!==at&&(yield at.setOpen(!1,!1))}return ne._setOpen(Re,Ee)});return function(Re,Ee,at){return he.apply(this,arguments)}}(),yt=()=>Xt(he=>he._isOpen),Wt=()=>xe.map(he=>he.el),cn=()=>xe.some(he=>he.isAnimating),Xt=he=>{const ne=xe.find(he);if(void 0!==ne)return ne.el},tt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(he=>new Promise(ne=>(0,Q.c)(he,ne))));return X("reveal",ue),X("push",Ye),X("overlay",ve),typeof document<"u"&&document.addEventListener("ionBackButton",he=>{const ne=yt();ne&&he.detail.register(H.MENU_BACK_BUTTON_PRIORITY,()=>ne.close())}),{registerAnimation:X,get:je,getMenus:Se,getOpen:Xe,isEnabled:qe,swipeGesture:ze,isAnimating:ge,isOpen:dt,enable:Le,toggle:Be,close:rt,open:Ke,_getOpenSync:yt,_createAnimation:(he,ne)=>{const Re=we.get(he);if(!Re)throw new Error("animation not registered");return Re(ne)},_register:he=>{xe.indexOf(he)<0&&xe.push(he)},_unregister:he=>{const ne=xe.indexOf(he);ne>-1&&xe.splice(ne,1)},_setOpen:ft}})()},6710:(ln,nt,w)=>{"use strict";w.d(nt,{a:()=>M,b:()=>H,p:()=>l});const l=(Q,..._e)=>console.warn(`[Ionic Warning]: ${Q}`,..._e),M=(Q,..._e)=>console.error(`[Ionic Error]: ${Q}`,..._e),H=(Q,..._e)=>console.error(`<${Q.tagName.toLowerCase()}> must be used inside ${_e.join(" or ")}.`)},448:(ln,nt,w)=>{"use strict";w.d(nt,{b:()=>le,c:()=>pe,d:()=>ve,e:()=>ge,g:()=>Ve,l:()=>Xe,s:()=>X,t:()=>fe,w:()=>Se});var l=w(5861),M=w(5349),H=w(839);const le="ionViewWillLeave",pe="ionViewDidLeave",ve="ionViewWillUnload",fe=ft=>new Promise((lt,yt)=>{(0,M.w)(()=>{$e(ft),we(ft).then(Wt=>{Wt.animation&&Wt.animation.destroy(),xe(ft),lt(Wt)},Wt=>{xe(ft),yt(Wt)})})}),$e=ft=>{const lt=ft.enteringEl,yt=ft.leavingEl;ke(lt,yt,ft.direction),ft.showGoBack?lt.classList.add("can-go-back"):lt.classList.remove("can-go-back"),X(lt,!1),lt.style.setProperty("pointer-events","none"),yt&&(X(yt,!1),yt.style.setProperty("pointer-events","none"))},we=function(){var ft=(0,l.Z)(function*(lt){const yt=yield Ke(lt);return yt&&M.B.isBrowser?rt(yt,lt):Be(lt)});return function(yt){return ft.apply(this,arguments)}}(),xe=ft=>{const lt=ft.enteringEl,yt=ft.leavingEl;lt.classList.remove("ion-page-invisible"),lt.style.removeProperty("pointer-events"),void 0!==yt&&(yt.classList.remove("ion-page-invisible"),yt.style.removeProperty("pointer-events"))},Ke=function(){var ft=(0,l.Z)(function*(lt){return lt.leavingEl&&lt.animated&&0!==lt.duration?lt.animationBuilder?lt.animationBuilder:"ios"===lt.mode?(yield Promise.resolve().then(w.bind(w,2619))).iosTransitionAnimation:(yield Promise.resolve().then(w.bind(w,9023))).mdTransitionAnimation:void 0});return function(yt){return ft.apply(this,arguments)}}(),rt=function(){var ft=(0,l.Z)(function*(lt,yt){yield Le(yt,!0);const Wt=lt(yt.baseEl,yt);qe(yt.enteringEl,yt.leavingEl);const cn=yield dt(Wt,yt);return yt.progressCallback&&yt.progressCallback(void 0),cn&&je(yt.enteringEl,yt.leavingEl),{hasCompleted:cn,animation:Wt}});return function(yt,Wt){return ft.apply(this,arguments)}}(),Be=function(){var ft=(0,l.Z)(function*(lt){const yt=lt.enteringEl,Wt=lt.leavingEl;return yield Le(lt,!1),qe(yt,Wt),je(yt,Wt),{hasCompleted:!0}});return function(yt){return ft.apply(this,arguments)}}(),Le=function(){var ft=(0,l.Z)(function*(lt,yt){(void 0!==lt.deepWait?lt.deepWait:yt)&&(yield Promise.all([ge(lt.enteringEl),ge(lt.leavingEl)])),yield ze(lt.viewIsReady,lt.enteringEl)});return function(yt,Wt){return ft.apply(this,arguments)}}(),ze=function(){var ft=(0,l.Z)(function*(lt,yt){lt&&(yield lt(yt))});return function(yt,Wt){return ft.apply(this,arguments)}}(),dt=(ft,lt)=>{const yt=lt.progressCallback,Wt=new Promise(cn=>{ft.onFinish(Xt=>cn(1===Xt))});return yt?(ft.progressStart(!0),yt(ft)):ft.play(),Wt},qe=(ft,lt)=>{Xe(lt,le),Xe(ft,"ionViewWillEnter")},je=(ft,lt)=>{Xe(ft,"ionViewDidEnter"),Xe(lt,pe)},Xe=(ft,lt)=>{if(ft){const yt=new CustomEvent(lt,{bubbles:!1,cancelable:!1});ft.dispatchEvent(yt)}},Se=()=>new Promise(ft=>(0,H.r)(()=>(0,H.r)(()=>ft()))),ge=function(){var ft=(0,l.Z)(function*(lt){const yt=lt;if(yt){if(null!=yt.componentOnReady){if(null!=(yield yt.componentOnReady()))return}else if(null!=yt.__registerHost)return void(yield new Promise(cn=>(0,H.r)(cn)));yield Promise.all(Array.from(yt.children).map(ge))}});return function(yt){return ft.apply(this,arguments)}}(),X=(ft,lt)=>{lt?(ft.setAttribute("aria-hidden","true"),ft.classList.add("ion-page-hidden")):(ft.hidden=!1,ft.removeAttribute("aria-hidden"),ft.classList.remove("ion-page-hidden"))},ke=(ft,lt,yt)=>{void 0!==ft&&(ft.style.zIndex="back"===yt?"99":"101"),void 0!==lt&&(lt.style.zIndex="100")},Ve=ft=>ft.classList.contains("ion-page")?ft:ft.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ft},6225:(ln,nt,w)=>{"use strict";w.d(nt,{d:()=>M,w:()=>l});const l=typeof window<"u"?window:void 0,M=typeof document<"u"?document:void 0},5349:(ln,nt,w)=>{"use strict";w.d(nt,{B:()=>$e,H:()=>Xt,a:()=>Kn,b:()=>Fn,c:()=>on,d:()=>Vt,e:()=>Qt,f:()=>Cn,g:()=>en,h:()=>Wt,i:()=>te,j:()=>we,r:()=>Ln,w:()=>tr});var l=w(5861);let Q,_e,le,pe=!1,ve=!1,Ye=!1,ue=!1,fe=!1;const $e={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},we=U=>{const J=new URL(U,mn.$resourcesUrl$);return J.origin!==Tn.location.origin?J.href:J.pathname},dt="s-id",qe="sty-id",Se="slot-fb{display:contents}slot-fb[hidden]{display:none}",ge="http://www.w3.org/1999/xlink",X={},lt=U=>"object"==(U=typeof U)||"function"===U;function yt(U){var J,Pe,et;return null!==(et=null===(Pe=null===(J=U.head)||void 0===J?void 0:J.querySelector('meta[name="csp-nonce"]'))||void 0===Pe?void 0:Pe.getAttribute("content"))&&void 0!==et?et:void 0}const Wt=(U,J,...Pe)=>{let et=null,Rt=null,vt=null,Zt=!1,un=!1;const nn=[],jt=nr=>{for(let vr=0;vr<nr.length;vr++)et=nr[vr],Array.isArray(et)?jt(et):null!=et&&"boolean"!=typeof et&&((Zt="function"!=typeof U&&!lt(et))&&(et=String(et)),Zt&&un?nn[nn.length-1].$text$+=et:nn.push(Zt?cn(null,et):et),un=Zt)};if(jt(Pe),J){J.key&&(Rt=J.key),J.name&&(vt=J.name);{const nr=J.className||J.class;nr&&(J.class="object"!=typeof nr?nr:Object.keys(nr).filter(vr=>nr[vr]).join(" "))}}if("function"==typeof U)return U(null===J?{}:J,nn,he);const gn=cn(U,null);return gn.$attrs$=J,nn.length>0&&(gn.$children$=nn),gn.$key$=Rt,gn.$name$=vt,gn},cn=(U,J)=>({$flags$:0,$tag$:U,$text$:J,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Xt={},he={forEach:(U,J)=>U.map(ne).forEach(J),map:(U,J)=>U.map(ne).map(J).map(Re)},ne=U=>({vattrs:U.$attrs$,vchildren:U.$children$,vkey:U.$key$,vname:U.$name$,vtag:U.$tag$,vtext:U.$text$}),Re=U=>{if("function"==typeof U.vtag){const Pe=Object.assign({},U.vattrs);return U.vkey&&(Pe.key=U.vkey),U.vname&&(Pe.name=U.vname),Wt(U.vtag,Pe,...U.vchildren||[])}const J=cn(U.vtag,U.vtext);return J.$attrs$=U.vattrs,J.$children$=U.vchildren,J.$key$=U.vkey,J.$name$=U.vname,J},at=(U,J,Pe,et,Rt,vt,Zt)=>{let un,nn,jt,gn;if(1===vt.nodeType){for(un=vt.getAttribute("c-id"),un&&(nn=un.split("."),(nn[0]===Zt||"0"===nn[0])&&(jt={$flags$:0,$hostId$:nn[0],$nodeId$:nn[1],$depth$:nn[2],$index$:nn[3],$tag$:vt.tagName.toLowerCase(),$elm$:vt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},J.push(jt),vt.removeAttribute("c-id"),U.$children$||(U.$children$=[]),U.$children$[jt.$index$]=jt,U=jt,et&&"0"===jt.$depth$&&(et[jt.$index$]=jt.$elm$))),gn=vt.childNodes.length-1;gn>=0;gn--)at(U,J,Pe,et,Rt,vt.childNodes[gn],Zt);if(vt.shadowRoot)for(gn=vt.shadowRoot.childNodes.length-1;gn>=0;gn--)at(U,J,Pe,et,Rt,vt.shadowRoot.childNodes[gn],Zt)}else if(8===vt.nodeType)nn=vt.nodeValue.split("."),(nn[1]===Zt||"0"===nn[1])&&(un=nn[0],jt={$flags$:0,$hostId$:nn[1],$nodeId$:nn[2],$depth$:nn[3],$index$:nn[4],$elm$:vt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===un?(jt.$elm$=vt.nextSibling,jt.$elm$&&3===jt.$elm$.nodeType&&(jt.$text$=jt.$elm$.textContent,J.push(jt),vt.remove(),U.$children$||(U.$children$=[]),U.$children$[jt.$index$]=jt,et&&"0"===jt.$depth$&&(et[jt.$index$]=jt.$elm$))):jt.$hostId$===Zt&&("s"===un?(jt.$tag$="slot",vt["s-sn"]=nn[5]?jt.$name$=nn[5]:"",vt["s-sr"]=!0,et&&(jt.$elm$=pn.createElement(jt.$tag$),jt.$name$&&jt.$elm$.setAttribute("name",jt.$name$),vt.parentNode.insertBefore(jt.$elm$,vt),vt.remove(),"0"===jt.$depth$&&(et[jt.$index$]=jt.$elm$)),Pe.push(jt),U.$children$||(U.$children$=[]),U.$children$[jt.$index$]=jt):"r"===un&&(et?vt.remove():(Rt["s-cr"]=vt,vt["s-cn"]=!0))));else if(U&&"style"===U.$tag$){const nr=cn(null,vt.textContent);nr.$elm$=vt,nr.$index$="0",U.$children$=[nr]}},pt=(U,J)=>{if(1===U.nodeType){let Pe=0;for(;Pe<U.childNodes.length;Pe++)pt(U.childNodes[Pe],J);if(U.shadowRoot)for(Pe=0;Pe<U.shadowRoot.childNodes.length;Pe++)pt(U.shadowRoot.childNodes[Pe],J)}else if(8===U.nodeType){const Pe=U.nodeValue.split(".");"o"===Pe[0]&&(J.set(Pe[1]+"."+Pe[2],U),U.nodeValue="",U["s-en"]=Pe[3])}},on=U=>Kt.push(U),en=U=>Bn(U).$modeName$,Cn=U=>Bn(U).$hostElement$,Vt=(U,J,Pe)=>{const et=Cn(U);return{emit:Rt=>St(et,J,{bubbles:!!(4&Pe),composed:!!(2&Pe),cancelable:!!(1&Pe),detail:Rt})}},St=(U,J,Pe)=>{const et=mn.ce(J,Pe);return U.dispatchEvent(et),et},At=new WeakMap,kt=(U,J,Pe)=>{let et=xt.get(U);K&&Pe?(et=et||new CSSStyleSheet,"string"==typeof et?et=J:et.replaceSync(J)):et=J,xt.set(U,et)},qt=(U,J,Pe)=>{var et;const Rt=Nn(J,Pe),vt=xt.get(Rt);if(U=11===U.nodeType?U:pn,vt)if("string"==typeof vt){let un,Zt=At.get(U=U.head||U);if(Zt||At.set(U,Zt=new Set),!Zt.has(Rt)){if(U.host&&(un=U.querySelector(`[${qe}="${Rt}"]`)))un.innerHTML=vt;else{un=pn.createElement("style"),un.innerHTML=vt;const nn=null!==(et=mn.$nonce$)&&void 0!==et?et:yt(pn);null!=nn&&un.setAttribute("nonce",nn),U.insertBefore(un,U.querySelector("link"))}4&J.$flags$&&(un.innerHTML+=Se),Zt&&Zt.add(Rt)}}else U.adoptedStyleSheets.includes(vt)||(U.adoptedStyleSheets=[...U.adoptedStyleSheets,vt]);return Rt},Nn=(U,J)=>"sc-"+(J&&32&U.$flags$?U.$tagName$+"-"+J:U.$tagName$),Zn=U=>U.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),dn=(U,J,Pe,et,Rt,vt)=>{if(Pe!==et){let Zt=st(U,J),un=J.toLowerCase();if("class"===J){const nn=U.classList,jt=En(Pe),gn=En(et);nn.remove(...jt.filter(nr=>nr&&!gn.includes(nr))),nn.add(...gn.filter(nr=>nr&&!jt.includes(nr)))}else if("style"===J){for(const nn in Pe)(!et||null==et[nn])&&(nn.includes("-")?U.style.removeProperty(nn):U.style[nn]="");for(const nn in et)(!Pe||et[nn]!==Pe[nn])&&(nn.includes("-")?U.style.setProperty(nn,et[nn]):U.style[nn]=et[nn])}else if("key"!==J)if("ref"===J)et&&et(U);else if(Zt||"o"!==J[0]||"n"!==J[1]){const nn=lt(et);if((Zt||nn&&null!==et)&&!Rt)try{if(U.tagName.includes("-"))U[J]=et;else{const gn=null==et?"":et;"list"===J?Zt=!1:(null==Pe||U[J]!=gn)&&(U[J]=gn)}}catch{}let jt=!1;un!==(un=un.replace(/^xlink\:?/,""))&&(J=un,jt=!0),null==et||!1===et?(!1!==et||""===U.getAttribute(J))&&(jt?U.removeAttributeNS(ge,J):U.removeAttribute(J)):(!Zt||4&vt||Rt)&&!nn&&(et=!0===et?"":et,jt?U.setAttributeNS(ge,J,et):U.setAttribute(J,et))}else if(J="-"===J[2]?J.slice(3):st(Tn,un)?un.slice(2):un[2]+J.slice(3),Pe||et){const nn=J.endsWith(Dr);J=J.replace(Yn,""),Pe&&mn.rel(U,J,Pe,nn),et&&mn.ael(U,J,et,nn)}}},kn=/\s/,En=U=>U?U.split(kn):[],Dr="Capture",Yn=new RegExp(Dr+"$"),qn=(U,J,Pe,et)=>{const Rt=11===J.$elm$.nodeType&&J.$elm$.host?J.$elm$.host:J.$elm$,vt=U&&U.$attrs$||X,Zt=J.$attrs$||X;for(et in vt)et in Zt||dn(Rt,et,vt[et],void 0,Pe,J.$flags$);for(et in Zt)dn(Rt,et,vt[et],Zt[et],Pe,J.$flags$)},jn=(U,J,Pe,et)=>{var Rt;const vt=J.$children$[Pe];let un,nn,jt,Zt=0;if(pe||(Ye=!0,"slot"===vt.$tag$&&(Q&&et.classList.add(Q+"-s"),vt.$flags$|=vt.$children$?2:1)),null!==vt.$text$)un=vt.$elm$=pn.createTextNode(vt.$text$);else if(1&vt.$flags$)un=vt.$elm$=pn.createTextNode("");else{if(ue||(ue="svg"===vt.$tag$),un=vt.$elm$=pn.createElementNS(ue?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&vt.$flags$?"slot-fb":vt.$tag$),ue&&"foreignObject"===vt.$tag$&&(ue=!1),qn(null,vt,ue),(U=>null!=U)(Q)&&un["s-si"]!==Q&&un.classList.add(un["s-si"]=Q),vt.$children$)for(Zt=0;Zt<vt.$children$.length;++Zt)nn=jn(U,vt,Zt,un),nn&&un.appendChild(nn);"svg"===vt.$tag$?ue=!1:"foreignObject"===un.tagName&&(ue=!0)}return un["s-hn"]=le,3&vt.$flags$&&(un["s-sr"]=!0,un["s-fs"]=null===(Rt=vt.$attrs$)||void 0===Rt?void 0:Rt.slot,un["s-cr"]=_e,un["s-sn"]=vt.$name$||"",jt=U&&U.$children$&&U.$children$[Pe],jt&&jt.$tag$===vt.$tag$&&U.$elm$&&br(U.$elm$,!1)),un},br=(U,J)=>{var Pe;mn.$flags$|=1;const et=U.childNodes;for(let Rt=et.length-1;Rt>=0;Rt--){const vt=et[Rt];vt["s-hn"]!==le&&vt["s-ol"]&&(cr(vt).insertBefore(vt,Hr(vt)),vt["s-ol"].remove(),vt["s-ol"]=void 0,vt["s-sh"]=void 0,1===vt.nodeType&&vt.setAttribute("slot",null!==(Pe=vt["s-sn"])&&void 0!==Pe?Pe:""),Ye=!0),J&&br(vt,J)}mn.$flags$&=-2},Cr=(U,J,Pe,et,Rt,vt)=>{let un,Zt=U["s-cr"]&&U["s-cr"].parentNode||U;for(Zt.shadowRoot&&Zt.tagName===le&&(Zt=Zt.shadowRoot);Rt<=vt;++Rt)et[Rt]&&(un=jn(null,Pe,Rt,U),un&&(et[Rt].$elm$=un,Zt.insertBefore(un,Hr(J))))},Mn=(U,J,Pe)=>{for(let et=J;et<=Pe;++et){const Rt=U[et];if(Rt){const vt=Rt.$elm$;ur(Rt),vt&&(ve=!0,vt["s-ol"]?vt["s-ol"].remove():br(vt,!0),vt.remove())}}},xn=(U,J)=>U.$tag$===J.$tag$&&("slot"===U.$tag$?U.$name$===J.$name$:U.$key$===J.$key$),Hr=U=>U&&U["s-ol"]||U,cr=U=>(U["s-ol"]?U["s-ol"]:U).parentNode,fn=(U,J)=>{const Pe=J.$elm$=U.$elm$,et=U.$children$,Rt=J.$children$,vt=J.$tag$,Zt=J.$text$;let un;null===Zt?(ue="svg"===vt||"foreignObject"!==vt&&ue,"slot"===vt||qn(U,J,ue),null!==et&&null!==Rt?((U,J,Pe,et)=>{let ai,I,Rt=0,vt=0,Zt=0,un=0,nn=J.length-1,jt=J[0],gn=J[nn],nr=et.length-1,vr=et[0],wr=et[nr];for(;Rt<=nn&&vt<=nr;)if(null==jt)jt=J[++Rt];else if(null==gn)gn=J[--nn];else if(null==vr)vr=et[++vt];else if(null==wr)wr=et[--nr];else if(xn(jt,vr))fn(jt,vr),jt=J[++Rt],vr=et[++vt];else if(xn(gn,wr))fn(gn,wr),gn=J[--nn],wr=et[--nr];else if(xn(jt,wr))("slot"===jt.$tag$||"slot"===wr.$tag$)&&br(jt.$elm$.parentNode,!1),fn(jt,wr),U.insertBefore(jt.$elm$,gn.$elm$.nextSibling),jt=J[++Rt],wr=et[--nr];else if(xn(gn,vr))("slot"===jt.$tag$||"slot"===wr.$tag$)&&br(gn.$elm$.parentNode,!1),fn(gn,vr),U.insertBefore(gn.$elm$,jt.$elm$),gn=J[--nn],vr=et[++vt];else{for(Zt=-1,un=Rt;un<=nn;++un)if(J[un]&&null!==J[un].$key$&&J[un].$key$===vr.$key$){Zt=un;break}Zt>=0?(I=J[Zt],I.$tag$!==vr.$tag$?ai=jn(J&&J[vt],Pe,Zt,U):(fn(I,vr),J[Zt]=void 0,ai=I.$elm$),vr=et[++vt]):(ai=jn(J&&J[vt],Pe,vt,U),vr=et[++vt]),ai&&cr(jt.$elm$).insertBefore(ai,Hr(jt.$elm$))}Rt>nn?Cr(U,null==et[nr+1]?null:et[nr+1].$elm$,Pe,et,vt,nr):vt>nr&&Mn(J,Rt,nn)})(Pe,et,J,Rt):null!==Rt?(null!==U.$text$&&(Pe.textContent=""),Cr(Pe,null,J,Rt,0,Rt.length-1)):null!==et&&Mn(et,0,et.length-1),ue&&"svg"===vt&&(ue=!1)):(un=Pe["s-cr"])?un.parentNode.textContent=Zt:U.$text$!==Zt&&(Pe.data=Zt)},bn=U=>{const J=U.childNodes;for(const Pe of J)if(1===Pe.nodeType){if(Pe["s-sr"]){const et=Pe["s-sn"];Pe.hidden=!1;for(const Rt of J)if(Rt!==Pe)if(Rt["s-hn"]!==Pe["s-hn"]||""!==et){if(1===Rt.nodeType&&(et===Rt.getAttribute("slot")||et===Rt["s-sn"])){Pe.hidden=!0;break}}else if(1===Rt.nodeType||3===Rt.nodeType&&""!==Rt.textContent.trim()){Pe.hidden=!0;break}}bn(Pe)}},er=[],Nr=U=>{let J,Pe,et;for(const Rt of U.childNodes){if(Rt["s-sr"]&&(J=Rt["s-cr"])&&J.parentNode){Pe=J.parentNode.childNodes;const vt=Rt["s-sn"];for(et=Pe.length-1;et>=0;et--)if(J=Pe[et],!J["s-cn"]&&!J["s-nr"]&&J["s-hn"]!==Rt["s-hn"])if(Ur(J,vt)){let Zt=er.find(un=>un.$nodeToRelocate$===J);ve=!0,J["s-sn"]=J["s-sn"]||vt,Zt?(Zt.$nodeToRelocate$["s-sh"]=Rt["s-hn"],Zt.$slotRefNode$=Rt):(J["s-sh"]=Rt["s-hn"],er.push({$slotRefNode$:Rt,$nodeToRelocate$:J})),J["s-sr"]&&er.map(un=>{Ur(un.$nodeToRelocate$,J["s-sn"])&&(Zt=er.find(nn=>nn.$nodeToRelocate$===J),Zt&&!un.$slotRefNode$&&(un.$slotRefNode$=Zt.$slotRefNode$))})}else er.some(Zt=>Zt.$nodeToRelocate$===J)||er.push({$nodeToRelocate$:J})}1===Rt.nodeType&&Nr(Rt)}},Ur=(U,J)=>1===U.nodeType?null===U.getAttribute("slot")&&""===J||U.getAttribute("slot")===J:U["s-sn"]===J||""===J,ur=U=>{U.$attrs$&&U.$attrs$.ref&&U.$attrs$.ref(null),U.$children$&&U.$children$.map(ur)},Qn=(U,J)=>{J&&!U.$onRenderResolve$&&J["s-p"]&&J["s-p"].push(new Promise(Pe=>U.$onRenderResolve$=Pe))},kr=(U,J)=>{if(U.$flags$|=16,!(4&U.$flags$))return Qn(U,U.$ancestorComponent$),tr(()=>Vn(U,J));U.$flags$|=512},Vn=(U,J)=>{const et=U.$lazyInstance$;let Rt;return J&&(U.$flags$|=256,U.$queuedListeners$&&(U.$queuedListeners$.map(([vt,Zt])=>R(et,vt,Zt)),U.$queuedListeners$=void 0),Rt=R(et,"componentWillLoad")),Rt=Hn(Rt,()=>R(et,"componentWillRender")),Hn(Rt,()=>Ir(U,et,J))},Hn=(U,J)=>Lr(U)?U.then(J):J(),Lr=U=>U instanceof Promise||U&&U.then&&"function"==typeof U.then,Ir=function(){var U=(0,l.Z)(function*(J,Pe,et){var Rt;const vt=J.$hostElement$,un=vt["s-rc"];et&&(U=>{const J=U.$cmpMeta$,Pe=U.$hostElement$,et=J.$flags$,vt=qt(Pe.shadowRoot?Pe.shadowRoot:Pe.getRootNode(),J,U.$modeName$);10&et&&(Pe["s-sc"]=vt,Pe.classList.add(vt+"-h"),2&et&&Pe.classList.add(vt+"-s"))})(J);hr(J,Pe,vt,et),un&&(un.map(jt=>jt()),vt["s-rc"]=void 0);{const jt=null!==(Rt=vt["s-p"])&&void 0!==Rt?Rt:[],gn=()=>He(J);0===jt.length?gn():(Promise.all(jt).then(gn),J.$flags$|=4,jt.length=0)}});return function(Pe,et,Rt){return U.apply(this,arguments)}}(),hr=(U,J,Pe,et)=>{try{J=J.render&&J.render(),U.$flags$&=-17,U.$flags$|=2,((U,J,Pe=!1)=>{var et,Rt;const vt=U.$hostElement$,Zt=U.$cmpMeta$,un=U.$vnode$||cn(null,null),nn=(U=>U&&U.$tag$===Xt)(J)?J:Wt(null,null,J);if(le=vt.tagName,Zt.$attrsToReflect$&&(nn.$attrs$=nn.$attrs$||{},Zt.$attrsToReflect$.map(([jt,gn])=>nn.$attrs$[gn]=vt[jt])),Pe&&nn.$attrs$)for(const jt of Object.keys(nn.$attrs$))vt.hasAttribute(jt)&&!["key","ref","style","class"].includes(jt)&&(nn.$attrs$[jt]=vt[jt]);if(nn.$tag$=null,nn.$flags$|=4,U.$vnode$=nn,nn.$elm$=un.$elm$=vt.shadowRoot||vt,Q=vt["s-sc"],_e=vt["s-cr"],pe=0!=(1&Zt.$flags$),ve=!1,fn(un,nn),mn.$flags$|=1,Ye){Nr(nn.$elm$);for(const jt of er){const gn=jt.$nodeToRelocate$;if(!gn["s-ol"]){const nr=pn.createTextNode("");nr["s-nr"]=gn,gn.parentNode.insertBefore(gn["s-ol"]=nr,gn)}}for(const jt of er){const gn=jt.$nodeToRelocate$,nr=jt.$slotRefNode$;if(nr){const vr=nr.parentNode;let wr=nr.nextSibling;{let ai=null===(et=gn["s-ol"])||void 0===et?void 0:et.previousSibling;for(;ai;){let I=null!==(Rt=ai["s-nr"])&&void 0!==Rt?Rt:null;if(I&&I["s-sn"]===gn["s-sn"]&&vr===I.parentNode&&(I=I.nextSibling,!I||!I["s-nr"])){wr=I;break}ai=ai.previousSibling}}(!wr&&vr!==gn.parentNode||gn.nextSibling!==wr)&&gn!==wr&&(!gn["s-hn"]&&gn["s-ol"]&&(gn["s-hn"]=gn["s-ol"].parentNode.nodeName),vr.insertBefore(gn,wr))}else 1===gn.nodeType&&(gn.hidden=!0)}}ve&&bn(nn.$elm$),mn.$flags$&=-2,er.length=0})(U,J,et)}catch(Rt){Ue(Rt,U.$hostElement$)}return null},He=U=>{const Pe=U.$hostElement$,Rt=U.$lazyInstance$,vt=U.$ancestorComponent$;R(Rt,"componentDidRender"),64&U.$flags$?R(Rt,"componentDidUpdate"):(U.$flags$|=64,b(Pe),R(Rt,"componentDidLoad"),U.$onReadyResolve$(Pe),vt||B()),U.$onInstanceResolve$(Pe),U.$onRenderResolve$&&(U.$onRenderResolve$(),U.$onRenderResolve$=void 0),512&U.$flags$&&tn(()=>kr(U,!1)),U.$flags$&=-517},te=U=>{{const J=Bn(U),Pe=J.$hostElement$.isConnected;return Pe&&2==(18&J.$flags$)&&kr(J,!1),Pe}},B=U=>{b(pn.documentElement),tn(()=>St(Tn,"appload",{detail:{namespace:"ionic"}}))},R=(U,J,Pe)=>{if(U&&U[J])try{return U[J](Pe)}catch(et){Ue(et)}},b=U=>U.classList.add("hydrated"),We=(U,J,Pe)=>{var et;if(J.$members$){U.watchers&&(J.$watchers$=U.watchers);const Rt=Object.entries(J.$members$),vt=U.prototype;if(Rt.map(([Zt,[un]])=>{31&un||2&Pe&&32&un?Object.defineProperty(vt,Zt,{get(){return((U,J)=>Bn(this).$instanceValues$.get(J))(0,Zt)},set(nn){((U,J,Pe,et)=>{const Rt=Bn(U),vt=Rt.$hostElement$,Zt=Rt.$instanceValues$.get(J),un=Rt.$flags$,nn=Rt.$lazyInstance$;Pe=((U,J)=>null==U||lt(U)?U:4&J?"false"!==U&&(""===U||!!U):2&J?parseFloat(U):1&J?String(U):U)(Pe,et.$members$[J][0]);const jt=Number.isNaN(Zt)&&Number.isNaN(Pe);if((!(8&un)||void 0===Zt)&&Pe!==Zt&&!jt&&(Rt.$instanceValues$.set(J,Pe),nn)){if(et.$watchers$&&128&un){const nr=et.$watchers$[J];nr&&nr.map(vr=>{try{nn[vr](Pe,Zt,J)}catch(wr){Ue(wr,vt)}})}2==(18&un)&&kr(Rt,!1)}})(this,Zt,nn,J)},configurable:!0,enumerable:!0}):1&Pe&&64&un&&Object.defineProperty(vt,Zt,{value(...nn){const jt=Bn(this);return jt.$onInstancePromise$.then(()=>jt.$lazyInstance$[Zt](...nn))}})}),1&Pe){const Zt=new Map;vt.attributeChangedCallback=function(un,nn,jt){mn.jmp(()=>{const gn=Zt.get(un);if(this.hasOwnProperty(gn))jt=this[gn],delete this[gn];else{if(vt.hasOwnProperty(gn)&&"number"==typeof this[gn]&&this[gn]==jt)return;if(null==gn){const nr=Bn(this),vr=null==nr?void 0:nr.$flags$;if(!(8&vr)&&128&vr&&jt!==nn){const wr=nr.$lazyInstance$,ai=J.$watchers$[un];null==ai||ai.forEach(I=>{null!=wr[I]&&wr[I].call(wr,jt,nn,un)})}return}}this[gn]=(null!==jt||"boolean"!=typeof this[gn])&&jt})},U.observedAttributes=Array.from(new Set([...Object.keys(null!==(et=J.$watchers$)&&void 0!==et?et:{}),...Rt.filter(([un,nn])=>15&nn[0]).map(([un,nn])=>{const jt=nn[1]||un;return Zt.set(jt,un),512&nn[0]&&J.$attrsToReflect$.push([un,jt]),jt})]))}}return U},Ce=function(){var U=(0,l.Z)(function*(J,Pe,et,Rt){let vt;if(!(32&Pe.$flags$)){Pe.$flags$|=32;{if(vt=Et(et),vt.then){const jt=()=>{};vt=yield vt,jt()}vt.isProxied||(et.$watchers$=vt.watchers,We(vt,et,2),vt.isProxied=!0);const nn=()=>{};Pe.$flags$|=8;try{new vt(Pe)}catch(jt){Ue(jt)}Pe.$flags$&=-9,Pe.$flags$|=128,nn(),Ge(Pe.$lazyInstance$)}if(vt.style){let nn=vt.style;"string"!=typeof nn&&(nn=nn[Pe.$modeName$=(U=>Kt.map(J=>J(U)).find(J=>!!J))(J)]);const jt=Nn(et,Pe.$modeName$);if(!xt.has(jt)){const gn=()=>{};kt(jt,nn,!!(1&et.$flags$)),gn()}}}const Zt=Pe.$ancestorComponent$,un=()=>kr(Pe,!0);Zt&&Zt["s-rc"]?Zt["s-rc"].push(un):un()});return function(Pe,et,Rt,vt){return U.apply(this,arguments)}}(),Ge=U=>{R(U,"connectedCallback")},gt=U=>{const J=U["s-cr"]=pn.createComment("");J["s-cn"]=!0,U.insertBefore(J,U.firstChild)},Mt=U=>{R(U,"disconnectedCallback")},rn=function(){var U=(0,l.Z)(function*(J){if(!(1&mn.$flags$)){const Pe=Bn(J);Pe.$rmListeners$&&(Pe.$rmListeners$.map(et=>et()),Pe.$rmListeners$=void 0),null!=Pe&&Pe.$lazyInstance$?Mt(Pe.$lazyInstance$):null!=Pe&&Pe.$onReadyPromise$&&Pe.$onReadyPromise$.then(()=>Mt(Pe.$lazyInstance$))}});return function(Pe){return U.apply(this,arguments)}}(),Fn=(U,J={})=>{var Pe;const Rt=[],vt=J.exclude||[],Zt=Tn.customElements,un=pn.head,nn=un.querySelector("meta[charset]"),jt=pn.createElement("style"),gn=[],nr=pn.querySelectorAll(`[${qe}]`);let vr,wr=!0,ai=0;for(Object.assign(mn,J),mn.$resourcesUrl$=new URL(J.resourcesUrl||"./",pn.baseURI).href,mn.$flags$|=2;ai<nr.length;ai++)kt(nr[ai].getAttribute(qe),Zn(nr[ai].innerHTML),!0);let I=!1;if(U.map(me=>{me[1].map(x=>{var Te;const ut={$flags$:x[0],$tagName$:x[1],$members$:x[2],$listeners$:x[3]};4&ut.$flags$&&(I=!0),ut.$members$=x[2],ut.$listeners$=x[3],ut.$attrsToReflect$=[],ut.$watchers$=null!==(Te=x[4])&&void 0!==Te?Te:{};const pr=ut.$tagName$,jr=class extends HTMLElement{constructor(_r){super(_r),Kr(_r=this,ut),1&ut.$flags$&&_r.attachShadow({mode:"open",delegatesFocus:!!(16&ut.$flags$)})}connectedCallback(){vr&&(clearTimeout(vr),vr=null),wr?gn.push(this):mn.jmp(()=>(U=>{if(!(1&mn.$flags$)){const J=Bn(U),Pe=J.$cmpMeta$,et=()=>{};if(1&J.$flags$)mr(U,J,Pe.$listeners$),null!=J&&J.$lazyInstance$?Ge(J.$lazyInstance$):null!=J&&J.$onReadyPromise$&&J.$onReadyPromise$.then(()=>Ge(J.$lazyInstance$));else{let Rt;if(J.$flags$|=1,Rt=U.getAttribute(dt),Rt){if(1&Pe.$flags$){const vt=qt(U.shadowRoot,Pe,U.getAttribute("s-mode"));U.classList.remove(vt+"-h",vt+"-s")}((U,J,Pe,et)=>{const vt=U.shadowRoot,Zt=[],nn=vt?[]:null,jt=et.$vnode$=cn(J,null);mn.$orgLocNodes$||pt(pn.body,mn.$orgLocNodes$=new Map),U[dt]=Pe,U.removeAttribute(dt),at(jt,Zt,[],nn,U,U,Pe),Zt.map(gn=>{const nr=gn.$hostId$+"."+gn.$nodeId$,vr=mn.$orgLocNodes$.get(nr),wr=gn.$elm$;vr&&ce&&""===vr["s-en"]&&vr.parentNode.insertBefore(wr,vr.nextSibling),vt||(wr["s-hn"]=J,vr&&(wr["s-ol"]=vr,wr["s-ol"]["s-nr"]=wr)),mn.$orgLocNodes$.delete(nr)}),vt&&nn.map(gn=>{gn&&vt.appendChild(gn)})})(U,Pe.$tagName$,Rt,J)}Rt||12&Pe.$flags$&&gt(U);{let vt=U;for(;vt=vt.parentNode||vt.host;)if(1===vt.nodeType&&vt.hasAttribute("s-id")&&vt["s-p"]||vt["s-p"]){Qn(J,J.$ancestorComponent$=vt);break}}Pe.$members$&&Object.entries(Pe.$members$).map(([vt,[Zt]])=>{if(31&Zt&&U.hasOwnProperty(vt)){const un=U[vt];delete U[vt],U[vt]=un}}),Ce(U,J,Pe)}et()}})(this))}disconnectedCallback(){mn.jmp(()=>rn(this))}componentOnReady(){return Bn(this).$onReadyPromise$}};ut.$lazyBundleId$=me[0],!vt.includes(pr)&&!Zt.get(pr)&&(Rt.push(pr),Zt.define(pr,We(jr,ut,1)))})}),I&&(jt.innerHTML+=Se),jt.innerHTML+=Rt+"{visibility:hidden}.hydrated{visibility:inherit}",jt.innerHTML.length){jt.setAttribute("data-styles",""),un.insertBefore(jt,nn?nn.nextSibling:un.firstChild);const me=null!==(Pe=mn.$nonce$)&&void 0!==Pe?Pe:yt(pn);null!=me&&jt.setAttribute("nonce",me)}wr=!1,gn.length?gn.map(me=>me.connectedCallback()):mn.jmp(()=>vr=setTimeout(B,30))},mr=(U,J,Pe,et)=>{Pe&&Pe.map(([Rt,vt,Zt])=>{const un=Qe(U,Rt),nn=It(J,Zt),jt=zt(Rt);mn.ael(un,vt,nn,jt),(J.$rmListeners$=J.$rmListeners$||[]).push(()=>mn.rel(un,vt,nn,jt))})},It=(U,J)=>Pe=>{try{256&U.$flags$?U.$lazyInstance$[J](Pe):(U.$queuedListeners$=U.$queuedListeners$||[]).push([J,Pe])}catch(et){Ue(et)}},Qe=(U,J)=>4&J?pn:8&J?Tn:16&J?pn.body:U,zt=U=>0!=(2&U),ir=new WeakMap,Bn=U=>ir.get(U),Ln=(U,J)=>ir.set(J.$lazyInstance$=U,J),Kr=(U,J)=>{const Pe={$flags$:0,$hostElement$:U,$cmpMeta$:J,$instanceValues$:new Map};return Pe.$onInstancePromise$=new Promise(et=>Pe.$onInstanceResolve$=et),Pe.$onReadyPromise$=new Promise(et=>Pe.$onReadyResolve$=et),U["s-p"]=[],U["s-rc"]=[],mr(U,Pe,J.$listeners$),ir.set(U,Pe)},st=(U,J)=>J in U,Ue=(U,J)=>(0,console.error)(U,J),wt=new Map,Et=(U,J,Pe)=>{const et=U.$tagName$.replace(/-/g,"_"),Rt=U.$lazyBundleId$,vt=wt.get(Rt);return vt?vt[et]:w(863)(`./${Rt}.entry.js`).then(Zt=>(wt.set(Rt,Zt),Zt[et]),Ue)},xt=new Map,Kt=[],Tn=typeof window<"u"?window:{},pn=Tn.document||{head:{}},mn={$flags$:0,$resourcesUrl$:"",jmp:U=>U(),raf:U=>requestAnimationFrame(U),ael:(U,J,Pe,et)=>U.addEventListener(J,Pe,et),rel:(U,J,Pe,et)=>U.removeEventListener(J,Pe,et),ce:(U,J)=>new CustomEvent(U,J)},Kn=U=>{Object.assign(mn,U)},ce=!0,K=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Ie=[],ht=[],mt=(U,J)=>Pe=>{U.push(Pe),fe||(fe=!0,J&&4&mn.$flags$?tn(Ct):mn.raf(Ct))},Je=U=>{for(let J=0;J<U.length;J++)try{U[J](performance.now())}catch(Pe){Ue(Pe)}U.length=0},Ct=()=>{Je(Ie),Je(ht),(fe=Ie.length>0)&&mn.raf(Ct)},tn=U=>Promise.resolve(void 0).then(U),Qt=mt(Ie,!1),tr=mt(ht,!0)},9203:(ln,nt,w)=>{"use strict";w.r(nt),w.d(nt,{GESTURE_CONTROLLER:()=>l.G,createGesture:()=>Ye});var l=w(619);const M=(we,xe,Ke,rt)=>{const Be=H(we)?{capture:!!rt.capture,passive:!!rt.passive}:!!rt.capture;let Le,ze;return we.__zone_symbol__addEventListener?(Le="__zone_symbol__addEventListener",ze="__zone_symbol__removeEventListener"):(Le="addEventListener",ze="removeEventListener"),we[Le](xe,Ke,Be),()=>{we[ze](xe,Ke,Be)}},H=we=>{if(void 0===Q)try{const xe=Object.defineProperty({},"passive",{get:()=>{Q=!0}});we.addEventListener("optsTest",()=>{},xe)}catch{Q=!1}return!!Q};let Q;const pe=we=>we instanceof Document?we:we.ownerDocument,Ye=we=>{let xe=!1,Ke=!1,rt=!0,Be=!1;const Le=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},we),ze=Le.canStart,dt=Le.onWillStart,qe=Le.onStart,je=Le.onEnd,Xe=Le.notCaptured,Se=Le.onMove,ge=Le.threshold,X=Le.passive,ke=Le.blurOnStart,Ve={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ft=((we,xe,Ke)=>{const rt=Ke*(Math.PI/180),Be="x"===we,Le=Math.cos(rt),ze=xe*xe;let dt=0,qe=0,je=!1,Xe=0;return{start(Se,ge){dt=Se,qe=ge,Xe=0,je=!0},detect(Se,ge){if(!je)return!1;const X=Se-dt,ke=ge-qe,Ve=X*X+ke*ke;if(Ve<ze)return!1;const ft=Math.sqrt(Ve),lt=(Be?X:ke)/ft;return Xe=lt>Le?1:lt<-Le?-1:0,je=!1,!0},isGesture:()=>0!==Xe,getDirection:()=>Xe}})(Le.direction,Le.threshold,Le.maxAngle),lt=l.G.createGesture({name:we.gestureName,priority:we.gesturePriority,disableScroll:we.disableScroll}),cn=()=>{xe&&(Be=!1,Se&&Se(Ve))},Xt=()=>!!lt.capture()&&(xe=!0,rt=!1,Ve.startX=Ve.currentX,Ve.startY=Ve.currentY,Ve.startTime=Ve.currentTime,dt?dt(Ve).then(he):he(),!0),he=()=>{ke&&(()=>{if(typeof document<"u"){const pt=document.activeElement;null!=pt&&pt.blur&&pt.blur()}})(),qe&&qe(Ve),rt=!0},ne=()=>{xe=!1,Ke=!1,Be=!1,rt=!0,lt.release()},Re=pt=>{const Ft=xe,on=rt;if(ne(),on){if(ue(Ve,pt),Ft)return void(je&&je(Ve));Xe&&Xe(Ve)}},Ee=((we,xe,Ke,rt,Be)=>{let Le,ze,dt,qe,je,Xe,Se,ge=0;const X=tt=>{ge=Date.now()+2e3,xe(tt)&&(!ze&&Ke&&(ze=M(we,"touchmove",Ke,Be)),dt||(dt=M(tt.target,"touchend",Ve,Be)),qe||(qe=M(tt.target,"touchcancel",Ve,Be)))},ke=tt=>{ge>Date.now()||xe(tt)&&(!Xe&&Ke&&(Xe=M(pe(we),"mousemove",Ke,Be)),Se||(Se=M(pe(we),"mouseup",ft,Be)))},Ve=tt=>{lt(),rt&&rt(tt)},ft=tt=>{yt(),rt&&rt(tt)},lt=()=>{ze&&ze(),dt&&dt(),qe&&qe(),ze=dt=qe=void 0},yt=()=>{Xe&&Xe(),Se&&Se(),Xe=Se=void 0},Wt=()=>{lt(),yt()},cn=(tt=!0)=>{tt?(Le||(Le=M(we,"touchstart",X,Be)),je||(je=M(we,"mousedown",ke,Be))):(Le&&Le(),je&&je(),Le=je=void 0,Wt())};return{enable:cn,stop:Wt,destroy:()=>{cn(!1),rt=Ke=xe=void 0}}})(Le.el,pt=>{const Ft=$e(pt);return!(Ke||!rt||(fe(pt,Ve),Ve.startX=Ve.currentX,Ve.startY=Ve.currentY,Ve.startTime=Ve.currentTime=Ft,Ve.velocityX=Ve.velocityY=Ve.deltaX=Ve.deltaY=0,Ve.event=pt,ze&&!1===ze(Ve))||(lt.release(),!lt.start()))&&(Ke=!0,0===ge?Xt():(ft.start(Ve.startX,Ve.startY),!0))},pt=>{xe?!Be&&rt&&(Be=!0,ue(Ve,pt),requestAnimationFrame(cn)):(ue(Ve,pt),ft.detect(Ve.currentX,Ve.currentY)&&(!ft.isGesture()||!Xt())&&at())},Re,{capture:!1,passive:X}),at=()=>{ne(),Ee.stop(),Xe&&Xe(Ve)};return{enable(pt=!0){pt||(xe&&Re(void 0),ne()),Ee.enable(pt)},destroy(){lt.destroy(),Ee.destroy()}}},ue=(we,xe)=>{if(!xe)return;const Ke=we.currentX,rt=we.currentY,Be=we.currentTime;fe(xe,we);const Le=we.currentX,ze=we.currentY,qe=(we.currentTime=$e(xe))-Be;if(qe>0&&qe<100){const Xe=(ze-rt)/qe;we.velocityX=(Le-Ke)/qe*.7+.3*we.velocityX,we.velocityY=.7*Xe+.3*we.velocityY}we.deltaX=Le-we.startX,we.deltaY=ze-we.startY,we.event=xe},fe=(we,xe)=>{let Ke=0,rt=0;if(we){const Be=we.changedTouches;if(Be&&Be.length>0){const Le=Be[0];Ke=Le.clientX,rt=Le.clientY}else void 0!==we.pageX&&(Ke=we.pageX,rt=we.pageY)}xe.currentX=Ke,xe.currentY=rt},$e=we=>we.timeStamp||Date.now()},3882:(ln,nt,w)=>{"use strict";w.d(nt,{a:()=>fe,b:()=>cn,c:()=>H,i:()=>Xt});var l=w(5349);class M{constructor(){this.m=new Map}reset(he){this.m=new Map(Object.entries(he))}get(he,ne){const Re=this.m.get(he);return void 0!==Re?Re:ne}getBoolean(he,ne=!1){const Re=this.m.get(he);return void 0===Re?ne:"string"==typeof Re?"true"===Re:!!Re}getNumber(he,ne){const Re=parseFloat(this.m.get(he));return isNaN(Re)?void 0!==ne?ne:NaN:Re}set(he,ne){this.m.set(he,ne)}}const H=new M,Ye="ionic-persist-config",fe=(tt,he)=>("string"==typeof tt&&(he=tt,tt=void 0),(tt=>$e(tt))(tt).includes(he)),$e=(tt=window)=>{if(typeof tt>"u")return[];tt.Ionic=tt.Ionic||{};let he=tt.Ionic.platforms;return null==he&&(he=tt.Ionic.platforms=we(tt),he.forEach(ne=>tt.document.documentElement.classList.add(`plt-${ne}`))),he},we=tt=>{const he=H.get("platform");return Object.keys(yt).filter(ne=>{const Re=null==he?void 0:he[ne];return"function"==typeof Re?Re(tt):yt[ne](tt)})},Ke=tt=>!!(ft(tt,/iPad/i)||ft(tt,/Macintosh/i)&&je(tt)),Le=tt=>ft(tt,/android|sink/i),je=tt=>lt(tt,"(any-pointer:coarse)"),Se=tt=>ge(tt)||X(tt),ge=tt=>!!(tt.cordova||tt.phonegap||tt.PhoneGap),X=tt=>{const he=tt.Capacitor;return!(null==he||!he.isNative)},ft=(tt,he)=>he.test(tt.navigator.userAgent),lt=(tt,he)=>{var ne;return null===(ne=tt.matchMedia)||void 0===ne?void 0:ne.call(tt,he).matches},yt={ipad:Ke,iphone:tt=>ft(tt,/iPhone/i),ios:tt=>ft(tt,/iPhone|iPod/i)||Ke(tt),android:Le,phablet:tt=>{const he=tt.innerWidth,ne=tt.innerHeight,Re=Math.min(he,ne),Ee=Math.max(he,ne);return Re>390&&Re<520&&Ee>620&&Ee<800},tablet:tt=>{const he=tt.innerWidth,ne=tt.innerHeight,Re=Math.min(he,ne),Ee=Math.max(he,ne);return Ke(tt)||(tt=>Le(tt)&&!ft(tt,/mobile/i))(tt)||Re>460&&Re<820&&Ee>780&&Ee<1400},cordova:ge,capacitor:X,electron:tt=>ft(tt,/electron/i),pwa:tt=>{var he;return!!(null!==(he=tt.matchMedia)&&void 0!==he&&he.call(tt,"(display-mode: standalone)").matches||tt.navigator.standalone)},mobile:je,mobileweb:tt=>je(tt)&&!Se(tt),desktop:tt=>!je(tt),hybrid:Se};let Wt;const cn=tt=>tt&&(0,l.g)(tt)||Wt,Xt=(tt={})=>{if(typeof window>"u")return;const he=window.document,ne=window,Re=ne.Ionic=ne.Ionic||{},Ee={};tt._ael&&(Ee.ael=tt._ael),tt._rel&&(Ee.rel=tt._rel),tt._ce&&(Ee.ce=tt._ce),(0,l.a)(Ee);const at=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(tt=>{try{const he=tt.sessionStorage.getItem(Ye);return null!==he?JSON.parse(he):{}}catch{return{}}})(ne)),{persistConfig:!1}),Re.config),(tt=>{const he={};return tt.location.search.slice(1).split("&").map(ne=>ne.split("=")).map(([ne,Re])=>[decodeURIComponent(ne),decodeURIComponent(Re)]).filter(([ne])=>((tt,he)=>tt.substr(0,he.length)===he)(ne,"ionic:")).map(([ne,Re])=>[ne.slice(6),Re]).forEach(([ne,Re])=>{he[ne]=Re}),he})(ne)),tt);H.reset(at),H.getBoolean("persistConfig")&&((tt,he)=>{try{tt.sessionStorage.setItem(Ye,JSON.stringify(he))}catch{return}})(ne,at),$e(ne),Re.config=H,Re.mode=Wt=H.get("mode",he.documentElement.getAttribute("mode")||(fe(ne,"ios")?"ios":"md")),H.set("mode",Wt),he.documentElement.setAttribute("mode",Wt),he.documentElement.classList.add(Wt),H.getBoolean("_testing")&&H.set("animated",!1);const pt=on=>{var en;return null===(en=on.tagName)||void 0===en?void 0:en.startsWith("ION-")},Ft=on=>["ios","md"].includes(on);(0,l.c)(on=>{for(;on;){const en=on.mode||on.getAttribute("mode");if(en){if(Ft(en))return en;pt(on)&&console.warn('Invalid ionic mode: "'+en+'", expected: "ios" or "md"')}on=on.parentElement}return Wt})}},2619:(ln,nt,w)=>{"use strict";w.r(nt),w.d(nt,{iosTransitionAnimation:()=>we,shadow:()=>pe});var l=w(6410),M=w(448);w(6225),w(5349);const le=Ke=>document.querySelector(`${Ke}.ion-cloned-element`),pe=Ke=>Ke.shadowRoot||Ke,ve=Ke=>{const rt="ION-TABS"===Ke.tagName?Ke:Ke.querySelector("ion-tabs"),Be="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=rt){const Le=rt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=Le?Le.querySelector(Be):null}return Ke.querySelector(Be)},Ye=(Ke,rt)=>{const Be="ION-TABS"===Ke.tagName?Ke:Ke.querySelector("ion-tabs");let Le=[];if(null!=Be){const ze=Be.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=ze&&(Le=ze.querySelectorAll("ion-buttons"))}else Le=Ke.querySelectorAll("ion-buttons");for(const ze of Le){const dt=ze.closest("ion-header"),qe=dt&&!dt.classList.contains("header-collapse-condense-inactive"),je=ze.querySelector("ion-back-button"),Xe=ze.classList.contains("buttons-collapse");if(null!==je&&("start"===ze.slot||""===ze.slot)&&(Xe&&qe&&rt||!Xe))return je}return null},fe=(Ke,rt,Be,Le,ze,dt,qe,je,Xe)=>{var Se,ge;const X=rt?`calc(100% - ${ze.right+4}px)`:ze.left-4+"px",ke=rt?"right":"left",Ve=rt?"left":"right",ft=rt?"right":"left",lt=(null===(Se=dt.textContent)||void 0===Se?void 0:Se.trim())===(null===(ge=je.textContent)||void 0===ge?void 0:ge.trim()),Wt=(Xe.height-xe)/qe.height,cn=lt?`scale(${Xe.width/qe.width}, ${Wt})`:`scale(${Wt})`,Xt="scale(1)",he=pe(Le).querySelector("ion-icon").getBoundingClientRect(),ne=rt?he.width/2-(he.right-ze.right)+"px":ze.left-he.width/2+"px",Re=rt?`-${window.innerWidth-ze.right}px`:`${ze.left}px`,Ee=`${Xe.top}px`,at=`${ze.top}px`,on=Be?[{offset:0,transform:`translate3d(${Re}, ${at}, 0)`},{offset:1,transform:`translate3d(${ne}, ${Ee}, 0)`}]:[{offset:0,transform:`translate3d(${ne}, ${Ee}, 0)`},{offset:1,transform:`translate3d(${Re}, ${at}, 0)`}],Cn=Be?[{offset:0,opacity:1,transform:Xt},{offset:1,opacity:0,transform:cn}]:[{offset:0,opacity:0,transform:cn},{offset:1,opacity:1,transform:Xt}],At=Be?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],kt=(0,l.c)(),qt=(0,l.c)(),An=(0,l.c)(),Nn=le("ion-back-button"),Zn=pe(Nn).querySelector(".button-text"),dn=pe(Nn).querySelector("ion-icon");Nn.text=Le.text,Nn.mode=Le.mode,Nn.icon=Le.icon,Nn.color=Le.color,Nn.disabled=Le.disabled,Nn.style.setProperty("display","block"),Nn.style.setProperty("position","fixed"),qt.addElement(dn),kt.addElement(Zn),An.addElement(Nn),An.beforeStyles({position:"absolute",top:"0px",[ft]:"0px"}).keyframes(on),kt.beforeStyles({"transform-origin":`${ke} top`}).beforeAddWrite(()=>{Le.style.setProperty("display","none"),Nn.style.setProperty(ke,X)}).afterAddWrite(()=>{Le.style.setProperty("display",""),Nn.style.setProperty("display","none"),Nn.style.removeProperty(ke)}).keyframes(Cn),qt.beforeStyles({"transform-origin":`${Ve} center`}).keyframes(At),Ke.addAnimation([kt,qt,An])},$e=(Ke,rt,Be,Le,ze,dt,qe,je)=>{var Xe,Se;const ge=rt?"right":"left",X=rt?`calc(100% - ${ze.right}px)`:`${ze.left}px`,Ve=`${ze.top}px`,lt=rt?`-${window.innerWidth-je.right-8}px`:je.x-8+"px",Wt=je.y-2+"px",cn=(null===(Xe=qe.textContent)||void 0===Xe?void 0:Xe.trim())===(null===(Se=Le.textContent)||void 0===Se?void 0:Se.trim()),tt=je.height/(dt.height-xe),he="scale(1)",ne=cn?`scale(${je.width/dt.width}, ${tt})`:`scale(${tt})`,at=Be?[{offset:0,opacity:0,transform:`translate3d(${lt}, ${Wt}, 0) ${ne}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Ve}, 0) ${he}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Ve}, 0) ${he}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${lt}, ${Wt}, 0) ${ne}`}],pt=le("ion-title"),Ft=(0,l.c)();pt.innerText=Le.innerText,pt.size=Le.size,pt.color=Le.color,Ft.addElement(pt),Ft.beforeStyles({"transform-origin":`${ge} top`,height:`${ze.height}px`,display:"",position:"relative",[ge]:X}).beforeAddWrite(()=>{Le.style.setProperty("opacity","0")}).afterAddWrite(()=>{Le.style.setProperty("opacity",""),pt.style.setProperty("display","none")}).keyframes(at),Ke.addAnimation(Ft)},we=(Ke,rt)=>{var Be;try{const Le="cubic-bezier(0.32,0.72,0,1)",ze="opacity",dt="transform",qe="0%",Xe="rtl"===Ke.ownerDocument.dir,Se=Xe?"-99.5%":"99.5%",ge=Xe?"33%":"-33%",X=rt.enteringEl,ke=rt.leavingEl,Ve="back"===rt.direction,ft=X.querySelector(":scope > ion-content"),lt=X.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),yt=X.querySelectorAll(":scope > ion-header > ion-toolbar"),Wt=(0,l.c)(),cn=(0,l.c)();if(Wt.addElement(X).duration((null!==(Be=rt.duration)&&void 0!==Be?Be:0)||540).easing(rt.easing||Le).fill("both").beforeRemoveClass("ion-page-invisible"),ke&&null!=Ke){const ne=(0,l.c)();ne.addElement(Ke),Wt.addAnimation(ne)}if(ft||0!==yt.length||0!==lt.length?(cn.addElement(ft),cn.addElement(lt)):cn.addElement(X.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Wt.addAnimation(cn),Ve?cn.beforeClearStyles([ze]).fromTo("transform",`translateX(${ge})`,`translateX(${qe})`).fromTo(ze,.8,1):cn.beforeClearStyles([ze]).fromTo("transform",`translateX(${Se})`,`translateX(${qe})`),ft){const ne=pe(ft).querySelector(".transition-effect");if(ne){const Re=ne.querySelector(".transition-cover"),Ee=ne.querySelector(".transition-shadow"),at=(0,l.c)(),pt=(0,l.c)(),Ft=(0,l.c)();at.addElement(ne).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),pt.addElement(Re).beforeClearStyles([ze]).fromTo(ze,0,.1),Ft.addElement(Ee).beforeClearStyles([ze]).fromTo(ze,.03,.7),at.addAnimation([pt,Ft]),cn.addAnimation([at])}}const Xt=X.querySelector("ion-header.header-collapse-condense"),{forward:tt,backward:he}=((Ke,rt,Be,Le,ze)=>{const dt=Ye(Le,Be),qe=ve(ze),je=ve(Le),Xe=Ye(ze,Be),Se=null!==dt&&null!==qe&&!Be,ge=null!==je&&null!==Xe&&Be;if(Se){const X=qe.getBoundingClientRect(),ke=dt.getBoundingClientRect(),Ve=pe(dt).querySelector(".button-text"),ft=Ve.getBoundingClientRect(),yt=pe(qe).querySelector(".toolbar-title").getBoundingClientRect();$e(Ke,rt,Be,qe,X,yt,Ve,ft),fe(Ke,rt,Be,dt,ke,Ve,ft,qe,yt)}else if(ge){const X=je.getBoundingClientRect(),ke=Xe.getBoundingClientRect(),Ve=pe(Xe).querySelector(".button-text"),ft=Ve.getBoundingClientRect(),yt=pe(je).querySelector(".toolbar-title").getBoundingClientRect();$e(Ke,rt,Be,je,X,yt,Ve,ft),fe(Ke,rt,Be,Xe,ke,Ve,ft,je,yt)}return{forward:Se,backward:ge}})(Wt,Xe,Ve,X,ke);if(yt.forEach(ne=>{const Re=(0,l.c)();Re.addElement(ne),Wt.addAnimation(Re);const Ee=(0,l.c)();Ee.addElement(ne.querySelector("ion-title"));const at=(0,l.c)(),pt=Array.from(ne.querySelectorAll("ion-buttons,[menuToggle]")),Ft=ne.closest("ion-header"),on=null==Ft?void 0:Ft.classList.contains("header-collapse-condense-inactive");let en;en=pt.filter(Ve?At=>{const kt=At.classList.contains("buttons-collapse");return kt&&!on||!kt}:At=>!At.classList.contains("buttons-collapse")),at.addElement(en);const $t=(0,l.c)();$t.addElement(ne.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Cn=(0,l.c)();Cn.addElement(pe(ne).querySelector(".toolbar-background"));const Vt=(0,l.c)(),St=ne.querySelector("ion-back-button");if(St&&Vt.addElement(St),Re.addAnimation([Ee,at,$t,Cn,Vt]),at.fromTo(ze,.01,1),$t.fromTo(ze,.01,1),Ve)on||Ee.fromTo("transform",`translateX(${ge})`,`translateX(${qe})`).fromTo(ze,.01,1),$t.fromTo("transform",`translateX(${ge})`,`translateX(${qe})`),Vt.fromTo(ze,.01,1);else if(Xt||Ee.fromTo("transform",`translateX(${Se})`,`translateX(${qe})`).fromTo(ze,.01,1),$t.fromTo("transform",`translateX(${Se})`,`translateX(${qe})`),Cn.beforeClearStyles([ze,"transform"]),(null==Ft?void 0:Ft.translucent)?Cn.fromTo("transform",Xe?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Cn.fromTo(ze,.01,"var(--opacity)"),tt||Vt.fromTo(ze,.01,1),St&&!tt){const kt=(0,l.c)();kt.addElement(pe(St).querySelector(".button-text")).fromTo("transform",Xe?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Re.addAnimation(kt)}}),ke){const ne=(0,l.c)(),Re=ke.querySelector(":scope > ion-content"),Ee=ke.querySelectorAll(":scope > ion-header > ion-toolbar"),at=ke.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Re||0!==Ee.length||0!==at.length?(ne.addElement(Re),ne.addElement(at)):ne.addElement(ke.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),Wt.addAnimation(ne),Ve){ne.beforeClearStyles([ze]).fromTo("transform",`translateX(${qe})`,Xe?"translateX(-100%)":"translateX(100%)");const pt=(0,M.g)(ke);Wt.afterAddWrite(()=>{"normal"===Wt.getDirection()&&pt.style.setProperty("display","none")})}else ne.fromTo("transform",`translateX(${qe})`,`translateX(${ge})`).fromTo(ze,1,.8);if(Re){const pt=pe(Re).querySelector(".transition-effect");if(pt){const Ft=pt.querySelector(".transition-cover"),on=pt.querySelector(".transition-shadow"),en=(0,l.c)(),$t=(0,l.c)(),Cn=(0,l.c)();en.addElement(pt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),$t.addElement(Ft).beforeClearStyles([ze]).fromTo(ze,.1,0),Cn.addElement(on).beforeClearStyles([ze]).fromTo(ze,.7,.03),en.addAnimation([$t,Cn]),ne.addAnimation([en])}}Ee.forEach(pt=>{const Ft=(0,l.c)();Ft.addElement(pt);const on=(0,l.c)();on.addElement(pt.querySelector("ion-title"));const en=(0,l.c)(),$t=pt.querySelectorAll("ion-buttons,[menuToggle]"),Cn=pt.closest("ion-header"),Vt=null==Cn?void 0:Cn.classList.contains("header-collapse-condense-inactive"),St=Array.from($t).filter(Zn=>{const dn=Zn.classList.contains("buttons-collapse");return dn&&!Vt||!dn});en.addElement(St);const At=(0,l.c)(),kt=pt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");kt.length>0&&At.addElement(kt);const qt=(0,l.c)();qt.addElement(pe(pt).querySelector(".toolbar-background"));const An=(0,l.c)(),Nn=pt.querySelector("ion-back-button");if(Nn&&An.addElement(Nn),Ft.addAnimation([on,en,At,An,qt]),Wt.addAnimation(Ft),An.fromTo(ze,.99,0),en.fromTo(ze,.99,0),At.fromTo(ze,.99,0),Ve){if(Vt||on.fromTo("transform",`translateX(${qe})`,Xe?"translateX(-100%)":"translateX(100%)").fromTo(ze,.99,0),At.fromTo("transform",`translateX(${qe})`,Xe?"translateX(-100%)":"translateX(100%)"),qt.beforeClearStyles([ze,"transform"]),(null==Cn?void 0:Cn.translucent)?qt.fromTo("transform","translateX(0px)",Xe?"translateX(-100%)":"translateX(100%)"):qt.fromTo(ze,"var(--opacity)",0),Nn&&!he){const dn=(0,l.c)();dn.addElement(pe(Nn).querySelector(".button-text")).fromTo("transform",`translateX(${qe})`,`translateX(${(Xe?-124:124)+"px"})`),Ft.addAnimation(dn)}}else Vt||on.fromTo("transform",`translateX(${qe})`,`translateX(${ge})`).fromTo(ze,.99,0).afterClearStyles([dt,ze]),At.fromTo("transform",`translateX(${qe})`,`translateX(${ge})`).afterClearStyles([dt,ze]),An.afterClearStyles([ze]),on.afterClearStyles([ze]),en.afterClearStyles([ze])})}return Wt}catch(Le){throw Le}},xe=10},9023:(ln,nt,w)=>{"use strict";w.r(nt),w.d(nt,{mdTransitionAnimation:()=>_e});var l=w(6410),M=w(448);w(6225),w(5349);const _e=(le,pe)=>{var ve,Ye,ue;const we="back"===pe.direction,Ke=pe.leavingEl,rt=(0,M.g)(pe.enteringEl),Be=rt.querySelector("ion-toolbar"),Le=(0,l.c)();if(Le.addElement(rt).fill("both").beforeRemoveClass("ion-page-invisible"),we?Le.duration((null!==(ve=pe.duration)&&void 0!==ve?ve:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Le.duration((null!==(Ye=pe.duration)&&void 0!==Ye?Ye:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Be){const ze=(0,l.c)();ze.addElement(Be),Le.addAnimation(ze)}if(Ke&&we){Le.duration((null!==(ue=pe.duration)&&void 0!==ue?ue:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const ze=(0,l.c)();ze.addElement((0,M.g)(Ke)).onFinish(dt=>{1===dt&&ze.elements.length>0&&ze.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Le.addAnimation(ze)}return Le}},7612:(ln,nt,w)=>{"use strict";w.d(nt,{B:()=>on,G:()=>en,a:()=>$e,b:()=>we,c:()=>Be,d:()=>$t,e:()=>Cn,f:()=>cn,g:()=>tt,h:()=>Re,i:()=>at,j:()=>ze,k:()=>dt,l:()=>xe,m:()=>Ke,n:()=>ue,o:()=>Xe,q:()=>yt,s:()=>Ft});var l=w(5861),M=w(6225),H=w(3882),Q=w(6559),_e=w(2124),le=w(839),pe=w(6710);let ve=0,Ye=0;const ue=new WeakMap,fe=Vt=>({create:St=>qe(Vt,St),dismiss:(St,At,kt)=>Ve(document,St,At,Vt,kt),getTop:()=>(0,l.Z)(function*(){return yt(document,Vt)})()}),$e=fe("ion-alert"),we=fe("ion-action-sheet"),xe=fe("ion-loading"),Ke=fe("ion-modal"),Be=fe("ion-popover"),ze=Vt=>{typeof document<"u"&&ke(document);const St=ve++;Vt.overlayIndex=St},dt=Vt=>(Vt.hasAttribute("id")||(Vt.id="ion-overlay-"+ ++Ye),Vt.id),qe=(Vt,St)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Vt).then(()=>{const At=document.createElement(Vt);return At.classList.add("overlay-hidden"),Object.assign(At,Object.assign(Object.assign({},St),{hasController:!0})),he(document).appendChild(At),new Promise(kt=>(0,le.c)(At,kt))}):Promise.resolve(),je='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Xe=(Vt,St)=>{let At=Vt.querySelector(je);const kt=null==At?void 0:At.shadowRoot;kt&&(At=kt.querySelector(je)||At),At?(0,le.f)(At):St.focus()},ge=(Vt,St)=>{const At=Array.from(Vt.querySelectorAll(je));let kt=At.length>0?At[At.length-1]:null;const qt=null==kt?void 0:kt.shadowRoot;qt&&(kt=qt.querySelector(je)||kt),kt?kt.focus():St.focus()},ke=Vt=>{0===ve&&(ve=1,Vt.addEventListener("focus",St=>{((Vt,St)=>{const At=yt(St,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),kt=Vt.target;At&&kt&&!At.classList.contains("ion-disable-focus-trap")&&(At.shadowRoot?(()=>{if(At.contains(kt))At.lastFocus=kt;else{const Nn=At.lastFocus;Xe(At,At),Nn===St.activeElement&&ge(At,At),At.lastFocus=St.activeElement}})():(()=>{if(At===kt)At.lastFocus=void 0;else{const Nn=(0,le.g)(At);if(!Nn.contains(kt))return;const Zn=Nn.querySelector(".ion-overlay-wrapper");if(!Zn)return;if(Zn.contains(kt)||kt===Nn.querySelector("ion-backdrop"))At.lastFocus=kt;else{const dn=At.lastFocus;Xe(Zn,At),dn===St.activeElement&&ge(Zn,At),At.lastFocus=St.activeElement}}})())})(St,Vt)},!0),Vt.addEventListener("ionBackButton",St=>{const At=yt(Vt);null!=At&&At.backdropDismiss&&St.detail.register(_e.OVERLAY_BACK_BUTTON_PRIORITY,()=>At.dismiss(void 0,on))}),Vt.addEventListener("keydown",St=>{if("Escape"===St.key){const At=yt(Vt);null!=At&&At.backdropDismiss&&At.dismiss(void 0,on)}}))},Ve=(Vt,St,At,kt,qt)=>{const An=yt(Vt,kt,qt);return An?An.dismiss(St,At):Promise.reject("overlay does not exist")},lt=(Vt,St)=>((Vt,St)=>(void 0===St&&(St="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Vt.querySelectorAll(St)).filter(At=>At.overlayIndex>0)))(Vt,St).filter(At=>!(Vt=>Vt.classList.contains("overlay-hidden"))(At)),yt=(Vt,St,At)=>{const kt=lt(Vt,St);return void 0===At?kt[kt.length-1]:kt.find(qt=>qt.id===At)},Wt=(Vt=!1)=>{const At=he(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");At&&(Vt?At.setAttribute("aria-hidden","true"):At.removeAttribute("aria-hidden"))},cn=function(){var Vt=(0,l.Z)(function*(St,At,kt,qt,An){var Nn,Zn;if(St.presented)return;Wt(!0),St.presented=!0,St.willPresent.emit(),null===(Nn=St.willPresentShorthand)||void 0===Nn||Nn.emit();const dn=(0,H.b)(St),kn=St.enterAnimation?St.enterAnimation:H.c.get(At,"ios"===dn?kt:qt);(yield ne(St,kn,St.el,An))&&(St.didPresent.emit(),null===(Zn=St.didPresentShorthand)||void 0===Zn||Zn.emit()),"ION-TOAST"!==St.el.tagName&&Xt(St.el),St.keyboardClose&&(null===document.activeElement||!St.el.contains(document.activeElement))&&St.el.focus()});return function(At,kt,qt,An,Nn){return Vt.apply(this,arguments)}}(),Xt=function(){var Vt=(0,l.Z)(function*(St){let At=document.activeElement;if(!At)return;const kt=null==At?void 0:At.shadowRoot;kt&&(At=kt.querySelector(je)||At),yield St.onDidDismiss(),At.focus()});return function(At){return Vt.apply(this,arguments)}}(),tt=function(){var Vt=(0,l.Z)(function*(St,At,kt,qt,An,Nn,Zn){var dn,kn;if(!St.presented)return!1;void 0!==M.d&&1===lt(M.d).length&&Wt(!1),St.presented=!1;try{St.el.style.setProperty("pointer-events","none"),St.willDismiss.emit({data:At,role:kt}),null===(dn=St.willDismissShorthand)||void 0===dn||dn.emit({data:At,role:kt});const En=(0,H.b)(St),Dr=St.leaveAnimation?St.leaveAnimation:H.c.get(qt,"ios"===En?An:Nn);kt!==en&&(yield ne(St,Dr,St.el,Zn)),St.didDismiss.emit({data:At,role:kt}),null===(kn=St.didDismissShorthand)||void 0===kn||kn.emit({data:At,role:kt}),ue.delete(St),St.el.classList.add("overlay-hidden"),St.el.style.removeProperty("pointer-events"),void 0!==St.el.lastFocus&&(St.el.lastFocus=void 0)}catch(En){console.error(En)}return St.el.remove(),!0});return function(At,kt,qt,An,Nn,Zn,dn){return Vt.apply(this,arguments)}}(),he=Vt=>Vt.querySelector("ion-app")||Vt.body,ne=function(){var Vt=(0,l.Z)(function*(St,At,kt,qt){kt.classList.remove("overlay-hidden");const Nn=At(St.el,qt);(!St.animated||!H.c.getBoolean("animated",!0))&&Nn.duration(0),St.keyboardClose&&Nn.beforeAddWrite(()=>{const dn=kt.ownerDocument.activeElement;null!=dn&&dn.matches("input,ion-input, ion-textarea")&&dn.blur()});const Zn=ue.get(St)||[];return ue.set(St,[...Zn,Nn]),yield Nn.play(),!0});return function(At,kt,qt,An){return Vt.apply(this,arguments)}}(),Re=(Vt,St)=>{let At;const kt=new Promise(qt=>At=qt);return Ee(Vt,St,qt=>{At(qt.detail)}),kt},Ee=(Vt,St,At)=>{const kt=qt=>{(0,le.b)(Vt,St,kt),At(qt)};(0,le.a)(Vt,St,kt)},at=Vt=>"cancel"===Vt||Vt===on,pt=Vt=>Vt(),Ft=(Vt,St)=>{if("function"==typeof Vt)return H.c.get("_zoneGate",pt)(()=>{try{return Vt(St)}catch(kt){throw kt}})},on="backdrop",en="gesture",$t=Vt=>{let At,St=!1;const kt=(0,Q.C)(),qt=(Zn=!1)=>{if(At&&!Zn)return{delegate:At,inline:St};const{el:dn,hasController:kn,delegate:En}=Vt;return St=null!==dn.parentNode&&!kn,At=St?En||kt:En,{inline:St,delegate:At}};return{attachViewToDom:function(){var Zn=(0,l.Z)(function*(dn){const{delegate:kn}=qt(!0);if(kn)return yield kn.attachViewToDom(Vt.el,dn);const{hasController:En}=Vt;if(En&&void 0!==dn)throw new Error("framework delegate is missing");return null});return function(kn){return Zn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Zn}=qt();Zn&&void 0!==Vt.el&&Zn.removeViewFromDom(Vt.el.parentElement,Vt.el)}}},Cn=()=>{let Vt;const St=()=>{Vt&&(Vt(),Vt=void 0)};return{addClickListener:(kt,qt)=>{St();const An=void 0!==qt?document.getElementById(qt):null;An?Vt=((Zn,dn)=>{const kn=()=>{dn.present()};return Zn.addEventListener("click",kn),()=>{Zn.removeEventListener("click",kn)}})(An,kt):(0,pe.p)(`A trigger element with the ID "${qt}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,kt)},removeClickListener:St}}},353:(ln,nt,w)=>{"use strict";var l=w(6593),M=w(9212),H=w(3213),Q=w(5472),_e=w(6728),le=w(7217),pe=w(7213);let ve=(()=>{var Ce;class Ge{ngOnInit(){throw new Error("Method not implemented.")}}return(Ce=Ge).\u0275fac=function(gt){return new(gt||Ce)},Ce.\u0275cmp=M.Xpm({type:Ce,selectors:[["app-root"]],decls:21,vars:0,consts:[["contentId","main-content"],["routerLink","/signup"],["name","person-add-outline","slot","start"],["routerLink","/data-users"],["name","people-outline","slot","start"],["routerLink","/charts"],["name","bar-chart-outline","slot","start"],["id","main-content"]],template:function(gt,Mt){1&gt&&(M.TgZ(0,"ion-app")(1,"ion-menu",0)(2,"ion-header")(3,"ion-toolbar")(4,"ion-title"),M._uU(5,"Men\xfa"),M.qZA()()(),M.TgZ(6,"ion-content")(7,"ion-list")(8,"ion-item",1),M._UZ(9,"ion-icon",2),M.TgZ(10,"ion-label"),M._uU(11,"Registrar nuevo usuario"),M.qZA()(),M.TgZ(12,"ion-item",3),M._UZ(13,"ion-icon",4),M.TgZ(14,"ion-label"),M._uU(15,"Base de Datos - Registros"),M.qZA()(),M.TgZ(16,"ion-item",5),M._UZ(17,"ion-icon",6),M.TgZ(18,"ion-label"),M._uU(19,"Grafica por secciones"),M.qZA()()()()(),M._UZ(20,"ion-router-outlet",7),M.qZA())},dependencies:[_e.dr,_e.W2,_e.Gu,_e.gu,_e.Ie,_e.Q$,_e.q_,_e.z0,_e.wd,_e.sr,_e.jP,_e.YI,H.rH]}),Ge})();var Ye=w(1180),ue=w(9535),fe=w(8407),$e=w(7398),we=w(8180);w(3182);const Ke=(0,$e.U)(Ce=>!!Ce);let rt=(()=>{var Ce;class Ge{constructor(gt,Mt){(0,Ye.Z)(this,"router",void 0),(0,Ye.Z)(this,"auth",void 0),(0,Ye.Z)(this,"canActivate",(rn,Fn)=>{const mr=rn.data.authGuardPipe||(()=>Ke);return(0,ue.EA)(this.auth).pipe((0,we.q)(1),mr(rn,Fn),(0,$e.U)(It=>"boolean"==typeof It?It:Array.isArray(It)?this.router.createUrlTree(It):this.router.parseUrl(It)))}),this.router=gt,this.auth=Mt}}return Ce=Ge,(0,Ye.Z)(Ge,"\u0275fac",function(gt){return new(gt||Ce)(M.LFG(H.F0),M.LFG(ue.gx))}),(0,Ye.Z)(Ge,"\u0275prov",M.Yz7({token:Ce,factory:Ce.\u0275fac,providedIn:"any"})),Ge})();const Wt=[{path:"ui-home",loadChildren:()=>Promise.all([w.e(7104),w.e(9574),w.e(2249)]).then(w.bind(w,2249)).then(Ce=>Ce.UiHomePageModule),...(Ce=()=>{return Ce=["login"],(0,fe.z)(Ke,(0,$e.U)(Ge=>Ge||Ce));var Ce},{canActivate:[rt],data:{authGuardPipe:Ce}})},{path:"",redirectTo:"login",pathMatch:"full"},{path:"data-users",loadChildren:()=>Promise.all([w.e(7104),w.e(3273)]).then(w.bind(w,3273)).then(Ce=>Ce.DataUsersPageModule)},{path:"login",loadChildren:()=>Promise.all([w.e(7104),w.e(6488)]).then(w.bind(w,6488)).then(Ce=>Ce.LoginPageModule)},{path:"signup",loadChildren:()=>Promise.all([w.e(7104),w.e(9064)]).then(w.bind(w,9064)).then(Ce=>Ce.SignupPageModule)},{path:"reset-password",loadChildren:()=>Promise.all([w.e(7104),w.e(7424)]).then(w.bind(w,7424)).then(Ce=>Ce.ResetPasswordPageModule)},{path:"filtrar",loadChildren:()=>Promise.all([w.e(7104),w.e(6516)]).then(w.bind(w,6516)).then(Ce=>Ce.FiltrarPageModule)},{path:"ocr",loadChildren:()=>w.e(4308).then(w.bind(w,4308)).then(Ce=>Ce.OcrPageModule)},{path:"charts",loadChildren:()=>Promise.all([w.e(7104),w.e(2141)]).then(w.bind(w,2141)).then(Ce=>Ce.ChartsPageModule)},{path:"ui-home",loadChildren:()=>Promise.all([w.e(7104),w.e(9574),w.e(2249)]).then(w.bind(w,2249)).then(Ce=>Ce.UiHomePageModule)},{path:"login-admin",loadChildren:()=>w.e(6528).then(w.bind(w,6528)).then(Ce=>Ce.LoginAdminPageModule)},{path:"alta-primaria",loadChildren:()=>Promise.all([w.e(7104),w.e(9574),w.e(8840)]).then(w.bind(w,8840)).then(Ce=>Ce.AltaPrimariaPageModule)},{path:"alta-secundaria",loadChildren:()=>Promise.all([w.e(7104),w.e(9574),w.e(9366)]).then(w.bind(w,9366)).then(Ce=>Ce.AltaSecundariaPageModule)},{path:"login-alta",loadChildren:()=>w.e(2087).then(w.bind(w,2087)).then(Ce=>Ce.LoginAltaPageModule)},{path:"login-secundario",loadChildren:()=>w.e(6637).then(w.bind(w,6637)).then(Ce=>Ce.LoginSecundarioPageModule)}];var Ce;let cn=(()=>{var Ce;class Ge{}return(Ce=Ge).\u0275fac=function(gt){return new(gt||Ce)},Ce.\u0275mod=M.oAB({type:Ce}),Ce.\u0275inj=M.cJS({imports:[H.Bz.forRoot(Wt,{preloadingStrategy:H.wm}),H.Bz]}),Ge})();var Xt=w(721);const tt_firebase={apiKey:"AIzaSyBhV-DeD1MRBSwF4tm8I-_M6FsppxxLnpM",authDomain:"appx-ea47b.firebaseapp.com",projectId:"appx-ea47b",storageBucket:"appx-ea47b.appspot.com",messagingSenderId:"957463264171",appId:"1:957463264171:web:acc1484d03c0ed5b3970ee",measurementId:"G-H6Z21EZ3CQ"};var he=w(3960),ne=w(5017),Re=w(6814),Ee=w(4911),at=w(8504),pt=w(2438),Ft=w(2096),on=w(5211),en=w(8645),$t=w(5592),Cn=w(2420);const Vt=new $t.y(Cn.Z);var At=w(3019),kt=w(2181),qt=w(4664),An=w(3168),Nn=w(4674),Zn=w(4829),dn=w(9360);const En={connector:()=>new en.x};function Dr(Ce,Ge=En){const{connector:Dt}=Ge;return(0,dn.e)((gt,Mt)=>{const rn=Dt();(0,Zn.Xf)(Ce(function kn(Ce){return new $t.y(Ge=>Ce.subscribe(Ge))}(rn))).subscribe(Mt),Mt.add(gt.subscribe(rn))})}var jn=w(9397),br=w(6321),Cr=w(8251),rr=w(975),xn=w(1631);function Hr(Ce,Ge){return Ge?Dt=>(0,on.z)(Ge.pipe((0,we.q)(1),function Mn(){return(0,dn.e)((Ce,Ge)=>{Ce.subscribe((0,Cr.x)(Ge,Cn.Z))})}()),Dt.pipe(Hr(Ce))):(0,xn.z)((Dt,gt)=>(0,Zn.Xf)(Ce(Dt,gt)).pipe((0,we.q)(1),(0,rr.h)(Dt)))}var cr=w(671);const Nr="Service workers are disabled or not supported by this browser";class ur{constructor(Ge){if(this.serviceWorker=Ge,Ge){const gt=(0,pt.R)(Ge,"controllerchange").pipe((0,$e.U)(()=>Ge.controller)),Mt=(0,Ee.P)(()=>(0,Ft.of)(Ge.controller)),rn=(0,on.z)(Mt,gt);this.worker=rn.pipe((0,kt.h)(zt=>!!zt)),this.registration=this.worker.pipe((0,qt.w)(()=>Ge.getRegistration()));const Qe=(0,pt.R)(Ge,"message").pipe((0,$e.U)(zt=>zt.data)).pipe((0,kt.h)(zt=>zt&&zt.type)).pipe(function qn(Ce){return Ce?Ge=>Dr(Ce)(Ge):Ge=>function Yn(Ce,Ge){const Dt=(0,Nn.m)(Ce)?Ce:()=>Ce;return(0,Nn.m)(Ge)?Dr(Ge,{connector:Dt}):gt=>new An.c(gt,Dt)}(new en.x)(Ge)}());Qe.connect(),this.events=Qe}else this.worker=this.events=this.registration=function Ur(Ce){return(0,Ee.P)(()=>(0,at._)(new Error(Ce)))}(Nr)}postMessage(Ge,Dt){return this.worker.pipe((0,we.q)(1),(0,jn.b)(gt=>{gt.postMessage({action:Ge,...Dt})})).toPromise().then(()=>{})}postMessageWithOperation(Ge,Dt,gt){const Mt=this.waitForOperationCompleted(gt),rn=this.postMessage(Ge,Dt);return Promise.all([rn,Mt]).then(([,Fn])=>Fn)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Ge){let Dt;return Dt="string"==typeof Ge?gt=>gt.type===Ge:gt=>Ge.includes(gt.type),this.events.pipe((0,kt.h)(Dt))}nextEventOfType(Ge){return this.eventsOfType(Ge).pipe((0,we.q)(1))}waitForOperationCompleted(Ge){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,kt.h)(Dt=>Dt.nonce===Ge),(0,we.q)(1),(0,$e.U)(Dt=>{if(void 0!==Dt.result)return Dt.result;throw new Error(Dt.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Dn=(()=>{var Ce;class Ge{get isEnabled(){return this.sw.isEnabled}constructor(gt){if(this.sw=gt,this.pushManager=null,this.subscriptionChanges=new en.x,!gt.isEnabled)return this.messages=Vt,this.notificationClicks=Vt,void(this.subscription=Vt);this.messages=this.sw.eventsOfType("PUSH").pipe((0,$e.U)(rn=>rn.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,$e.U)(rn=>rn.data)),this.pushManager=this.sw.registration.pipe((0,$e.U)(rn=>rn.pushManager));const Mt=this.pushManager.pipe((0,qt.w)(rn=>rn.getSubscription()));this.subscription=(0,At.T)(Mt,this.subscriptionChanges)}requestSubscription(gt){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Nr));const Mt={userVisibleOnly:!0};let rn=this.decodeBase64(gt.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),Fn=new Uint8Array(new ArrayBuffer(rn.length));for(let mr=0;mr<rn.length;mr++)Fn[mr]=rn.charCodeAt(mr);return Mt.applicationServerKey=Fn,this.pushManager.pipe((0,qt.w)(mr=>mr.subscribe(Mt)),(0,we.q)(1)).toPromise().then(mr=>(this.subscriptionChanges.next(mr),mr))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,we.q)(1),(0,qt.w)(Mt=>{if(null===Mt)throw new Error("Not subscribed to push notifications.");return Mt.unsubscribe().then(rn=>{if(!rn)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Nr))}decodeBase64(gt){return atob(gt)}}return(Ce=Ge).\u0275fac=function(gt){return new(gt||Ce)(M.LFG(ur))},Ce.\u0275prov=M.Yz7({token:Ce,factory:Ce.\u0275fac}),Ge})(),Qn=(()=>{var Ce;class Ge{get isEnabled(){return this.sw.isEnabled}constructor(gt){if(this.sw=gt,!gt.isEnabled)return this.versionUpdates=Vt,void(this.unrecoverable=Vt);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Nr));const gt=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:gt},gt)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Nr));const gt=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:gt},gt)}}return(Ce=Ge).\u0275fac=function(gt){return new(gt||Ce)(M.LFG(ur))},Ce.\u0275prov=M.Yz7({token:Ce,factory:Ce.\u0275fac}),Ge})();const kr=new M.OlP("NGSW_REGISTER_SCRIPT");function Vn(Ce,Ge,Dt,gt){return()=>{if(!(0,Re.NF)(gt)||!("serviceWorker"in navigator)||!1===Dt.enabled)return;let Mt;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof Dt.registrationStrategy)Mt=Dt.registrationStrategy();else{const[Fn,...mr]=(Dt.registrationStrategy||"registerWhenStable:30000").split(":");switch(Fn){case"registerImmediately":Mt=(0,Ft.of)(null);break;case"registerWithDelay":Mt=Hn(+mr[0]||0);break;case"registerWhenStable":Mt=mr[0]?(0,At.T)(Lr(Ce),Hn(+mr[0])):Lr(Ce);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${Dt.registrationStrategy}`)}}Ce.get(M.R0b).runOutsideAngular(()=>Mt.pipe((0,we.q)(1)).subscribe(()=>navigator.serviceWorker.register(Ge,{scope:Dt.scope}).catch(Fn=>console.error("Service worker registration failed with:",Fn))))}}function Hn(Ce){return(0,Ft.of)(null).pipe(function er(Ce,Ge=br.z){const Dt=function bn(Ce=0,Ge,Dt=br.P){let gt=-1;return null!=Ge&&((0,cr.K)(Ge)?Dt=Ge:gt=Ge),new $t.y(Mt=>{let rn=function fn(Ce){return Ce instanceof Date&&!isNaN(Ce)}(Ce)?+Ce-Dt.now():Ce;rn<0&&(rn=0);let Fn=0;return Dt.schedule(function(){Mt.closed||(Mt.next(Fn++),0<=gt?this.schedule(void 0,gt):Mt.complete())},rn)})}(Ce,Ge);return Hr(()=>Dt)}(Ce))}function Lr(Ce){return Ce.get(M.z2F).isStable.pipe((0,kt.h)(Dt=>Dt))}function Ir(Ce,Ge){return new ur((0,Re.NF)(Ge)&&!1!==Ce.enabled?navigator.serviceWorker:void 0)}class hr{}function He(Ce,Ge={}){return(0,M.MR2)([Dn,Qn,{provide:kr,useValue:Ce},{provide:hr,useValue:Ge},{provide:ur,useFactory:Ir,deps:[hr,M.Lbi]},{provide:M.ip1,useFactory:Vn,deps:[M.zs3,kr,hr,M.Lbi],multi:!0}])}let te=(()=>{var Ce;class Ge{static register(gt,Mt={}){return{ngModule:Ge,providers:[He(gt,Mt)]}}}return(Ce=Ge).\u0275fac=function(gt){return new(gt||Ce)},Ce.\u0275mod=M.oAB({type:Ce}),Ce.\u0275inj=M.cJS({providers:[Dn,Qn]}),Ge})();var B=w(9862);let R=(()=>{var Ce;class Ge{}return(Ce=Ge).\u0275fac=function(gt){return new(gt||Ce)},Ce.\u0275mod=M.oAB({type:Ce,bootstrap:[ve]}),Ce.\u0275inj=M.cJS({providers:[{provide:H.wN,useClass:Q.r4}],imports:[l.b2,B.JF,_e.Pc.forRoot(),cn,le.hO,pe.ww,le.hO.initializeApp(tt_firebase),(0,Xt.hX)(()=>(0,Xt.ZF)(tt_firebase)),(0,he.Cm)(()=>(0,he.ad)()),(0,ne.Vq)(()=>(0,ne.cF)()),(0,ue.AR)(()=>(0,ue.v0)()),te.register("ngsw-worker.js",{enabled:!(0,M.X6Q)(),registrationStrategy:"registerWhenStable:30000"})]}),Ge})();var W=w(9852);(0,M.G48)(),l.q6().bootstrapModule(R).catch(Ce=>console.log(Ce)),window,typeof window>"u"?Promise.resolve():(0,W.p)().then(()=>(0,W.b)([["pwa-camera-modal",[[1,"pwa-camera-modal",{facingMode:[1,"facing-mode"],present:[64],dismiss:[64]}]]],["pwa-action-sheet",[[1,"pwa-action-sheet",{header:[1],cancelable:[4],options:[16],open:[32]}]]],["pwa-toast",[[1,"pwa-toast",{message:[1],duration:[2],closing:[32]}]]],["pwa-camera",[[1,"pwa-camera",{facingMode:[1,"facing-mode"],handlePhoto:[16],handleNoDeviceError:[16],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"],photo:[32],photoSrc:[32],showShutterOverlay:[32],flashIndex:[32],hasCamera:[32],rotation:[32],deviceError:[32]}]]],["pwa-camera-modal-instance",[[1,"pwa-camera-modal-instance",{facingMode:[1,"facing-mode"],noDevicesText:[1,"no-devices-text"],noDevicesButtonText:[1,"no-devices-button-text"]},[[16,"keyup","handleBackdropKeyUp"]]]]]],undefined))},5619:(ln,nt,w)=>{"use strict";w.d(nt,{X:()=>M});var l=w(8645);class M extends l.x{constructor(Q){super(),this._value=Q}get value(){return this.getValue()}_subscribe(Q){const _e=super._subscribe(Q);return!_e.closed&&Q.next(this._value),_e}getValue(){const{hasError:Q,thrownError:_e,_value:le}=this;if(Q)throw _e;return this._throwIfClosed(),le}next(Q){super.next(this._value=Q)}}},5592:(ln,nt,w)=>{"use strict";w.d(nt,{y:()=>ve});var l=w(305),M=w(7394),H=w(4850),Q=w(8407),_e=w(2653),le=w(4674),pe=w(1441);let ve=(()=>{class $e{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const Ke=new $e;return Ke.source=this,Ke.operator=xe,Ke}subscribe(xe,Ke,rt){const Be=function fe($e){return $e&&$e instanceof l.Lv||function ue($e){return $e&&(0,le.m)($e.next)&&(0,le.m)($e.error)&&(0,le.m)($e.complete)}($e)&&(0,M.Nn)($e)}(xe)?xe:new l.Hp(xe,Ke,rt);return(0,pe.x)(()=>{const{operator:Le,source:ze}=this;Be.add(Le?Le.call(Be,ze):ze?this._subscribe(Be):this._trySubscribe(Be))}),Be}_trySubscribe(xe){try{return this._subscribe(xe)}catch(Ke){xe.error(Ke)}}forEach(xe,Ke){return new(Ke=Ye(Ke))((rt,Be)=>{const Le=new l.Hp({next:ze=>{try{xe(ze)}catch(dt){Be(dt),Le.unsubscribe()}},error:Be,complete:rt});this.subscribe(Le)})}_subscribe(xe){var Ke;return null===(Ke=this.source)||void 0===Ke?void 0:Ke.subscribe(xe)}[H.L](){return this}pipe(...xe){return(0,Q.U)(xe)(this)}toPromise(xe){return new(xe=Ye(xe))((Ke,rt)=>{let Be;this.subscribe(Le=>Be=Le,Le=>rt(Le),()=>Ke(Be))})}}return $e.create=we=>new $e(we),$e})();function Ye($e){var we;return null!==(we=null!=$e?$e:_e.config.Promise)&&void 0!==we?we:Promise}},8645:(ln,nt,w)=>{"use strict";w.d(nt,{x:()=>pe});var l=w(5592),M=w(7394);const Q=(0,w(2306).d)(Ye=>function(){Ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=w(9039),le=w(1441);let pe=(()=>{class Ye extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(fe){const $e=new ve(this,this);return $e.operator=fe,$e}_throwIfClosed(){if(this.closed)throw new Q}next(fe){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const $e of this.currentObservers)$e.next(fe)}})}error(fe){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=fe;const{observers:$e}=this;for(;$e.length;)$e.shift().error(fe)}})}complete(){(0,le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:fe}=this;for(;fe.length;)fe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var fe;return(null===(fe=this.observers)||void 0===fe?void 0:fe.length)>0}_trySubscribe(fe){return this._throwIfClosed(),super._trySubscribe(fe)}_subscribe(fe){return this._throwIfClosed(),this._checkFinalizedStatuses(fe),this._innerSubscribe(fe)}_innerSubscribe(fe){const{hasError:$e,isStopped:we,observers:xe}=this;return $e||we?M.Lc:(this.currentObservers=null,xe.push(fe),new M.w0(()=>{this.currentObservers=null,(0,_e.P)(xe,fe)}))}_checkFinalizedStatuses(fe){const{hasError:$e,thrownError:we,isStopped:xe}=this;$e?fe.error(we):xe&&fe.complete()}asObservable(){const fe=new l.y;return fe.source=this,fe}}return Ye.create=(ue,fe)=>new ve(ue,fe),Ye})();class ve extends pe{constructor(ue,fe){super(),this.destination=ue,this.source=fe}next(ue){var fe,$e;null===($e=null===(fe=this.destination)||void 0===fe?void 0:fe.next)||void 0===$e||$e.call(fe,ue)}error(ue){var fe,$e;null===($e=null===(fe=this.destination)||void 0===fe?void 0:fe.error)||void 0===$e||$e.call(fe,ue)}complete(){var ue,fe;null===(fe=null===(ue=this.destination)||void 0===ue?void 0:ue.complete)||void 0===fe||fe.call(ue)}_subscribe(ue){var fe,$e;return null!==($e=null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(ue))&&void 0!==$e?$e:M.Lc}}},305:(ln,nt,w)=>{"use strict";w.d(nt,{Hp:()=>rt,Lv:()=>$e});var l=w(4674),M=w(7394),H=w(2653),Q=w(3894),_e=w(2420);const le=Ye("C",void 0,void 0);function Ye(qe,je,Xe){return{kind:qe,value:je,error:Xe}}var ue=w(7599),fe=w(1441);class $e extends M.w0{constructor(je){super(),this.isStopped=!1,je?(this.destination=je,(0,M.Nn)(je)&&je.add(this)):this.destination=dt}static create(je,Xe,Se){return new rt(je,Xe,Se)}next(je){this.isStopped?ze(function ve(qe){return Ye("N",qe,void 0)}(je),this):this._next(je)}error(je){this.isStopped?ze(function pe(qe){return Ye("E",void 0,qe)}(je),this):(this.isStopped=!0,this._error(je))}complete(){this.isStopped?ze(le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(je){this.destination.next(je)}_error(je){try{this.destination.error(je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const we=Function.prototype.bind;function xe(qe,je){return we.call(qe,je)}class Ke{constructor(je){this.partialObserver=je}next(je){const{partialObserver:Xe}=this;if(Xe.next)try{Xe.next(je)}catch(Se){Be(Se)}}error(je){const{partialObserver:Xe}=this;if(Xe.error)try{Xe.error(je)}catch(Se){Be(Se)}else Be(je)}complete(){const{partialObserver:je}=this;if(je.complete)try{je.complete()}catch(Xe){Be(Xe)}}}class rt extends $e{constructor(je,Xe,Se){let ge;if(super(),(0,l.m)(je)||!je)ge={next:null!=je?je:void 0,error:null!=Xe?Xe:void 0,complete:null!=Se?Se:void 0};else{let X;this&&H.config.useDeprecatedNextContext?(X=Object.create(je),X.unsubscribe=()=>this.unsubscribe(),ge={next:je.next&&xe(je.next,X),error:je.error&&xe(je.error,X),complete:je.complete&&xe(je.complete,X)}):ge=je}this.destination=new Ke(ge)}}function Be(qe){H.config.useDeprecatedSynchronousErrorHandling?(0,fe.O)(qe):(0,Q.h)(qe)}function ze(qe,je){const{onStoppedNotification:Xe}=H.config;Xe&&ue.z.setTimeout(()=>Xe(qe,je))}const dt={closed:!0,next:_e.Z,error:function Le(qe){throw qe},complete:_e.Z}},7394:(ln,nt,w)=>{"use strict";w.d(nt,{Lc:()=>le,w0:()=>_e,Nn:()=>pe});var l=w(4674);const H=(0,w(2306).d)(Ye=>function(fe){Ye(this),this.message=fe?`${fe.length} errors occurred during unsubscription:\n${fe.map(($e,we)=>`${we+1}) ${$e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=fe});var Q=w(9039);class _e{constructor(ue){this.initialTeardown=ue,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ue;if(!this.closed){this.closed=!0;const{_parentage:fe}=this;if(fe)if(this._parentage=null,Array.isArray(fe))for(const xe of fe)xe.remove(this);else fe.remove(this);const{initialTeardown:$e}=this;if((0,l.m)($e))try{$e()}catch(xe){ue=xe instanceof H?xe.errors:[xe]}const{_finalizers:we}=this;if(we){this._finalizers=null;for(const xe of we)try{ve(xe)}catch(Ke){ue=null!=ue?ue:[],Ke instanceof H?ue=[...ue,...Ke.errors]:ue.push(Ke)}}if(ue)throw new H(ue)}}add(ue){var fe;if(ue&&ue!==this)if(this.closed)ve(ue);else{if(ue instanceof _e){if(ue.closed||ue._hasParent(this))return;ue._addParent(this)}(this._finalizers=null!==(fe=this._finalizers)&&void 0!==fe?fe:[]).push(ue)}}_hasParent(ue){const{_parentage:fe}=this;return fe===ue||Array.isArray(fe)&&fe.includes(ue)}_addParent(ue){const{_parentage:fe}=this;this._parentage=Array.isArray(fe)?(fe.push(ue),fe):fe?[fe,ue]:ue}_removeParent(ue){const{_parentage:fe}=this;fe===ue?this._parentage=null:Array.isArray(fe)&&(0,Q.P)(fe,ue)}remove(ue){const{_finalizers:fe}=this;fe&&(0,Q.P)(fe,ue),ue instanceof _e&&ue._removeParent(this)}}_e.EMPTY=(()=>{const Ye=new _e;return Ye.closed=!0,Ye})();const le=_e.EMPTY;function pe(Ye){return Ye instanceof _e||Ye&&"closed"in Ye&&(0,l.m)(Ye.remove)&&(0,l.m)(Ye.add)&&(0,l.m)(Ye.unsubscribe)}function ve(Ye){(0,l.m)(Ye)?Ye():Ye.unsubscribe()}},2653:(ln,nt,w)=>{"use strict";w.d(nt,{config:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3168:(ln,nt,w)=>{"use strict";w.d(nt,{c:()=>le});var l=w(5592),M=w(7394),H=w(6196),Q=w(8251),_e=w(9360);class le extends l.y{constructor(ve,Ye){super(),this.source=ve,this.subjectFactory=Ye,this._subject=null,this._refCount=0,this._connection=null,(0,_e.A)(ve)&&(this.lift=ve.lift)}_subscribe(ve){return this.getSubject().subscribe(ve)}getSubject(){const ve=this._subject;return(!ve||ve.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:ve}=this;this._subject=this._connection=null,null==ve||ve.unsubscribe()}connect(){let ve=this._connection;if(!ve){ve=this._connection=new M.w0;const Ye=this.getSubject();ve.add(this.source.subscribe((0,Q.x)(Ye,void 0,()=>{this._teardown(),Ye.complete()},ue=>{this._teardown(),Ye.error(ue)},()=>this._teardown()))),ve.closed&&(this._connection=null,ve=M.w0.EMPTY)}return ve}refCount(){return(0,H.x)()(this)}}},2572:(ln,nt,w)=>{"use strict";w.d(nt,{a:()=>ue});var l=w(5592),M=w(7453),H=w(2459),Q=w(2737),_e=w(7400),le=w(9940),pe=w(2714),ve=w(8251),Ye=w(7103);function ue(...we){const xe=(0,le.yG)(we),Ke=(0,le.jO)(we),{args:rt,keys:Be}=(0,M.D)(we);if(0===rt.length)return(0,H.D)([],xe);const Le=new l.y(function fe(we,xe,Ke=Q.y){return rt=>{$e(xe,()=>{const{length:Be}=we,Le=new Array(Be);let ze=Be,dt=Be;for(let qe=0;qe<Be;qe++)$e(xe,()=>{const je=(0,H.D)(we[qe],xe);let Xe=!1;je.subscribe((0,ve.x)(rt,Se=>{Le[qe]=Se,Xe||(Xe=!0,dt--),dt||rt.next(Ke(Le.slice()))},()=>{--ze||rt.complete()}))},rt)},rt)}}(rt,xe,Be?ze=>(0,pe.n)(Be,ze):Q.y));return Ke?Le.pipe((0,_e.Z)(Ke)):Le}function $e(we,xe,Ke){we?(0,Ye.f)(Ke,we,xe):xe()}},5211:(ln,nt,w)=>{"use strict";w.d(nt,{z:()=>_e});var l=w(7537),H=w(9940),Q=w(2459);function _e(...le){return function M(){return(0,l.J)(1)}()((0,Q.D)(le,(0,H.yG)(le)))}},4911:(ln,nt,w)=>{"use strict";w.d(nt,{P:()=>H});var l=w(5592),M=w(4829);function H(Q){return new l.y(_e=>{(0,M.Xf)(Q()).subscribe(_e)})}},6232:(ln,nt,w)=>{"use strict";w.d(nt,{E:()=>M});const M=new(w(5592).y)(_e=>_e.complete())},2459:(ln,nt,w)=>{"use strict";w.d(nt,{D:()=>je});var l=w(4829),M=w(3093),H=w(5137),le=w(5592),ve=w(4971),Ye=w(4674),ue=w(7103);function $e(Xe,Se){if(!Xe)throw new Error("Iterable cannot be null");return new le.y(ge=>{(0,ue.f)(ge,Se,()=>{const X=Xe[Symbol.asyncIterator]();(0,ue.f)(ge,Se,()=>{X.next().then(ke=>{ke.done?ge.complete():ge.next(ke.value)})},0,!0)})})}var we=w(8382),xe=w(4026),Ke=w(4266),rt=w(3664),Be=w(5726),Le=w(9853),ze=w(541);function je(Xe,Se){return Se?function qe(Xe,Se){if(null!=Xe){if((0,we.c)(Xe))return function Q(Xe,Se){return(0,l.Xf)(Xe).pipe((0,H.R)(Se),(0,M.Q)(Se))}(Xe,Se);if((0,Ke.z)(Xe))return function pe(Xe,Se){return new le.y(ge=>{let X=0;return Se.schedule(function(){X===Xe.length?ge.complete():(ge.next(Xe[X++]),ge.closed||this.schedule())})})}(Xe,Se);if((0,xe.t)(Xe))return function _e(Xe,Se){return(0,l.Xf)(Xe).pipe((0,H.R)(Se),(0,M.Q)(Se))}(Xe,Se);if((0,Be.D)(Xe))return $e(Xe,Se);if((0,rt.T)(Xe))return function fe(Xe,Se){return new le.y(ge=>{let X;return(0,ue.f)(ge,Se,()=>{X=Xe[ve.h](),(0,ue.f)(ge,Se,()=>{let ke,Ve;try{({value:ke,done:Ve}=X.next())}catch(ft){return void ge.error(ft)}Ve?ge.complete():ge.next(ke)},0,!0)}),()=>(0,Ye.m)(null==X?void 0:X.return)&&X.return()})}(Xe,Se);if((0,ze.L)(Xe))return function dt(Xe,Se){return $e((0,ze.Q)(Xe),Se)}(Xe,Se)}throw(0,Le.z)(Xe)}(Xe,Se):(0,l.Xf)(Xe)}},2438:(ln,nt,w)=>{"use strict";w.d(nt,{R:()=>ue});var l=w(4829),M=w(5592),H=w(1631),Q=w(4266),_e=w(4674),le=w(7400);const pe=["addListener","removeListener"],ve=["addEventListener","removeEventListener"],Ye=["on","off"];function ue(Ke,rt,Be,Le){if((0,_e.m)(Be)&&(Le=Be,Be=void 0),Le)return ue(Ke,rt,Be).pipe((0,le.Z)(Le));const[ze,dt]=function xe(Ke){return(0,_e.m)(Ke.addEventListener)&&(0,_e.m)(Ke.removeEventListener)}(Ke)?ve.map(qe=>je=>Ke[qe](rt,je,Be)):function $e(Ke){return(0,_e.m)(Ke.addListener)&&(0,_e.m)(Ke.removeListener)}(Ke)?pe.map(fe(Ke,rt)):function we(Ke){return(0,_e.m)(Ke.on)&&(0,_e.m)(Ke.off)}(Ke)?Ye.map(fe(Ke,rt)):[];if(!ze&&(0,Q.z)(Ke))return(0,H.z)(qe=>ue(qe,rt,Be))((0,l.Xf)(Ke));if(!ze)throw new TypeError("Invalid event target");return new M.y(qe=>{const je=(...Xe)=>qe.next(1<Xe.length?Xe:Xe[0]);return ze(je),()=>dt(je)})}function fe(Ke,rt){return Be=>Le=>Ke[Be](rt,Le)}},4829:(ln,nt,w)=>{"use strict";w.d(nt,{Xf:()=>we});var l=w(7582),M=w(4266),H=w(4026),Q=w(5592),_e=w(8382),le=w(5726),pe=w(9853),ve=w(3664),Ye=w(541),ue=w(4674),fe=w(3894),$e=w(4850);function we(qe){if(qe instanceof Q.y)return qe;if(null!=qe){if((0,_e.c)(qe))return function xe(qe){return new Q.y(je=>{const Xe=qe[$e.L]();if((0,ue.m)(Xe.subscribe))return Xe.subscribe(je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(qe);if((0,M.z)(qe))return function Ke(qe){return new Q.y(je=>{for(let Xe=0;Xe<qe.length&&!je.closed;Xe++)je.next(qe[Xe]);je.complete()})}(qe);if((0,H.t)(qe))return function rt(qe){return new Q.y(je=>{qe.then(Xe=>{je.closed||(je.next(Xe),je.complete())},Xe=>je.error(Xe)).then(null,fe.h)})}(qe);if((0,le.D)(qe))return Le(qe);if((0,ve.T)(qe))return function Be(qe){return new Q.y(je=>{for(const Xe of qe)if(je.next(Xe),je.closed)return;je.complete()})}(qe);if((0,Ye.L)(qe))return function ze(qe){return Le((0,Ye.Q)(qe))}(qe)}throw(0,pe.z)(qe)}function Le(qe){return new Q.y(je=>{(function dt(qe,je){var Xe,Se,ge,X;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Xe=(0,l.KL)(qe);!(Se=yield Xe.next()).done;)if(je.next(Se.value),je.closed)return}catch(ke){ge={error:ke}}finally{try{Se&&!Se.done&&(X=Xe.return)&&(yield X.call(Xe))}finally{if(ge)throw ge.error}}je.complete()})})(qe,je).catch(Xe=>je.error(Xe))})}},3019:(ln,nt,w)=>{"use strict";w.d(nt,{T:()=>le});var l=w(7537),M=w(4829),H=w(6232),Q=w(9940),_e=w(2459);function le(...pe){const ve=(0,Q.yG)(pe),Ye=(0,Q._6)(pe,1/0),ue=pe;return ue.length?1===ue.length?(0,M.Xf)(ue[0]):(0,l.J)(Ye)((0,_e.D)(ue,ve)):H.E}},2096:(ln,nt,w)=>{"use strict";w.d(nt,{of:()=>H});var l=w(9940),M=w(2459);function H(...Q){const _e=(0,l.yG)(Q);return(0,M.D)(Q,_e)}},8504:(ln,nt,w)=>{"use strict";w.d(nt,{_:()=>H});var l=w(5592),M=w(4674);function H(Q,_e){const le=(0,M.m)(Q)?Q:()=>Q,pe=ve=>ve.error(le());return new l.y(_e?ve=>_e.schedule(pe,0,ve):pe)}},8251:(ln,nt,w)=>{"use strict";w.d(nt,{x:()=>M});var l=w(305);function M(Q,_e,le,pe,ve){return new H(Q,_e,le,pe,ve)}class H extends l.Lv{constructor(_e,le,pe,ve,Ye,ue){super(_e),this.onFinalize=Ye,this.shouldUnsubscribe=ue,this._next=le?function(fe){try{le(fe)}catch($e){_e.error($e)}}:super._next,this._error=ve?function(fe){try{ve(fe)}catch($e){_e.error($e)}finally{this.unsubscribe()}}:super._error,this._complete=pe?function(){try{pe()}catch(fe){_e.error(fe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var _e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:le}=this;super.unsubscribe(),!le&&(null===(_e=this.onFinalize)||void 0===_e||_e.call(this))}}}},6328:(ln,nt,w)=>{"use strict";w.d(nt,{b:()=>H});var l=w(1631),M=w(4674);function H(Q,_e){return(0,M.m)(_e)?(0,l.z)(Q,_e,1):(0,l.z)(Q,1)}},3572:(ln,nt,w)=>{"use strict";w.d(nt,{d:()=>H});var l=w(9360),M=w(8251);function H(Q){return(0,l.e)((_e,le)=>{let pe=!1;_e.subscribe((0,M.x)(le,ve=>{pe=!0,le.next(ve)},()=>{pe||le.next(Q),le.complete()}))})}},3997:(ln,nt,w)=>{"use strict";w.d(nt,{x:()=>Q});var l=w(2737),M=w(9360),H=w(8251);function Q(le,pe=l.y){return le=null!=le?le:_e,(0,M.e)((ve,Ye)=>{let ue,fe=!0;ve.subscribe((0,H.x)(Ye,$e=>{const we=pe($e);(fe||!le(ue,we))&&(fe=!1,ue=we,Ye.next($e))}))})}function _e(le,pe){return le===pe}},2181:(ln,nt,w)=>{"use strict";w.d(nt,{h:()=>H});var l=w(9360),M=w(8251);function H(Q,_e){return(0,l.e)((le,pe)=>{let ve=0;le.subscribe((0,M.x)(pe,Ye=>Q.call(_e,Ye,ve++)&&pe.next(Ye)))})}},4716:(ln,nt,w)=>{"use strict";w.d(nt,{x:()=>M});var l=w(9360);function M(H){return(0,l.e)((Q,_e)=>{try{Q.subscribe(_e)}finally{_e.add(H)}})}},1374:(ln,nt,w)=>{"use strict";w.d(nt,{P:()=>pe});var l=w(6973),M=w(2181),H=w(8180),Q=w(3572),_e=w(3026),le=w(2737);function pe(ve,Ye){const ue=arguments.length>=2;return fe=>fe.pipe(ve?(0,M.h)(($e,we)=>ve($e,we,fe)):le.y,(0,H.q)(1),ue?(0,Q.d)(Ye):(0,_e.T)(()=>new l.K))}},7398:(ln,nt,w)=>{"use strict";w.d(nt,{U:()=>H});var l=w(9360),M=w(8251);function H(Q,_e){return(0,l.e)((le,pe)=>{let ve=0;le.subscribe((0,M.x)(pe,Ye=>{pe.next(Q.call(_e,Ye,ve++))}))})}},975:(ln,nt,w)=>{"use strict";w.d(nt,{h:()=>M});var l=w(7398);function M(H){return(0,l.U)(()=>H)}},7537:(ln,nt,w)=>{"use strict";w.d(nt,{J:()=>H});var l=w(1631),M=w(2737);function H(Q=1/0){return(0,l.z)(M.y,Q)}},1631:(ln,nt,w)=>{"use strict";w.d(nt,{z:()=>ve});var l=w(7398),M=w(4829),H=w(9360),Q=w(7103),_e=w(8251),pe=w(4674);function ve(Ye,ue,fe=1/0){return(0,pe.m)(ue)?ve(($e,we)=>(0,l.U)((xe,Ke)=>ue($e,xe,we,Ke))((0,M.Xf)(Ye($e,we))),fe):("number"==typeof ue&&(fe=ue),(0,H.e)(($e,we)=>function le(Ye,ue,fe,$e,we,xe,Ke,rt){const Be=[];let Le=0,ze=0,dt=!1;const qe=()=>{dt&&!Be.length&&!Le&&ue.complete()},je=Se=>Le<$e?Xe(Se):Be.push(Se),Xe=Se=>{xe&&ue.next(Se),Le++;let ge=!1;(0,M.Xf)(fe(Se,ze++)).subscribe((0,_e.x)(ue,X=>{null==we||we(X),xe?je(X):ue.next(X)},()=>{ge=!0},void 0,()=>{if(ge)try{for(Le--;Be.length&&Le<$e;){const X=Be.shift();Ke?(0,Q.f)(ue,Ke,()=>Xe(X)):Xe(X)}qe()}catch(X){ue.error(X)}}))};return Ye.subscribe((0,_e.x)(ue,je,()=>{dt=!0,qe()})),()=>{null==rt||rt()}}($e,we,Ye,fe)))}},3093:(ln,nt,w)=>{"use strict";w.d(nt,{Q:()=>Q});var l=w(7103),M=w(9360),H=w(8251);function Q(_e,le=0){return(0,M.e)((pe,ve)=>{pe.subscribe((0,H.x)(ve,Ye=>(0,l.f)(ve,_e,()=>ve.next(Ye),le),()=>(0,l.f)(ve,_e,()=>ve.complete(),le),Ye=>(0,l.f)(ve,_e,()=>ve.error(Ye),le)))})}},6196:(ln,nt,w)=>{"use strict";w.d(nt,{x:()=>H});var l=w(9360),M=w(8251);function H(){return(0,l.e)((Q,_e)=>{let le=null;Q._refCount++;const pe=(0,M.x)(_e,void 0,void 0,void 0,()=>{if(!Q||Q._refCount<=0||0<--Q._refCount)return void(le=null);const ve=Q._connection,Ye=le;le=null,ve&&(!Ye||ve===Ye)&&ve.unsubscribe(),_e.unsubscribe()});Q.subscribe(pe),pe.closed||(le=Q.connect())})}},6699:(ln,nt,w)=>{"use strict";w.d(nt,{R:()=>Q});var l=w(9360),M=w(8251);function Q(_e,le){return(0,l.e)(function H(_e,le,pe,ve,Ye){return(ue,fe)=>{let $e=pe,we=le,xe=0;ue.subscribe((0,M.x)(fe,Ke=>{const rt=xe++;we=$e?_e(we,Ke,rt):($e=!0,Ke),ve&&fe.next(we)},Ye&&(()=>{$e&&fe.next(we),fe.complete()})))}}(_e,le,arguments.length>=2,!0))}},3020:(ln,nt,w)=>{"use strict";w.d(nt,{B:()=>_e});var l=w(4829),M=w(8645),H=w(305),Q=w(9360);function _e(pe={}){const{connector:ve=(()=>new M.x),resetOnError:Ye=!0,resetOnComplete:ue=!0,resetOnRefCountZero:fe=!0}=pe;return $e=>{let we,xe,Ke,rt=0,Be=!1,Le=!1;const ze=()=>{null==xe||xe.unsubscribe(),xe=void 0},dt=()=>{ze(),we=Ke=void 0,Be=Le=!1},qe=()=>{const je=we;dt(),null==je||je.unsubscribe()};return(0,Q.e)((je,Xe)=>{rt++,!Le&&!Be&&ze();const Se=Ke=null!=Ke?Ke:ve();Xe.add(()=>{rt--,0===rt&&!Le&&!Be&&(xe=le(qe,fe))}),Se.subscribe(Xe),!we&&rt>0&&(we=new H.Hp({next:ge=>Se.next(ge),error:ge=>{Le=!0,ze(),xe=le(dt,Ye,ge),Se.error(ge)},complete:()=>{Be=!0,ze(),xe=le(dt,ue),Se.complete()}}),(0,l.Xf)(je).subscribe(we))})($e)}}function le(pe,ve,...Ye){if(!0===ve)return void pe();if(!1===ve)return;const ue=new H.Hp({next:()=>{ue.unsubscribe(),pe()}});return(0,l.Xf)(ve(...Ye)).subscribe(ue)}},7921:(ln,nt,w)=>{"use strict";w.d(nt,{O:()=>Q});var l=w(5211),M=w(9940),H=w(9360);function Q(..._e){const le=(0,M.yG)(_e);return(0,H.e)((pe,ve)=>{(le?(0,l.z)(_e,pe,le):(0,l.z)(_e,pe)).subscribe(ve)})}},5137:(ln,nt,w)=>{"use strict";w.d(nt,{R:()=>M});var l=w(9360);function M(H,Q=0){return(0,l.e)((_e,le)=>{le.add(H.schedule(()=>_e.subscribe(le),Q))})}},4664:(ln,nt,w)=>{"use strict";w.d(nt,{w:()=>Q});var l=w(4829),M=w(9360),H=w(8251);function Q(_e,le){return(0,M.e)((pe,ve)=>{let Ye=null,ue=0,fe=!1;const $e=()=>fe&&!Ye&&ve.complete();pe.subscribe((0,H.x)(ve,we=>{null==Ye||Ye.unsubscribe();let xe=0;const Ke=ue++;(0,l.Xf)(_e(we,Ke)).subscribe(Ye=(0,H.x)(ve,rt=>ve.next(le?le(we,rt,Ke,xe++):rt),()=>{Ye=null,$e()}))},()=>{fe=!0,$e()}))})}},8180:(ln,nt,w)=>{"use strict";w.d(nt,{q:()=>Q});var l=w(6232),M=w(9360),H=w(8251);function Q(_e){return _e<=0?()=>l.E:(0,M.e)((le,pe)=>{let ve=0;le.subscribe((0,H.x)(pe,Ye=>{++ve<=_e&&(pe.next(Ye),_e<=ve&&pe.complete())}))})}},9397:(ln,nt,w)=>{"use strict";w.d(nt,{b:()=>_e});var l=w(4674),M=w(9360),H=w(8251),Q=w(2737);function _e(le,pe,ve){const Ye=(0,l.m)(le)||pe||ve?{next:le,error:pe,complete:ve}:le;return Ye?(0,M.e)((ue,fe)=>{var $e;null===($e=Ye.subscribe)||void 0===$e||$e.call(Ye);let we=!0;ue.subscribe((0,H.x)(fe,xe=>{var Ke;null===(Ke=Ye.next)||void 0===Ke||Ke.call(Ye,xe),fe.next(xe)},()=>{var xe;we=!1,null===(xe=Ye.complete)||void 0===xe||xe.call(Ye),fe.complete()},xe=>{var Ke;we=!1,null===(Ke=Ye.error)||void 0===Ke||Ke.call(Ye,xe),fe.error(xe)},()=>{var xe,Ke;we&&(null===(xe=Ye.unsubscribe)||void 0===xe||xe.call(Ye)),null===(Ke=Ye.finalize)||void 0===Ke||Ke.call(Ye)}))}):Q.y}},3026:(ln,nt,w)=>{"use strict";w.d(nt,{T:()=>Q});var l=w(6973),M=w(9360),H=w(8251);function Q(le=_e){return(0,M.e)((pe,ve)=>{let Ye=!1;pe.subscribe((0,H.x)(ve,ue=>{Ye=!0,ve.next(ue)},()=>Ye?ve.complete():ve.error(le())))})}function _e(){return new l.K}},1954:(ln,nt,w)=>{"use strict";w.d(nt,{o:()=>_e});var l=w(7394);class M extends l.w0{constructor(pe,ve){super()}schedule(pe,ve=0){return this}}const H={setInterval(le,pe,...ve){const{delegate:Ye}=H;return null!=Ye&&Ye.setInterval?Ye.setInterval(le,pe,...ve):setInterval(le,pe,...ve)},clearInterval(le){const{delegate:pe}=H;return((null==pe?void 0:pe.clearInterval)||clearInterval)(le)},delegate:void 0};var Q=w(9039);class _e extends M{constructor(pe,ve){super(pe,ve),this.scheduler=pe,this.work=ve,this.pending=!1}schedule(pe,ve=0){var Ye;if(this.closed)return this;this.state=pe;const ue=this.id,fe=this.scheduler;return null!=ue&&(this.id=this.recycleAsyncId(fe,ue,ve)),this.pending=!0,this.delay=ve,this.id=null!==(Ye=this.id)&&void 0!==Ye?Ye:this.requestAsyncId(fe,this.id,ve),this}requestAsyncId(pe,ve,Ye=0){return H.setInterval(pe.flush.bind(pe,this),Ye)}recycleAsyncId(pe,ve,Ye=0){if(null!=Ye&&this.delay===Ye&&!1===this.pending)return ve;null!=ve&&H.clearInterval(ve)}execute(pe,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ye=this._execute(pe,ve);if(Ye)return Ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(pe,ve){let ue,Ye=!1;try{this.work(pe)}catch(fe){Ye=!0,ue=fe||new Error("Scheduled action threw falsy error")}if(Ye)return this.unsubscribe(),ue}unsubscribe(){if(!this.closed){const{id:pe,scheduler:ve}=this,{actions:Ye}=ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Q.P)(Ye,this),null!=pe&&(this.id=this.recycleAsyncId(ve,pe,null)),this.delay=null,super.unsubscribe()}}}},2631:(ln,nt,w)=>{"use strict";w.d(nt,{v:()=>H});var l=w(4552);class M{constructor(_e,le=M.now){this.schedulerActionCtor=_e,this.now=le}schedule(_e,le=0,pe){return new this.schedulerActionCtor(this,_e).schedule(pe,le)}}M.now=l.l.now;class H extends M{constructor(_e,le=M.now){super(_e,le),this.actions=[],this._active=!1}flush(_e){const{actions:le}=this;if(this._active)return void le.push(_e);let pe;this._active=!0;do{if(pe=_e.execute(_e.state,_e.delay))break}while(_e=le.shift());if(this._active=!1,pe){for(;_e=le.shift();)_e.unsubscribe();throw pe}}}},6321:(ln,nt,w)=>{"use strict";w.d(nt,{P:()=>Q,z:()=>H});var l=w(1954);const H=new(w(2631).v)(l.o),Q=H},4552:(ln,nt,w)=>{"use strict";w.d(nt,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},7599:(ln,nt,w)=>{"use strict";w.d(nt,{z:()=>l});const l={setTimeout(M,H,...Q){const{delegate:_e}=l;return null!=_e&&_e.setTimeout?_e.setTimeout(M,H,...Q):setTimeout(M,H,...Q)},clearTimeout(M){const{delegate:H}=l;return((null==H?void 0:H.clearTimeout)||clearTimeout)(M)},delegate:void 0}},4971:(ln,nt,w)=>{"use strict";w.d(nt,{h:()=>M});const M=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(ln,nt,w)=>{"use strict";w.d(nt,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},6973:(ln,nt,w)=>{"use strict";w.d(nt,{K:()=>M});const M=(0,w(2306).d)(H=>function(){H(this),this.name="EmptyError",this.message="no elements in sequence"})},9940:(ln,nt,w)=>{"use strict";w.d(nt,{_6:()=>le,jO:()=>Q,yG:()=>_e});var l=w(4674),M=w(671);function H(pe){return pe[pe.length-1]}function Q(pe){return(0,l.m)(H(pe))?pe.pop():void 0}function _e(pe){return(0,M.K)(H(pe))?pe.pop():void 0}function le(pe,ve){return"number"==typeof H(pe)?pe.pop():ve}},7453:(ln,nt,w)=>{"use strict";w.d(nt,{D:()=>_e});const{isArray:l}=Array,{getPrototypeOf:M,prototype:H,keys:Q}=Object;function _e(pe){if(1===pe.length){const ve=pe[0];if(l(ve))return{args:ve,keys:null};if(function le(pe){return pe&&"object"==typeof pe&&M(pe)===H}(ve)){const Ye=Q(ve);return{args:Ye.map(ue=>ve[ue]),keys:Ye}}}return{args:pe,keys:null}}},9039:(ln,nt,w)=>{"use strict";function l(M,H){if(M){const Q=M.indexOf(H);0<=Q&&M.splice(Q,1)}}w.d(nt,{P:()=>l})},2306:(ln,nt,w)=>{"use strict";function l(M){const Q=M(_e=>{Error.call(_e),_e.stack=(new Error).stack});return Q.prototype=Object.create(Error.prototype),Q.prototype.constructor=Q,Q}w.d(nt,{d:()=>l})},2714:(ln,nt,w)=>{"use strict";function l(M,H){return M.reduce((Q,_e,le)=>(Q[_e]=H[le],Q),{})}w.d(nt,{n:()=>l})},1441:(ln,nt,w)=>{"use strict";w.d(nt,{O:()=>Q,x:()=>H});var l=w(2653);let M=null;function H(_e){if(l.config.useDeprecatedSynchronousErrorHandling){const le=!M;if(le&&(M={errorThrown:!1,error:null}),_e(),le){const{errorThrown:pe,error:ve}=M;if(M=null,pe)throw ve}}else _e()}function Q(_e){l.config.useDeprecatedSynchronousErrorHandling&&M&&(M.errorThrown=!0,M.error=_e)}},7103:(ln,nt,w)=>{"use strict";function l(M,H,Q,_e=0,le=!1){const pe=H.schedule(function(){Q(),le?M.add(this.schedule(null,_e)):this.unsubscribe()},_e);if(M.add(pe),!le)return pe}w.d(nt,{f:()=>l})},2737:(ln,nt,w)=>{"use strict";function l(M){return M}w.d(nt,{y:()=>l})},4266:(ln,nt,w)=>{"use strict";w.d(nt,{z:()=>l});const l=M=>M&&"number"==typeof M.length&&"function"!=typeof M},5726:(ln,nt,w)=>{"use strict";w.d(nt,{D:()=>M});var l=w(4674);function M(H){return Symbol.asyncIterator&&(0,l.m)(null==H?void 0:H[Symbol.asyncIterator])}},4674:(ln,nt,w)=>{"use strict";function l(M){return"function"==typeof M}w.d(nt,{m:()=>l})},8382:(ln,nt,w)=>{"use strict";w.d(nt,{c:()=>H});var l=w(4850),M=w(4674);function H(Q){return(0,M.m)(Q[l.L])}},3664:(ln,nt,w)=>{"use strict";w.d(nt,{T:()=>H});var l=w(4971),M=w(4674);function H(Q){return(0,M.m)(null==Q?void 0:Q[l.h])}},4026:(ln,nt,w)=>{"use strict";w.d(nt,{t:()=>M});var l=w(4674);function M(H){return(0,l.m)(null==H?void 0:H.then)}},541:(ln,nt,w)=>{"use strict";w.d(nt,{L:()=>Q,Q:()=>H});var l=w(7582),M=w(4674);function H(_e){return(0,l.FC)(this,arguments,function*(){const pe=_e.getReader();try{for(;;){const{value:ve,done:Ye}=yield(0,l.qq)(pe.read());if(Ye)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ve)}}finally{pe.releaseLock()}})}function Q(_e){return(0,M.m)(null==_e?void 0:_e.getReader)}},671:(ln,nt,w)=>{"use strict";w.d(nt,{K:()=>M});var l=w(4674);function M(H){return H&&(0,l.m)(H.schedule)}},9360:(ln,nt,w)=>{"use strict";w.d(nt,{A:()=>M,e:()=>H});var l=w(4674);function M(Q){return(0,l.m)(null==Q?void 0:Q.lift)}function H(Q){return _e=>{if(M(_e))return _e.lift(function(le){try{return Q(le,this)}catch(pe){this.error(pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},7400:(ln,nt,w)=>{"use strict";w.d(nt,{Z:()=>Q});var l=w(7398);const{isArray:M}=Array;function Q(_e){return(0,l.U)(le=>function H(_e,le){return M(le)?_e(...le):_e(le)}(_e,le))}},2420:(ln,nt,w)=>{"use strict";function l(){}w.d(nt,{Z:()=>l})},8407:(ln,nt,w)=>{"use strict";w.d(nt,{U:()=>H,z:()=>M});var l=w(2737);function M(...Q){return H(Q)}function H(Q){return 0===Q.length?l.y:1===Q.length?Q[0]:function(le){return Q.reduce((pe,ve)=>ve(pe),le)}}},3894:(ln,nt,w)=>{"use strict";w.d(nt,{h:()=>H});var l=w(2653),M=w(7599);function H(Q){M.z.setTimeout(()=>{const{onUnhandledError:_e}=l.config;if(!_e)throw Q;_e(Q)})}},9853:(ln,nt,w)=>{"use strict";function l(M){return new TypeError(`You provided ${null!==M&&"object"==typeof M?"an invalid object":`'${M}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}w.d(nt,{z:()=>l})},9852:(ln,nt,w)=>{"use strict";w.d(nt,{H:()=>Le,b:()=>Yn,c:()=>je,f:()=>At,g:()=>qe,h:()=>rt,p:()=>kr,r:()=>Hr});var l=w(5861);let H,Q,_e=!1,le=!1;const ue={},xe=R=>"object"==(R=typeof R)||"function"===R;function Ke(R){var b,W,ie;return null!==(ie=null===(W=null===(b=R.head)||void 0===b?void 0:b.querySelector('meta[name="csp-nonce"]'))||void 0===W?void 0:W.getAttribute("content"))&&void 0!==ie?ie:void 0}const rt=(R,b,...W)=>{let ie=null,We=!1,Ce=!1;const Ge=[],Dt=Mt=>{for(let rn=0;rn<Mt.length;rn++)ie=Mt[rn],Array.isArray(ie)?Dt(ie):null!=ie&&"boolean"!=typeof ie&&((We="function"!=typeof R&&!xe(ie))&&(ie=String(ie)),We&&Ce?Ge[Ge.length-1].$text$+=ie:Ge.push(We?Be(null,ie):ie),Ce=We)};if(Dt(W),b){const Mt=b.className||b.class;Mt&&(b.class="object"!=typeof Mt?Mt:Object.keys(Mt).filter(rn=>Mt[rn]).join(" "))}const gt=Be(R,null);return gt.$attrs$=b,Ge.length>0&&(gt.$children$=Ge),gt},Be=(R,b)=>({$flags$:0,$tag$:R,$text$:b,$elm$:null,$children$:null,$attrs$:null}),Le={},qe=R=>xn(R).$hostElement$,je=(R,b,W)=>{const ie=qe(R);return{emit:We=>Xe(ie,b,{bubbles:!!(4&W),composed:!!(2&W),cancelable:!!(1&W),detail:We})}},Xe=(R,b,W)=>{const ie=Qn.ce(b,W);return R.dispatchEvent(ie),ie},Se=new WeakMap,Ve=(R,b)=>"sc-"+R.$tagName$,ft=(R,b,W,ie,We,Ce)=>{if(W!==ie){let Ge=fn(R,b),Dt=b.toLowerCase();if("class"===b){const gt=R.classList,Mt=yt(W),rn=yt(ie);gt.remove(...Mt.filter(Fn=>Fn&&!rn.includes(Fn))),gt.add(...rn.filter(Fn=>Fn&&!Mt.includes(Fn)))}else if("style"===b){for(const gt in W)(!ie||null==ie[gt])&&(gt.includes("-")?R.style.removeProperty(gt):R.style[gt]="");for(const gt in ie)(!W||ie[gt]!==W[gt])&&(gt.includes("-")?R.style.setProperty(gt,ie[gt]):R.style[gt]=ie[gt])}else if("ref"===b)ie&&ie(R);else if(Ge||"o"!==b[0]||"n"!==b[1]){const gt=xe(ie);if((Ge||gt&&null!==ie)&&!We)try{if(R.tagName.includes("-"))R[b]=ie;else{const Mt=null==ie?"":ie;"list"===b?Ge=!1:(null==W||R[b]!=Mt)&&(R[b]=Mt)}}catch{}null==ie||!1===ie?(!1!==ie||""===R.getAttribute(b))&&R.removeAttribute(b):(!Ge||4&Ce||We)&&!gt&&R.setAttribute(b,ie=!0===ie?"":ie)}else b="-"===b[2]?b.slice(3):fn(ur,Dt)?Dt.slice(2):Dt[2]+b.slice(3),W&&Qn.rel(R,b,W,!1),ie&&Qn.ael(R,b,ie,!1)}},lt=/\s/,yt=R=>R?R.split(lt):[],Wt=(R,b,W,ie)=>{const We=11===b.$elm$.nodeType&&b.$elm$.host?b.$elm$.host:b.$elm$,Ce=R&&R.$attrs$||ue,Ge=b.$attrs$||ue;for(ie in Ce)ie in Ge||ft(We,ie,Ce[ie],void 0,W,b.$flags$);for(ie in Ge)ft(We,ie,Ce[ie],Ge[ie],W,b.$flags$)},cn=(R,b,W,ie)=>{const We=b.$children$[W];let Ge,Dt,Ce=0;if(null!==We.$text$)Ge=We.$elm$=Dn.createTextNode(We.$text$);else{if(_e||(_e="svg"===We.$tag$),Ge=We.$elm$=Dn.createElementNS(_e?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",We.$tag$),_e&&"foreignObject"===We.$tag$&&(_e=!1),Wt(null,We,_e),(R=>null!=R)(H)&&Ge["s-si"]!==H&&Ge.classList.add(Ge["s-si"]=H),We.$children$)for(Ce=0;Ce<We.$children$.length;++Ce)Dt=cn(R,We,Ce),Dt&&Ge.appendChild(Dt);"svg"===We.$tag$?_e=!1:"foreignObject"===Ge.tagName&&(_e=!0)}return Ge},Xt=(R,b,W,ie,We,Ce)=>{let Dt,Ge=R;for(Ge.shadowRoot&&Ge.tagName===Q&&(Ge=Ge.shadowRoot);We<=Ce;++We)ie[We]&&(Dt=cn(null,W,We),Dt&&(ie[We].$elm$=Dt,Ge.insertBefore(Dt,b)))},tt=(R,b,W)=>{for(let ie=b;ie<=W;++ie){const We=R[ie];if(We){const Ce=We.$elm$;Ee(We),Ce&&Ce.remove()}}},ne=(R,b)=>R.$tag$===b.$tag$,Re=(R,b)=>{const W=b.$elm$=R.$elm$,ie=R.$children$,We=b.$children$,Ce=b.$tag$,Ge=b.$text$;null===Ge?(_e="svg"===Ce||"foreignObject"!==Ce&&_e,Wt(R,b,_e),null!==ie&&null!==We?((R,b,W,ie)=>{let mr,We=0,Ce=0,Ge=b.length-1,Dt=b[0],gt=b[Ge],Mt=ie.length-1,rn=ie[0],Fn=ie[Mt];for(;We<=Ge&&Ce<=Mt;)null==Dt?Dt=b[++We]:null==gt?gt=b[--Ge]:null==rn?rn=ie[++Ce]:null==Fn?Fn=ie[--Mt]:ne(Dt,rn)?(Re(Dt,rn),Dt=b[++We],rn=ie[++Ce]):ne(gt,Fn)?(Re(gt,Fn),gt=b[--Ge],Fn=ie[--Mt]):ne(Dt,Fn)?(Re(Dt,Fn),R.insertBefore(Dt.$elm$,gt.$elm$.nextSibling),Dt=b[++We],Fn=ie[--Mt]):ne(gt,rn)?(Re(gt,rn),R.insertBefore(gt.$elm$,Dt.$elm$),gt=b[--Ge],rn=ie[++Ce]):(mr=cn(b&&b[Ce],W,Ce),rn=ie[++Ce],mr&&Dt.$elm$.parentNode.insertBefore(mr,Dt.$elm$));We>Ge?Xt(R,null==ie[Mt+1]?null:ie[Mt+1].$elm$,W,ie,Ce,Mt):Ce>Mt&&tt(b,We,Ge)})(W,ie,b,We):null!==We?(null!==R.$text$&&(W.textContent=""),Xt(W,null,b,We,0,We.length-1)):null!==ie&&tt(ie,0,ie.length-1),_e&&"svg"===Ce&&(_e=!1)):R.$text$!==Ge&&(W.data=Ge)},Ee=R=>{R.$attrs$&&R.$attrs$.ref&&R.$attrs$.ref(null),R.$children$&&R.$children$.map(Ee)},pt=(R,b)=>{b&&!R.$onRenderResolve$&&b["s-p"]&&b["s-p"].push(new Promise(W=>R.$onRenderResolve$=W))},Ft=(R,b)=>{if(R.$flags$|=16,!(4&R.$flags$))return pt(R,R.$ancestorComponent$),B(()=>on(R,b));R.$flags$|=512},on=(R,b)=>{const ie=R.$lazyInstance$;return b&&(R.$flags$|=256,R.$queuedListeners$&&(R.$queuedListeners$.map(([Ce,Ge])=>qt(ie,Ce,Ge)),R.$queuedListeners$=void 0)),en(void 0,()=>Cn(R,ie,b))},en=(R,b)=>$t(R)?R.then(b):b(),$t=R=>R instanceof Promise||R&&R.then&&"function"==typeof R.then,Cn=function(){var R=(0,l.Z)(function*(b,W,ie){var We;const Ce=b.$hostElement$,Dt=Ce["s-rc"];ie&&(R=>{const b=R.$cmpMeta$,W=R.$hostElement$,ie=b.$flags$,Ce=((R,b,W,ie)=>{var We;let Ce=Ve(b);const Ge=Ur.get(Ce);if(R=11===R.nodeType?R:Dn,Ge)if("string"==typeof Ge){let gt,Dt=Se.get(R=R.head||R);if(Dt||Se.set(R,Dt=new Set),!Dt.has(Ce)){{gt=Dn.createElement("style"),gt.innerHTML=Ge;const Mt=null!==(We=Qn.$nonce$)&&void 0!==We?We:Ke(Dn);null!=Mt&&gt.setAttribute("nonce",Mt),R.insertBefore(gt,R.querySelector("link"))}Dt&&Dt.add(Ce)}}else R.adoptedStyleSheets.includes(Ge)||(R.adoptedStyleSheets=[...R.adoptedStyleSheets,Ge]);return Ce})(W.shadowRoot?W.shadowRoot:W.getRootNode(),b);10&ie&&(W["s-sc"]=Ce,W.classList.add(Ce+"-h"))})(b);Vt(b,W),Dt&&(Dt.map(Mt=>Mt()),Ce["s-rc"]=void 0);{const Mt=null!==(We=Ce["s-p"])&&void 0!==We?We:[],rn=()=>St(b);0===Mt.length?rn():(Promise.all(Mt).then(rn),b.$flags$|=4,Mt.length=0)}});return function(W,ie,We){return R.apply(this,arguments)}}(),Vt=(R,b,W)=>{try{b=b.render(),R.$flags$&=-17,R.$flags$|=2,((R,b)=>{const W=R.$hostElement$,ie=R.$vnode$||Be(null,null),We=(R=>R&&R.$tag$===Le)(b)?b:rt(null,null,b);Q=W.tagName,We.$tag$=null,We.$flags$|=4,R.$vnode$=We,We.$elm$=ie.$elm$=W.shadowRoot||W,H=W["s-sc"],Re(ie,We)})(R,b)}catch(ie){bn(ie,R.$hostElement$)}return null},St=R=>{const W=R.$hostElement$,We=R.$lazyInstance$,Ce=R.$ancestorComponent$;64&R.$flags$||(R.$flags$|=64,An(W),qt(We,"componentDidLoad"),R.$onReadyResolve$(W),Ce||kt()),R.$onInstanceResolve$(W),R.$onRenderResolve$&&(R.$onRenderResolve$(),R.$onRenderResolve$=void 0),512&R.$flags$&&te(()=>Ft(R,!1)),R.$flags$&=-517},At=R=>{{const b=xn(R),W=b.$hostElement$.isConnected;return W&&2==(18&b.$flags$)&&Ft(b,!1),W}},kt=R=>{An(Dn.documentElement),te(()=>Xe(ur,"appload",{detail:{namespace:"ionicpwaelements"}}))},qt=(R,b,W)=>{if(R&&R[b])try{return R[b](W)}catch(ie){bn(ie)}},An=R=>R.classList.add("hydrated"),dn=(R,b,W)=>{if(b.$members$){const ie=Object.entries(b.$members$),We=R.prototype;if(ie.map(([Ce,[Ge]])=>{31&Ge||2&W&&32&Ge?Object.defineProperty(We,Ce,{get(){return((R,b)=>xn(this).$instanceValues$.get(b))(0,Ce)},set(Dt){((R,b,W,ie)=>{const We=xn(R),Ce=We.$instanceValues$.get(b),Ge=We.$flags$,Dt=We.$lazyInstance$;W=((R,b)=>null==R||xe(R)?R:4&b?"false"!==R&&(""===R||!!R):2&b?parseFloat(R):1&b?String(R):R)(W,ie.$members$[b][0]);const gt=Number.isNaN(Ce)&&Number.isNaN(W);(!(8&Ge)||void 0===Ce)&&W!==Ce&&!gt&&(We.$instanceValues$.set(b,W),Dt&&2==(18&Ge)&&Ft(We,!1))})(this,Ce,Dt,b)},configurable:!0,enumerable:!0}):1&W&&64&Ge&&Object.defineProperty(We,Ce,{value(...Dt){const gt=xn(this);return gt.$onInstancePromise$.then(()=>gt.$lazyInstance$[Ce](...Dt))}})}),1&W){const Ce=new Map;We.attributeChangedCallback=function(Ge,Dt,gt){Qn.jmp(()=>{const Mt=Ce.get(Ge);if(this.hasOwnProperty(Mt))gt=this[Mt],delete this[Mt];else if(We.hasOwnProperty(Mt)&&"number"==typeof this[Mt]&&this[Mt]==gt)return;this[Mt]=(null!==gt||"boolean"!=typeof this[Mt])&&gt})},R.observedAttributes=ie.filter(([Ge,Dt])=>15&Dt[0]).map(([Ge,Dt])=>{const gt=Dt[1]||Ge;return Ce.set(gt,Ge),gt})}}return R},kn=function(){var R=(0,l.Z)(function*(b,W,ie,We,Ce){if(!(32&W.$flags$)){W.$flags$|=32;{if((Ce=Nr(ie)).then){const Mt=()=>{};Ce=yield Ce,Mt()}Ce.isProxied||(dn(Ce,ie,2),Ce.isProxied=!0);const gt=()=>{};W.$flags$|=8;try{new Ce(W)}catch(Mt){bn(Mt)}W.$flags$&=-9,gt()}if(Ce.style){let gt=Ce.style;const Mt=Ve(ie);if(!Ur.has(Mt)){const rn=()=>{};((R,b,W)=>{let ie=Ur.get(R);Vn&&W?(ie=ie||new CSSStyleSheet,"string"==typeof ie?ie=b:ie.replaceSync(b)):ie=b,Ur.set(R,ie)})(Mt,gt,!!(1&ie.$flags$)),rn()}}}const Ge=W.$ancestorComponent$,Dt=()=>Ft(W,!0);Ge&&Ge["s-rc"]?Ge["s-rc"].push(Dt):Dt()});return function(W,ie,We,Ce,Ge){return R.apply(this,arguments)}}(),Yn=(R,b={})=>{var W;const We=[],Ce=b.exclude||[],Ge=ur.customElements,Dt=Dn.head,gt=Dt.querySelector("meta[charset]"),Mt=Dn.createElement("style"),rn=[];let Fn,mr=!0;Object.assign(Qn,b),Qn.$resourcesUrl$=new URL(b.resourcesUrl||"./",Dn.baseURI).href,R.map(It=>{It[1].map(Qe=>{const zt={$flags$:Qe[0],$tagName$:Qe[1],$members$:Qe[2],$listeners$:Qe[3]};zt.$members$=Qe[2],zt.$listeners$=Qe[3];const wn=zt.$tagName$,ir=class extends HTMLElement{constructor(Bn){super(Bn),cr(Bn=this,zt),1&zt.$flags$&&Bn.attachShadow({mode:"open"})}connectedCallback(){Fn&&(clearTimeout(Fn),Fn=null),mr?rn.push(this):Qn.jmp(()=>(R=>{if(!(1&Qn.$flags$)){const b=xn(R),W=b.$cmpMeta$,ie=()=>{};if(1&b.$flags$)qn(R,b,W.$listeners$);else{b.$flags$|=1;{let We=R;for(;We=We.parentNode||We.host;)if(We["s-p"]){pt(b,b.$ancestorComponent$=We);break}}W.$members$&&Object.entries(W.$members$).map(([We,[Ce]])=>{if(31&Ce&&R.hasOwnProperty(We)){const Ge=R[We];delete R[We],R[We]=Ge}}),kn(R,b,W)}ie()}})(this))}disconnectedCallback(){Qn.jmp(()=>(R=>{if(!(1&Qn.$flags$)){const b=xn(this),W=b.$lazyInstance$;b.$rmListeners$&&(b.$rmListeners$.map(ie=>ie()),b.$rmListeners$=void 0),qt(W,"disconnectedCallback")}})())}componentOnReady(){return xn(this).$onReadyPromise$}};zt.$lazyBundleId$=It[0],!Ce.includes(wn)&&!Ge.get(wn)&&(We.push(wn),Ge.define(wn,dn(ir,zt,1)))})});{Mt.innerHTML=We+"{visibility:hidden}.hydrated{visibility:inherit}",Mt.setAttribute("data-styles","");const It=null!==(W=Qn.$nonce$)&&void 0!==W?W:Ke(Dn);null!=It&&Mt.setAttribute("nonce",It),Dt.insertBefore(Mt,gt?gt.nextSibling:Dt.firstChild)}mr=!1,rn.length?rn.map(It=>It.connectedCallback()):Qn.jmp(()=>Fn=setTimeout(kt,30))},qn=(R,b,W,ie)=>{W&&W.map(([We,Ce,Ge])=>{const Dt=br(R,We),gt=jn(b,Ge),Mt=Cr(We);Qn.ael(Dt,Ce,gt,Mt),(b.$rmListeners$=b.$rmListeners$||[]).push(()=>Qn.rel(Dt,Ce,gt,Mt))})},jn=(R,b)=>W=>{try{256&R.$flags$?R.$lazyInstance$[b](W):(R.$queuedListeners$=R.$queuedListeners$||[]).push([b,W])}catch(ie){bn(ie)}},br=(R,b)=>16&b?Dn.body:R,Cr=R=>0!=(2&R),rr=new WeakMap,xn=R=>rr.get(R),Hr=(R,b)=>rr.set(b.$lazyInstance$=R,b),cr=(R,b)=>{const W={$flags$:0,$hostElement$:R,$cmpMeta$:b,$instanceValues$:new Map};return W.$onInstancePromise$=new Promise(ie=>W.$onInstanceResolve$=ie),W.$onReadyPromise$=new Promise(ie=>W.$onReadyResolve$=ie),R["s-p"]=[],R["s-rc"]=[],qn(R,W,b.$listeners$),rr.set(R,W)},fn=(R,b)=>b in R,bn=(R,b)=>(0,console.error)(R,b),er=new Map,Nr=(R,b,W)=>{const ie=R.$tagName$.replace(/-/g,"_"),We=R.$lazyBundleId$,Ce=er.get(We);if(Ce)return Ce[ie];if(!W||!BUILD.hotModuleReplacement){const Ge=Dt=>(er.set(We,Dt),Dt[ie]);switch(We){case"pwa-action-sheet":return w.e(7387).then(w.bind(w,7387)).then(Ge,bn);case"pwa-camera-modal":return w.e(7020).then(w.bind(w,7020)).then(Ge,bn);case"pwa-toast":return w.e(9081).then(w.bind(w,9081)).then(Ge,bn);case"pwa-camera-modal-instance":return w.e(956).then(w.bind(w,956)).then(Ge,bn);case"pwa-camera":return w.e(2070).then(w.bind(w,2070)).then(Ge,bn)}}return w(5518)(`./${We}.entry.js`).then(Ge=>(er.set(We,Ge),Ge[ie]),bn)},Ur=new Map,ur=typeof window<"u"?window:{},Dn=ur.document||{head:{}},Qn={$flags$:0,$resourcesUrl$:"",jmp:R=>R(),raf:R=>requestAnimationFrame(R),ael:(R,b,W,ie)=>R.addEventListener(b,W,ie),rel:(R,b,W,ie)=>R.removeEventListener(b,W,ie),ce:(R,b)=>new CustomEvent(R,b)},kr=R=>Promise.resolve(R),Vn=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),Hn=[],Lr=[],Ir=(R,b)=>W=>{R.push(W),le||(le=!0,b&&4&Qn.$flags$?te(He):Qn.raf(He))},hr=R=>{for(let b=0;b<R.length;b++)try{R[b](performance.now())}catch(W){bn(W)}R.length=0},He=()=>{hr(Hn),hr(Lr),(le=Hn.length>0)&&Qn.raf(He)},te=R=>kr().then(R),B=Ir(Lr,!0)},863:(ln,nt,w)=>{var l={"./ion-accordion_2.entry.js":[8484,8592,8484],"./ion-action-sheet.entry.js":[9882,8592,9882],"./ion-alert.entry.js":[6304,8592,6304],"./ion-app_8.entry.js":[5860,8592,5860],"./ion-avatar_3.entry.js":[3544,3544],"./ion-back-button.entry.js":[505,8592,505],"./ion-backdrop.entry.js":[469,469],"./ion-breadcrumb_2.entry.js":[9857,8592,9857],"./ion-button_2.entry.js":[1372,1372],"./ion-card_5.entry.js":[3150,3150],"./ion-checkbox.entry.js":[7635,8592,7635],"./ion-chip.entry.js":[6673,6673],"./ion-col_3.entry.js":[1315,1315],"./ion-datetime-button.entry.js":[433,9302,433],"./ion-datetime_3.entry.js":[7059,9302,8592,7059],"./ion-fab_3.entry.js":[4087,8592,4087],"./ion-img.entry.js":[1745,1745],"./ion-infinite-scroll_2.entry.js":[9352,8592,9352],"./ion-input.entry.js":[4530,8592,4530],"./ion-item-option_3.entry.js":[8633,8592,8633],"./ion-item_8.entry.js":[5962,8592,5962],"./ion-loading.entry.js":[3483,8592,3483],"./ion-menu_3.entry.js":[2939,8592,8382],"./ion-modal.entry.js":[8577,8592,8577],"./ion-nav_2.entry.js":[5675,8592,5675],"./ion-picker-column-internal.entry.js":[9992,8592,9992],"./ion-picker-internal.entry.js":[9820,9820],"./ion-popover.entry.js":[185,8592,185],"./ion-progress-bar.entry.js":[5454,5454],"./ion-radio_2.entry.js":[4458,8592,4458],"./ion-range.entry.js":[7666,8592,7666],"./ion-refresher_2.entry.js":[7219,8592,7219],"./ion-reorder_2.entry.js":[2975,8592,2975],"./ion-ripple-effect.entry.js":[7465,7465],"./ion-route_4.entry.js":[4764,4764],"./ion-searchbar.entry.js":[3998,8592,3998],"./ion-segment_2.entry.js":[3672,8592,3672],"./ion-select_3.entry.js":[6754,8592,6754],"./ion-spinner.entry.js":[9588,8592,9588],"./ion-split-pane.entry.js":[9793,9793],"./ion-tab-bar_2.entry.js":[4090,8592,4090],"./ion-tab_2.entry.js":[2841,2841],"./ion-text.entry.js":[8811,8811],"./ion-textarea.entry.js":[3734,8592,3734],"./ion-toast.entry.js":[6642,8592,6642],"./ion-toggle.entry.js":[8866,8592,8866]};function M(H){if(!w.o(l,H))return Promise.resolve().then(()=>{var le=new Error("Cannot find module '"+H+"'");throw le.code="MODULE_NOT_FOUND",le});var Q=l[H],_e=Q[0];return Promise.all(Q.slice(1).map(w.e)).then(()=>w(_e))}M.keys=()=>Object.keys(l),M.id=863,ln.exports=M},5518:(ln,nt,w)=>{var l={"./pwa-action-sheet.entry.js":[7387,7387],"./pwa-camera-modal-instance.entry.js":[956,956],"./pwa-camera-modal.entry.js":[7020,7020],"./pwa-camera.entry.js":[2070,2070],"./pwa-toast.entry.js":[9081,9081]};function M(H){if(!w.o(l,H))return Promise.resolve().then(()=>{var le=new Error("Cannot find module '"+H+"'");throw le.code="MODULE_NOT_FOUND",le});var Q=l[H],_e=Q[0];return w.e(Q[1]).then(()=>w(_e))}M.keys=()=>Object.keys(l),M.id=5518,ln.exports=M},6814:(ln,nt,w)=>{"use strict";w.d(nt,{Do:()=>rt,EM:()=>Mo,HT:()=>Q,JF:()=>ro,K0:()=>le,Mx:()=>wt,NF:()=>Yo,O5:()=>K,PM:()=>ts,S$:()=>we,V_:()=>ve,Ye:()=>Be,b0:()=>Ke,bD:()=>to,ez:()=>Fr,q:()=>H,sg:()=>Kn,tP:()=>Rt,w_:()=>_e});var l=w(9212);let M=null;function H(){return M}function Q(C){M||(M=C)}class _e{}const le=new l.OlP("DocumentToken");let pe=(()=>{var C;class j{historyGo($){throw new Error("Not implemented")}}return(C=j).\u0275fac=function($){return new($||C)},C.\u0275prov=l.Yz7({token:C,factory:()=>(0,l.f3M)(Ye),providedIn:"platform"}),j})();const ve=new l.OlP("Location Initialized");let Ye=(()=>{var C;class j extends pe{constructor(){super(),this._doc=(0,l.f3M)(le),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState($){const De=H().getGlobalEventTarget(this._doc,"window");return De.addEventListener("popstate",$,!1),()=>De.removeEventListener("popstate",$)}onHashChange($){const De=H().getGlobalEventTarget(this._doc,"window");return De.addEventListener("hashchange",$,!1),()=>De.removeEventListener("hashchange",$)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname($){this._location.pathname=$}pushState($,De,Ze){this._history.pushState($,De,Ze)}replaceState($,De,Ze){this._history.replaceState($,De,Ze)}forward(){this._history.forward()}back(){this._history.back()}historyGo($=0){this._history.go($)}getState(){return this._history.state}}return(C=j).\u0275fac=function($){return new($||C)},C.\u0275prov=l.Yz7({token:C,factory:()=>new C,providedIn:"platform"}),j})();function ue(C,j){if(0==C.length)return j;if(0==j.length)return C;let Ne=0;return C.endsWith("/")&&Ne++,j.startsWith("/")&&Ne++,2==Ne?C+j.substring(1):1==Ne?C+j:C+"/"+j}function fe(C){const j=C.match(/#|\?|$/),Ne=j&&j.index||C.length;return C.slice(0,Ne-("/"===C[Ne-1]?1:0))+C.slice(Ne)}function $e(C){return C&&"?"!==C[0]?"?"+C:C}let we=(()=>{var C;class j{historyGo($){throw new Error("Not implemented")}}return(C=j).\u0275fac=function($){return new($||C)},C.\u0275prov=l.Yz7({token:C,factory:()=>(0,l.f3M)(Ke),providedIn:"root"}),j})();const xe=new l.OlP("appBaseHref");let Ke=(()=>{var C;class j extends we{constructor($,De){var Ze,Yt,yn;super(),this._platformLocation=$,this._removeListenerFns=[],this._baseHref=null!==(Ze=null!==(Yt=null!=De?De:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Yt?Yt:null===(yn=(0,l.f3M)(le).location)||void 0===yn?void 0:yn.origin)&&void 0!==Ze?Ze:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}prepareExternalUrl($){return ue(this._baseHref,$)}path($=!1){const De=this._platformLocation.pathname+$e(this._platformLocation.search),Ze=this._platformLocation.hash;return Ze&&$?`${De}${Ze}`:De}pushState($,De,Ze,Yt){const yn=this.prepareExternalUrl(Ze+$e(Yt));this._platformLocation.pushState($,De,yn)}replaceState($,De,Ze,Yt){const yn=this.prepareExternalUrl(Ze+$e(Yt));this._platformLocation.replaceState($,De,yn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){var De,Ze;null===(De=(Ze=this._platformLocation).historyGo)||void 0===De||De.call(Ze,$)}}return(C=j).\u0275fac=function($){return new($||C)(l.LFG(pe),l.LFG(xe,8))},C.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),j})(),rt=(()=>{var C;class j extends we{constructor($,De){super(),this._platformLocation=$,this._baseHref="",this._removeListenerFns=[],null!=De&&(this._baseHref=De)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState($){this._removeListenerFns.push(this._platformLocation.onPopState($),this._platformLocation.onHashChange($))}getBaseHref(){return this._baseHref}path($=!1){let De=this._platformLocation.hash;return null==De&&(De="#"),De.length>0?De.substring(1):De}prepareExternalUrl($){const De=ue(this._baseHref,$);return De.length>0?"#"+De:De}pushState($,De,Ze,Yt){let yn=this.prepareExternalUrl(Ze+$e(Yt));0==yn.length&&(yn=this._platformLocation.pathname),this._platformLocation.pushState($,De,yn)}replaceState($,De,Ze,Yt){let yn=this.prepareExternalUrl(Ze+$e(Yt));0==yn.length&&(yn=this._platformLocation.pathname),this._platformLocation.replaceState($,De,yn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo($=0){var De,Ze;null===(De=(Ze=this._platformLocation).historyGo)||void 0===De||De.call(Ze,$)}}return(C=j).\u0275fac=function($){return new($||C)(l.LFG(pe),l.LFG(xe,8))},C.\u0275prov=l.Yz7({token:C,factory:C.\u0275fac}),j})(),Be=(()=>{var C;class j{constructor($){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=$;const De=this._locationStrategy.getBaseHref();this._basePath=function qe(C){if(new RegExp("^(https?:)?//").test(C)){const[,Ne]=C.split(/\/\/[^\/]+/);return Ne}return C}(fe(dt(De))),this._locationStrategy.onPopState(Ze=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ze.state,type:Ze.type})})}ngOnDestroy(){var $;null===($=this._urlChangeSubscription)||void 0===$||$.unsubscribe(),this._urlChangeListeners=[]}path($=!1){return this.normalize(this._locationStrategy.path($))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo($,De=""){return this.path()==this.normalize($+$e(De))}normalize($){return j.stripTrailingSlash(function ze(C,j){if(!C||!j.startsWith(C))return j;const Ne=j.substring(C.length);return""===Ne||["/",";","?","#"].includes(Ne[0])?Ne:j}(this._basePath,dt($)))}prepareExternalUrl($){return $&&"/"!==$[0]&&($="/"+$),this._locationStrategy.prepareExternalUrl($)}go($,De="",Ze=null){this._locationStrategy.pushState(Ze,"",$,De),this._notifyUrlChangeListeners(this.prepareExternalUrl($+$e(De)),Ze)}replaceState($,De="",Ze=null){this._locationStrategy.replaceState(Ze,"",$,De),this._notifyUrlChangeListeners(this.prepareExternalUrl($+$e(De)),Ze)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo($=0){var De,Ze;null===(De=(Ze=this._locationStrategy).historyGo)||void 0===De||De.call(Ze,$)}onUrlChange($){return this._urlChangeListeners.push($),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(De=>{this._notifyUrlChangeListeners(De.url,De.state)})),()=>{const De=this._urlChangeListeners.indexOf($);var Ze;this._urlChangeListeners.splice(De,1),0===this._urlChangeListeners.length&&(null===(Ze=this._urlChangeSubscription)||void 0===Ze||Ze.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners($="",De){this._urlChangeListeners.forEach(Ze=>Ze($,De))}subscribe($,De,Ze){return this._subject.subscribe({next:$,error:De,complete:Ze})}}return(C=j).normalizeQueryParams=$e,C.joinWithSlash=ue,C.stripTrailingSlash=fe,C.\u0275fac=function($){return new($||C)(l.LFG(we))},C.\u0275prov=l.Yz7({token:C,factory:()=>function Le(){return new Be((0,l.LFG)(we))}(),providedIn:"root"}),j})();function dt(C){return C.replace(/\/index.html$/,"")}function wt(C,j){j=encodeURIComponent(j);for(const Ne of C.split(";")){const $=Ne.indexOf("="),[De,Ze]=-1==$?[Ne,""]:[Ne.slice(0,$),Ne.slice($+1)];if(De.trim()===j)return decodeURIComponent(Ze)}return null}class mn{constructor(j,Ne,$,De){this.$implicit=j,this.ngForOf=Ne,this.index=$,this.count=De}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Kn=(()=>{var C;class j{set ngForOf($){this._ngForOf=$,this._ngForOfDirty=!0}set ngForTrackBy($){this._trackByFn=$}get ngForTrackBy(){return this._trackByFn}constructor($,De,Ze){this._viewContainer=$,this._template=De,this._differs=Ze,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate($){$&&(this._template=$)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const $=this._ngForOf;!this._differ&&$&&(this._differ=this._differs.find($).create(this.ngForTrackBy))}if(this._differ){const $=this._differ.diff(this._ngForOf);$&&this._applyChanges($)}}_applyChanges($){const De=this._viewContainer;$.forEachOperation((Ze,Yt,yn)=>{if(null==Ze.previousIndex)De.createEmbeddedView(this._template,new mn(Ze.item,this._ngForOf,-1,-1),null===yn?void 0:yn);else if(null==yn)De.remove(null===Yt?void 0:Yt);else if(null!==Yt){const Pr=De.get(Yt);De.move(Pr,yn),ce(Pr,Ze)}});for(let Ze=0,Yt=De.length;Ze<Yt;Ze++){const Pr=De.get(Ze).context;Pr.index=Ze,Pr.count=Yt,Pr.ngForOf=this._ngForOf}$.forEachIdentityChange(Ze=>{ce(De.get(Ze.currentIndex),Ze)})}static ngTemplateContextGuard($,De){return!0}}return(C=j).\u0275fac=function($){return new($||C)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},C.\u0275dir=l.lG2({type:C,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),j})();function ce(C,j){C.context.$implicit=j.item}let K=(()=>{var C;class j{constructor($,De){this._viewContainer=$,this._context=new Ie,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=De}set ngIf($){this._context.$implicit=this._context.ngIf=$,this._updateView()}set ngIfThen($){ht("ngIfThen",$),this._thenTemplateRef=$,this._thenViewRef=null,this._updateView()}set ngIfElse($){ht("ngIfElse",$),this._elseTemplateRef=$,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard($,De){return!0}}return(C=j).\u0275fac=function($){return new($||C)(l.Y36(l.s_b),l.Y36(l.Rgc))},C.\u0275dir=l.lG2({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),j})();class Ie{constructor(){this.$implicit=null,this.ngIf=null}}function ht(C,j){if(j&&!j.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,l.AaK)(j)}'.`)}let Rt=(()=>{var C;class j{constructor($){this._viewContainerRef=$,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges($){if(this._shouldRecreateView($)){var De;const Ze=this._viewContainerRef;if(this._viewRef&&Ze.remove(Ze.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Yt=this._createContextForwardProxy();this._viewRef=Ze.createEmbeddedView(this.ngTemplateOutlet,Yt,{injector:null!==(De=this.ngTemplateOutletInjector)&&void 0!==De?De:void 0})}}_shouldRecreateView($){return!!$.ngTemplateOutlet||!!$.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:($,De,Ze)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,De,Ze),get:($,De,Ze)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,De,Ze)}})}}return(C=j).\u0275fac=function($){return new($||C)(l.Y36(l.s_b))},C.\u0275dir=l.lG2({type:C,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),j})(),Fr=(()=>{var C;class j{}return(C=j).\u0275fac=function($){return new($||C)},C.\u0275mod=l.oAB({type:C}),C.\u0275inj=l.cJS({}),j})();const to="browser",mo="server";function Yo(C){return C===to}function ts(C){return C===mo}let Mo=(()=>{var C;class j{}return(C=j).\u0275prov=(0,l.Yz7)({token:C,providedIn:"root",factory:()=>new ns((0,l.LFG)(le),window)}),j})();class ns{constructor(j,Ne){this.document=j,this.window=Ne,this.offset=()=>[0,0]}setOffset(j){this.offset=Array.isArray(j)?()=>j:j}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(j){this.supportsScrolling()&&this.window.scrollTo(j[0],j[1])}scrollToAnchor(j){if(!this.supportsScrolling())return;const Ne=function Ki(C,j){const Ne=C.getElementById(j)||C.getElementsByName(j)[0];if(Ne)return Ne;if("function"==typeof C.createTreeWalker&&C.body&&"function"==typeof C.body.attachShadow){const $=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let De=$.currentNode;for(;De;){const Ze=De.shadowRoot;if(Ze){const Yt=Ze.getElementById(j)||Ze.querySelector(`[name="${j}"]`);if(Yt)return Yt}De=$.nextNode()}}return null}(this.document,j);Ne&&(this.scrollToElement(Ne),Ne.focus())}setHistoryScrollRestoration(j){this.supportsScrolling()&&(this.window.history.scrollRestoration=j)}scrollToElement(j){const Ne=j.getBoundingClientRect(),$=Ne.left+this.window.pageXOffset,De=Ne.top+this.window.pageYOffset,Ze=this.offset();this.window.scrollTo($-Ze[0],De-Ze[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class ro{}},9862:(ln,nt,w)=>{"use strict";w.d(nt,{JF:()=>Ce,eN:()=>ne}),w(5861);var M=w(9212),H=w(2096),Q=w(5592),_e=w(2459),le=w(6328),pe=w(2181),ve=w(7398),Ye=w(4716),ue=w(4664),fe=w(6814);class $e{}class we{}class xe{constructor(Ue){this.normalizedNames=new Map,this.lazyUpdate=null,Ue?"string"==typeof Ue?this.lazyInit=()=>{this.headers=new Map,Ue.split("\n").forEach(wt=>{const Et=wt.indexOf(":");if(Et>0){const xt=wt.slice(0,Et),Kt=xt.toLowerCase(),Tn=wt.slice(Et+1).trim();this.maybeSetNormalizedName(xt,Kt),this.headers.has(Kt)?this.headers.get(Kt).push(Tn):this.headers.set(Kt,[Tn])}})}:typeof Headers<"u"&&Ue instanceof Headers?(this.headers=new Map,Ue.forEach((wt,Et)=>{this.setHeaderEntries(Et,wt)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Ue).forEach(([wt,Et])=>{this.setHeaderEntries(wt,Et)})}:this.headers=new Map}has(Ue){return this.init(),this.headers.has(Ue.toLowerCase())}get(Ue){this.init();const wt=this.headers.get(Ue.toLowerCase());return wt&&wt.length>0?wt[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ue){return this.init(),this.headers.get(Ue.toLowerCase())||null}append(Ue,wt){return this.clone({name:Ue,value:wt,op:"a"})}set(Ue,wt){return this.clone({name:Ue,value:wt,op:"s"})}delete(Ue,wt){return this.clone({name:Ue,value:wt,op:"d"})}maybeSetNormalizedName(Ue,wt){this.normalizedNames.has(wt)||this.normalizedNames.set(wt,Ue)}init(){this.lazyInit&&(this.lazyInit instanceof xe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ue=>this.applyUpdate(Ue)),this.lazyUpdate=null))}copyFrom(Ue){Ue.init(),Array.from(Ue.headers.keys()).forEach(wt=>{this.headers.set(wt,Ue.headers.get(wt)),this.normalizedNames.set(wt,Ue.normalizedNames.get(wt))})}clone(Ue){const wt=new xe;return wt.lazyInit=this.lazyInit&&this.lazyInit instanceof xe?this.lazyInit:this,wt.lazyUpdate=(this.lazyUpdate||[]).concat([Ue]),wt}applyUpdate(Ue){const wt=Ue.name.toLowerCase();switch(Ue.op){case"a":case"s":let Et=Ue.value;if("string"==typeof Et&&(Et=[Et]),0===Et.length)return;this.maybeSetNormalizedName(Ue.name,wt);const xt=("a"===Ue.op?this.headers.get(wt):void 0)||[];xt.push(...Et),this.headers.set(wt,xt);break;case"d":const Kt=Ue.value;if(Kt){let Tn=this.headers.get(wt);if(!Tn)return;Tn=Tn.filter(pn=>-1===Kt.indexOf(pn)),0===Tn.length?(this.headers.delete(wt),this.normalizedNames.delete(wt)):this.headers.set(wt,Tn)}else this.headers.delete(wt),this.normalizedNames.delete(wt)}}setHeaderEntries(Ue,wt){const Et=(Array.isArray(wt)?wt:[wt]).map(Kt=>Kt.toString()),xt=Ue.toLowerCase();this.headers.set(xt,Et),this.maybeSetNormalizedName(Ue,xt)}forEach(Ue){this.init(),Array.from(this.normalizedNames.keys()).forEach(wt=>Ue(this.normalizedNames.get(wt),this.headers.get(wt)))}}class rt{encodeKey(Ue){return dt(Ue)}encodeValue(Ue){return dt(Ue)}decodeKey(Ue){return decodeURIComponent(Ue)}decodeValue(Ue){return decodeURIComponent(Ue)}}const Le=/%(\d[a-f0-9])/gi,ze={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function dt(st){return encodeURIComponent(st).replace(Le,(Ue,wt)=>{var Et;return null!==(Et=ze[wt])&&void 0!==Et?Et:Ue})}function qe(st){return`${st}`}class je{constructor(Ue={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ue.encoder||new rt,Ue.fromString){if(Ue.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Be(st,Ue){const wt=new Map;return st.length>0&&st.replace(/^\?/,"").split("&").forEach(xt=>{const Kt=xt.indexOf("="),[Tn,pn]=-1==Kt?[Ue.decodeKey(xt),""]:[Ue.decodeKey(xt.slice(0,Kt)),Ue.decodeValue(xt.slice(Kt+1))],mn=wt.get(Tn)||[];mn.push(pn),wt.set(Tn,mn)}),wt}(Ue.fromString,this.encoder)}else Ue.fromObject?(this.map=new Map,Object.keys(Ue.fromObject).forEach(wt=>{const Et=Ue.fromObject[wt],xt=Array.isArray(Et)?Et.map(qe):[qe(Et)];this.map.set(wt,xt)})):this.map=null}has(Ue){return this.init(),this.map.has(Ue)}get(Ue){this.init();const wt=this.map.get(Ue);return wt?wt[0]:null}getAll(Ue){return this.init(),this.map.get(Ue)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ue,wt){return this.clone({param:Ue,value:wt,op:"a"})}appendAll(Ue){const wt=[];return Object.keys(Ue).forEach(Et=>{const xt=Ue[Et];Array.isArray(xt)?xt.forEach(Kt=>{wt.push({param:Et,value:Kt,op:"a"})}):wt.push({param:Et,value:xt,op:"a"})}),this.clone(wt)}set(Ue,wt){return this.clone({param:Ue,value:wt,op:"s"})}delete(Ue,wt){return this.clone({param:Ue,value:wt,op:"d"})}toString(){return this.init(),this.keys().map(Ue=>{const wt=this.encoder.encodeKey(Ue);return this.map.get(Ue).map(Et=>wt+"="+this.encoder.encodeValue(Et)).join("&")}).filter(Ue=>""!==Ue).join("&")}clone(Ue){const wt=new je({encoder:this.encoder});return wt.cloneFrom=this.cloneFrom||this,wt.updates=(this.updates||[]).concat(Ue),wt}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ue=>this.map.set(Ue,this.cloneFrom.map.get(Ue))),this.updates.forEach(Ue=>{switch(Ue.op){case"a":case"s":const wt=("a"===Ue.op?this.map.get(Ue.param):void 0)||[];wt.push(qe(Ue.value)),this.map.set(Ue.param,wt);break;case"d":if(void 0===Ue.value){this.map.delete(Ue.param);break}{let Et=this.map.get(Ue.param)||[];const xt=Et.indexOf(qe(Ue.value));-1!==xt&&Et.splice(xt,1),Et.length>0?this.map.set(Ue.param,Et):this.map.delete(Ue.param)}}}),this.cloneFrom=this.updates=null)}}class Se{constructor(){this.map=new Map}set(Ue,wt){return this.map.set(Ue,wt),this}get(Ue){return this.map.has(Ue)||this.map.set(Ue,Ue.defaultValue()),this.map.get(Ue)}delete(Ue){return this.map.delete(Ue),this}has(Ue){return this.map.has(Ue)}keys(){return this.map.keys()}}function X(st){return typeof ArrayBuffer<"u"&&st instanceof ArrayBuffer}function ke(st){return typeof Blob<"u"&&st instanceof Blob}function Ve(st){return typeof FormData<"u"&&st instanceof FormData}class lt{constructor(Ue,wt,Et,xt){let Kt;if(this.url=wt,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ue.toUpperCase(),function ge(st){switch(st){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||xt?(this.body=void 0!==Et?Et:null,Kt=xt):Kt=Et,Kt&&(this.reportProgress=!!Kt.reportProgress,this.withCredentials=!!Kt.withCredentials,Kt.responseType&&(this.responseType=Kt.responseType),Kt.headers&&(this.headers=Kt.headers),Kt.context&&(this.context=Kt.context),Kt.params&&(this.params=Kt.params),this.transferCache=Kt.transferCache),this.headers||(this.headers=new xe),this.context||(this.context=new Se),this.params){const Tn=this.params.toString();if(0===Tn.length)this.urlWithParams=wt;else{const pn=wt.indexOf("?");this.urlWithParams=wt+(-1===pn?"?":pn<wt.length-1?"&":"")+Tn}}else this.params=new je,this.urlWithParams=wt}serializeBody(){return null===this.body?null:X(this.body)||ke(this.body)||Ve(this.body)||function ft(st){return typeof URLSearchParams<"u"&&st instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof je?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ve(this.body)?null:ke(this.body)?this.body.type||null:X(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof je?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ue={}){var wt;const Et=Ue.method||this.method,xt=Ue.url||this.url,Kt=Ue.responseType||this.responseType,Tn=void 0!==Ue.body?Ue.body:this.body,pn=void 0!==Ue.withCredentials?Ue.withCredentials:this.withCredentials,mn=void 0!==Ue.reportProgress?Ue.reportProgress:this.reportProgress;let Kn=Ue.headers||this.headers,ce=Ue.params||this.params;const Ae=null!==(wt=Ue.context)&&void 0!==wt?wt:this.context;return void 0!==Ue.setHeaders&&(Kn=Object.keys(Ue.setHeaders).reduce((K,Ie)=>K.set(Ie,Ue.setHeaders[Ie]),Kn)),Ue.setParams&&(ce=Object.keys(Ue.setParams).reduce((K,Ie)=>K.set(Ie,Ue.setParams[Ie]),ce)),new lt(Et,xt,Tn,{params:ce,headers:Kn,context:Ae,reportProgress:mn,responseType:Kt,withCredentials:pn})}}var yt=function(st){return st[st.Sent=0]="Sent",st[st.UploadProgress=1]="UploadProgress",st[st.ResponseHeader=2]="ResponseHeader",st[st.DownloadProgress=3]="DownloadProgress",st[st.Response=4]="Response",st[st.User=5]="User",st}(yt||{});class Wt{constructor(Ue,wt=200,Et="OK"){this.headers=Ue.headers||new xe,this.status=void 0!==Ue.status?Ue.status:wt,this.statusText=Ue.statusText||Et,this.url=Ue.url||null,this.ok=this.status>=200&&this.status<300}}class cn extends Wt{constructor(Ue={}){super(Ue),this.type=yt.ResponseHeader}clone(Ue={}){return new cn({headers:Ue.headers||this.headers,status:void 0!==Ue.status?Ue.status:this.status,statusText:Ue.statusText||this.statusText,url:Ue.url||this.url||void 0})}}class Xt extends Wt{constructor(Ue={}){super(Ue),this.type=yt.Response,this.body=void 0!==Ue.body?Ue.body:null}clone(Ue={}){return new Xt({body:void 0!==Ue.body?Ue.body:this.body,headers:Ue.headers||this.headers,status:void 0!==Ue.status?Ue.status:this.status,statusText:Ue.statusText||this.statusText,url:Ue.url||this.url||void 0})}}class tt extends Wt{constructor(Ue){super(Ue,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ue.url||"(unknown url)"}`:`Http failure response for ${Ue.url||"(unknown url)"}: ${Ue.status} ${Ue.statusText}`,this.error=Ue.error||null}}function he(st,Ue){return{body:Ue,headers:st.headers,context:st.context,observe:st.observe,params:st.params,reportProgress:st.reportProgress,responseType:st.responseType,withCredentials:st.withCredentials,transferCache:st.transferCache}}let ne=(()=>{var st;class Ue{constructor(Et){this.handler=Et}request(Et,xt,Kt={}){let Tn;if(Et instanceof lt)Tn=Et;else{let Kn,ce;Kn=Kt.headers instanceof xe?Kt.headers:new xe(Kt.headers),Kt.params&&(ce=Kt.params instanceof je?Kt.params:new je({fromObject:Kt.params})),Tn=new lt(Et,xt,void 0!==Kt.body?Kt.body:null,{headers:Kn,context:Kt.context,params:ce,reportProgress:Kt.reportProgress,responseType:Kt.responseType||"json",withCredentials:Kt.withCredentials,transferCache:Kt.transferCache})}const pn=(0,H.of)(Tn).pipe((0,le.b)(Kn=>this.handler.handle(Kn)));if(Et instanceof lt||"events"===Kt.observe)return pn;const mn=pn.pipe((0,pe.h)(Kn=>Kn instanceof Xt));switch(Kt.observe||"body"){case"body":switch(Tn.responseType){case"arraybuffer":return mn.pipe((0,ve.U)(Kn=>{if(null!==Kn.body&&!(Kn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Kn.body}));case"blob":return mn.pipe((0,ve.U)(Kn=>{if(null!==Kn.body&&!(Kn.body instanceof Blob))throw new Error("Response is not a Blob.");return Kn.body}));case"text":return mn.pipe((0,ve.U)(Kn=>{if(null!==Kn.body&&"string"!=typeof Kn.body)throw new Error("Response is not a string.");return Kn.body}));default:return mn.pipe((0,ve.U)(Kn=>Kn.body))}case"response":return mn;default:throw new Error(`Unreachable: unhandled observe type ${Kt.observe}}`)}}delete(Et,xt={}){return this.request("DELETE",Et,xt)}get(Et,xt={}){return this.request("GET",Et,xt)}head(Et,xt={}){return this.request("HEAD",Et,xt)}jsonp(Et,xt){return this.request("JSONP",Et,{params:(new je).append(xt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Et,xt={}){return this.request("OPTIONS",Et,xt)}patch(Et,xt,Kt={}){return this.request("PATCH",Et,he(Kt,xt))}post(Et,xt,Kt={}){return this.request("POST",Et,he(Kt,xt))}put(Et,xt,Kt={}){return this.request("PUT",Et,he(Kt,xt))}}return(st=Ue).\u0275fac=function(Et){return new(Et||st)(M.LFG($e))},st.\u0275prov=M.Yz7({token:st,factory:st.\u0275fac}),Ue})();function $t(st,Ue){return Ue(st)}function Cn(st,Ue){return(wt,Et)=>Ue.intercept(wt,{handle:xt=>st(xt,Et)})}const St=new M.OlP(""),At=new M.OlP(""),kt=new M.OlP(""),qt=new M.OlP("");function An(){let st=null;return(Ue,wt)=>{var Et;null===st&&(st=(null!==(Et=(0,M.f3M)(St,{optional:!0}))&&void 0!==Et?Et:[]).reduceRight(Cn,$t));const xt=(0,M.f3M)(M.HDt),Kt=xt.add();return st(Ue,wt).pipe((0,Ye.x)(()=>xt.remove(Kt)))}}let dn=(()=>{var st;class Ue extends $e{constructor(Et,xt){super(),this.backend=Et,this.injector=xt,this.chain=null,this.pendingTasks=(0,M.f3M)(M.HDt);const Kt=(0,M.f3M)(qt,{optional:!0});this.backend=null!=Kt?Kt:Et}handle(Et){if(null===this.chain){const Kt=Array.from(new Set([...this.injector.get(At),...this.injector.get(kt,[])]));this.chain=Kt.reduceRight((Tn,pn)=>function Vt(st,Ue,wt){return(Et,xt)=>wt.runInContext(()=>Ue(Et,Kt=>st(Kt,xt)))}(Tn,pn,this.injector),$t)}const xt=this.pendingTasks.add();return this.chain(Et,Kt=>this.backend.handle(Kt)).pipe((0,Ye.x)(()=>this.pendingTasks.remove(xt)))}}return(st=Ue).\u0275fac=function(Et){return new(Et||st)(M.LFG(we),M.LFG(M.lqb))},st.\u0275prov=M.Yz7({token:st,factory:st.\u0275fac}),Ue})();const Hr=/^\)\]\}',?\n/;let fn=(()=>{var st;class Ue{constructor(Et){this.xhrFactory=Et}handle(Et){if("JSONP"===Et.method)throw new M.vHH(-2800,!1);const xt=this.xhrFactory;return(xt.\u0275loadImpl?(0,_e.D)(xt.\u0275loadImpl()):(0,H.of)(null)).pipe((0,ue.w)(()=>new Q.y(Tn=>{const pn=xt.build();if(pn.open(Et.method,Et.urlWithParams),Et.withCredentials&&(pn.withCredentials=!0),Et.headers.forEach((Je,Ct)=>pn.setRequestHeader(Je,Ct.join(","))),Et.headers.has("Accept")||pn.setRequestHeader("Accept","application/json, text/plain, */*"),!Et.headers.has("Content-Type")){const Je=Et.detectContentTypeHeader();null!==Je&&pn.setRequestHeader("Content-Type",Je)}if(Et.responseType){const Je=Et.responseType.toLowerCase();pn.responseType="json"!==Je?Je:"text"}const mn=Et.serializeBody();let Kn=null;const ce=()=>{if(null!==Kn)return Kn;const Je=pn.statusText||"OK",Ct=new xe(pn.getAllResponseHeaders()),tn=function cr(st){return"responseURL"in st&&st.responseURL?st.responseURL:/^X-Request-URL:/m.test(st.getAllResponseHeaders())?st.getResponseHeader("X-Request-URL"):null}(pn)||Et.url;return Kn=new cn({headers:Ct,status:pn.status,statusText:Je,url:tn}),Kn},Ae=()=>{let{headers:Je,status:Ct,statusText:tn,url:Qt}=ce(),tr=null;204!==Ct&&(tr=typeof pn.response>"u"?pn.responseText:pn.response),0===Ct&&(Ct=tr?200:0);let U=Ct>=200&&Ct<300;if("json"===Et.responseType&&"string"==typeof tr){const J=tr;tr=tr.replace(Hr,"");try{tr=""!==tr?JSON.parse(tr):null}catch(Pe){tr=J,U&&(U=!1,tr={error:Pe,text:tr})}}U?(Tn.next(new Xt({body:tr,headers:Je,status:Ct,statusText:tn,url:Qt||void 0})),Tn.complete()):Tn.error(new tt({error:tr,headers:Je,status:Ct,statusText:tn,url:Qt||void 0}))},K=Je=>{const{url:Ct}=ce(),tn=new tt({error:Je,status:pn.status||0,statusText:pn.statusText||"Unknown Error",url:Ct||void 0});Tn.error(tn)};let Ie=!1;const ht=Je=>{Ie||(Tn.next(ce()),Ie=!0);let Ct={type:yt.DownloadProgress,loaded:Je.loaded};Je.lengthComputable&&(Ct.total=Je.total),"text"===Et.responseType&&pn.responseText&&(Ct.partialText=pn.responseText),Tn.next(Ct)},mt=Je=>{let Ct={type:yt.UploadProgress,loaded:Je.loaded};Je.lengthComputable&&(Ct.total=Je.total),Tn.next(Ct)};return pn.addEventListener("load",Ae),pn.addEventListener("error",K),pn.addEventListener("timeout",K),pn.addEventListener("abort",K),Et.reportProgress&&(pn.addEventListener("progress",ht),null!==mn&&pn.upload&&pn.upload.addEventListener("progress",mt)),pn.send(mn),Tn.next({type:yt.Sent}),()=>{pn.removeEventListener("error",K),pn.removeEventListener("abort",K),pn.removeEventListener("load",Ae),pn.removeEventListener("timeout",K),Et.reportProgress&&(pn.removeEventListener("progress",ht),null!==mn&&pn.upload&&pn.upload.removeEventListener("progress",mt)),pn.readyState!==pn.DONE&&pn.abort()}})))}}return(st=Ue).\u0275fac=function(Et){return new(Et||st)(M.LFG(fe.JF))},st.\u0275prov=M.Yz7({token:st,factory:st.\u0275fac}),Ue})();const bn=new M.OlP("XSRF_ENABLED"),Nr=new M.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),ur=new M.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Dn{}let Qn=(()=>{var st;class Ue{constructor(Et,xt,Kt){this.doc=Et,this.platform=xt,this.cookieName=Kt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Et=this.doc.cookie||"";return Et!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,fe.Mx)(Et,this.cookieName),this.lastCookieString=Et),this.lastToken}}return(st=Ue).\u0275fac=function(Et){return new(Et||st)(M.LFG(fe.K0),M.LFG(M.Lbi),M.LFG(Nr))},st.\u0275prov=M.Yz7({token:st,factory:st.\u0275fac}),Ue})();function kr(st,Ue){const wt=st.url.toLowerCase();if(!(0,M.f3M)(bn)||"GET"===st.method||"HEAD"===st.method||wt.startsWith("http://")||wt.startsWith("https://"))return Ue(st);const Et=(0,M.f3M)(Dn).getToken(),xt=(0,M.f3M)(ur);return null!=Et&&!st.headers.has(xt)&&(st=st.clone({headers:st.headers.set(xt,Et)})),Ue(st)}var Hn=function(st){return st[st.Interceptors=0]="Interceptors",st[st.LegacyInterceptors=1]="LegacyInterceptors",st[st.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",st[st.NoXsrfProtection=3]="NoXsrfProtection",st[st.JsonpSupport=4]="JsonpSupport",st[st.RequestsMadeViaParent=5]="RequestsMadeViaParent",st[st.Fetch=6]="Fetch",st}(Hn||{});function Lr(st,Ue){return{\u0275kind:st,\u0275providers:Ue}}function Ir(...st){const Ue=[ne,fn,dn,{provide:$e,useExisting:dn},{provide:we,useExisting:fn},{provide:At,useValue:kr,multi:!0},{provide:bn,useValue:!0},{provide:Dn,useClass:Qn}];for(const wt of st)Ue.push(...wt.\u0275providers);return(0,M.MR2)(Ue)}const He=new M.OlP("LEGACY_INTERCEPTOR_FN");let Ce=(()=>{var st;class Ue{}return(st=Ue).\u0275fac=function(Et){return new(Et||st)},st.\u0275mod=M.oAB({type:st}),st.\u0275inj=M.cJS({providers:[Ir(Lr(Hn.LegacyInterceptors,[{provide:He,useFactory:An},{provide:At,useExisting:He,multi:!0}]))]}),Ue})()},9212:(ln,nt,w)=>{"use strict";w.d(nt,{tb:()=>T0,AFp:()=>$h,ip1:()=>YD,hGG:()=>jR,z2F:()=>hp,Ojb:()=>ym,sBO:()=>rd,Sil:()=>QS,EJc:()=>GS,Xts:()=>_s,SBq:()=>eh,lqb:()=>$o,qLn:()=>ou,vpe:()=>ha,XFs:()=>ce,OlP:()=>Qt,zs3:()=>ys,ZZ4:()=>Rf,aQg:()=>th,soG:()=>Q_,YKP:()=>sD,h0i:()=>Ch,R0b:()=>po,FiY:()=>vc,Lbi:()=>xp,g9A:()=>Mp,Qsj:()=>fv,FYo:()=>ug,JOm:()=>Ou,tp0:()=>_c,Rgc:()=>nm,dDg:()=>DR,eoX:()=>rC,q4F:()=>mv,GfV:()=>gv,s_b:()=>k_,ifc:()=>uo,T8G:()=>u_,VuI:()=>uP,LMc:()=>dP,MMx:()=>lD,Lck:()=>VA,eFA:()=>aC,G48:()=>LR,Gpc:()=>Cr,f3M:()=>yr,X6Q:()=>kR,$WT:()=>Si,MR2:()=>Cu,_c5:()=>UR,qFp:()=>hP,r_H:()=>Io,rg0:()=>dg,c2e:()=>qD,zSh:()=>Tp,HDt:()=>ZD,wAp:()=>lp,vHH:()=>fn,lri:()=>tC,rWj:()=>nC,cg1:()=>YE,kuF:()=>bn,kL8:()=>KI,dqk:()=>Je,Z0I:()=>wt,eJc:()=>Il,QGY:()=>ZE,F4k:()=>TT,RDi:()=>dy,AaK:()=>Yn,qOj:()=>v_,Xq5:()=>I_,TTD:()=>Xo,_Bn:()=>oD,jDz:()=>uD,xp6:()=>Gu,uIk:()=>Lg,ekj:()=>Me,Suo:()=>AD,Xpm:()=>Oo,lG2:()=>Ko,Yz7:()=>Ln,cJS:()=>st,oAB:()=>di,Yjl:()=>Cs,Y36:()=>Sl,_UZ:()=>HE,GkF:()=>GE,qZA:()=>j_,TgZ:()=>U_,EpF:()=>GI,n5z:()=>Ai,LFG:()=>jr,$8M:()=>gl,$Z:()=>xv,NdJ:()=>XE,CRH:()=>SD,oxw:()=>AT,Hsn:()=>RT,F$t:()=>ST,Q6J:()=>N,DdM:()=>vD,iGM:()=>bD,KtG:()=>al,CHM:()=>Bs,LSH:()=>Bu,P3R:()=>tg,YNc:()=>ep,_uU:()=>qT,Oqu:()=>JE,hij:()=>Y_,Gf:()=>wD});let M=null,Q=1;function le(t){const n=M;return M=t,n}function we(t){if((!Xe(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Q)){if(!t.producerMustRecompute(t)&&!ze(t))return t.dirty=!1,void(t.lastCleanEpoch=Q);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Q}}function ze(t){Se(t);for(let n=0;n<t.producerNode.length;n++){const o=t.producerNode[n],a=t.producerLastReadVersion[n];if(a!==o.version||(we(o),a!==o.version))return!0}return!1}function je(t,n){if(function ge(t){var n,o;null!==(n=t.liveConsumerNode)&&void 0!==n||(t.liveConsumerNode=[]),null!==(o=t.liveConsumerIndexOfThis)&&void 0!==o||(t.liveConsumerIndexOfThis=[])}(t),Se(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)je(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[n]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[n]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,n<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[n],c=t.liveConsumerNode[n];Se(c),c.producerIndexOfThis[a]=n}}function Xe(t){var n,o;return t.consumerIsAlwaysLive||(null!==(n=null==t||null===(o=t.liveConsumerNode)||void 0===o?void 0:o.length)&&void 0!==n?n:0)>0}function Se(t){var n,o,a;null!==(n=t.producerNode)&&void 0!==n||(t.producerNode=[]),null!==(o=t.producerIndexOfThis)&&void 0!==o||(t.producerIndexOfThis=[]),null!==(a=t.producerLastReadVersion)&&void 0!==a||(t.producerLastReadVersion=[])}let Wt=null;var St=w(8645),At=w(7394),kt=w(5592),qt=w(3019),An=w(5619),Nn=w(2096),Zn=w(3020),dn=w(4664),kn=w(3997);function En(t){for(let n in t)if(t[n]===En)return n;throw Error("Could not find renamed property on target object.")}function Dr(t,n){for(const o in n)n.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=n[o])}function Yn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Yn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const n=t.toString();if(null==n)return""+n;const o=n.indexOf("\n");return-1===o?n:n.substring(0,o)}function qn(t,n){return null==t||""===t?null===n?"":n:null==n||""===n?t:t+" "+n}const br=En({__forward_ref__:En});function Cr(t){return t.__forward_ref__=Cr,t.toString=function(){return Yn(this())},t}function Mn(t){return rr(t)?t():t}function rr(t){return"function"==typeof t&&t.hasOwnProperty(br)&&t.__forward_ref__===Cr}function xn(t){return t&&!!t.\u0275providers}const cr="https://g.co/ng/security#xss";class fn extends Error{constructor(n,o){super(bn(n,o)),this.code=n}}function bn(t,n){return`NG0${Math.abs(t)}${n?": "+n:""}`}const er=En({\u0275cmp:En}),Nr=En({\u0275dir:En}),Ur=En({\u0275pipe:En}),ur=En({\u0275mod:En}),Dn=En({\u0275fac:En}),Qn=En({__NG_ELEMENT_ID__:En}),kr=En({__NG_ENV_ID__:En});function Vn(t){return"string"==typeof t?t:null==t?"":String(t)}function B(t,n){throw new fn(-201,!1)}function It(t,n){null==t&&function Qe(t,n,o,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${o} ${a} ${n} <=Actual]`))}(n,t,null,"!=")}function Ln(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function st(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ue(t){return Et(t,Tn)||Et(t,mn)}function wt(t){return null!==Ue(t)}function Et(t,n){return t.hasOwnProperty(n)?t[n]:null}function Kt(t){return t&&(t.hasOwnProperty(pn)||t.hasOwnProperty(Kn))?t[pn]:null}const Tn=En({\u0275prov:En}),pn=En({\u0275inj:En}),mn=En({ngInjectableDef:En}),Kn=En({ngInjectorDef:En});var ce=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ce||{});let Ae;function K(){return Ae}function Ie(t){const n=Ae;return Ae=t,n}function ht(t,n,o){const a=Ue(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&ce.Optional?null:void 0!==n?n:void B(Yn(t))}const Je=globalThis;class Qt{constructor(n,o){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ln({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const gn={},nr="__NG_DI_FLAG__",vr="ngTempTokenPath",ai=/\n/gm,me="__source";let x;function ut(t){const n=x;return x=t,n}function pr(t,n=ce.Default){if(void 0===x)throw new fn(-203,!1);return null===x?ht(t,void 0,n):x.get(t,n&ce.Optional?null:void 0,n)}function jr(t,n=ce.Default){return(K()||pr)(Mn(t),n)}function yr(t,n=ce.Default){return jr(t,Ui(n))}function Ui(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function eo(t){const n=[];for(let o=0;o<t.length;o++){const a=Mn(t[o]);if(Array.isArray(a)){if(0===a.length)throw new fn(900,!1);let c,h=ce.Default;for(let g=0;g<a.length;g++){const v=a[g],E=zo(v);"number"==typeof E?-1===E?c=v.token:h|=E:c=v}n.push(jr(c,h))}else n.push(jr(a))}return n}function bo(t,n){return t[nr]=n,t.prototype[nr]=n,t}function zo(t){return t[nr]}function lo(t){return{toString:t}.toString()}var go=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(go||{}),uo=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(uo||{});const Ti={},Fr=[];function to(t,n,o){let a=t.length;for(;;){const c=t.indexOf(n,o);if(-1===c)return c;if(0===c||t.charCodeAt(c-1)<=32){const h=n.length;if(c+h===a||t.charCodeAt(c+h)<=32)return c}o=c+1}}function mo(t,n,o){let a=0;for(;a<o.length;){const c=o[a];if("number"==typeof c){if(0!==c)break;a++;const h=o[a++],g=o[a++],v=o[a++];t.setAttribute(n,g,v,h)}else{const h=c,g=o[++a];no(h)?t.setProperty(n,h,g):t.setAttribute(n,h,g),a++}}return a}function Go(t){return 3===t||4===t||6===t}function no(t){return 64===t.charCodeAt(0)}function Yo(t,n){if(null!==n&&0!==n.length)if(null===t||0===t.length)t=n.slice();else{let o=-1;for(let a=0;a<n.length;a++){const c=n[a];"number"==typeof c?o=c:0===o||ts(t,o,c,null,-1===o||2===o?n[++a]:null)}}return t}function ts(t,n,o,a,c){let h=0,g=t.length;if(-1===n)g=-1;else for(;h<t.length;){const v=t[h++];if("number"==typeof v){if(v===n){g=-1;break}if(v>n){g=h-1;break}}}for(;h<t.length;){const v=t[h];if("number"==typeof v)break;if(v===o){if(null===a)return void(null!==c&&(t[h+1]=c));if(a===t[h+1])return void(t[h+2]=c)}h++,null!==a&&h++,null!==c&&h++}-1!==g&&(t.splice(g,0,n),h=g+1),t.splice(h++,0,o),null!==a&&t.splice(h++,0,a),null!==c&&t.splice(h++,0,c)}const Js="ng-template";function ea(t,n,o){let a=0,c=!0;for(;a<t.length;){let h=t[a++];if("string"==typeof h&&c){const g=t[a++];if(o&&"class"===h&&-1!==to(g.toLowerCase(),n,0))return!0}else{if(1===h){for(;a<t.length&&"string"==typeof(h=t[a++]);)if(h.toLowerCase()===n)return!0;return!1}"number"==typeof h&&(c=!1)}}return!1}function ta(t){return 4===t.type&&t.value!==Js}function Mo(t,n,o){return n===(4!==t.type||o?t.value:Js)}function ns(t,n,o){let a=4;const c=t.attrs||[],h=function ds(t){for(let n=0;n<t.length;n++)if(Go(t[n]))return n;return t.length}(c);let g=!1;for(let v=0;v<n.length;v++){const E=n[v];if("number"!=typeof E){if(!g)if(4&a){if(a=2|1&a,""!==E&&!Mo(t,E,o)||""===E&&1===n.length){if(Ki(a))return!1;g=!0}}else{const V=8&a?E:n[++v];if(8&a&&null!==t.attrs){if(!ea(t.attrs,V,o)){if(Ki(a))return!1;g=!0}continue}const re=Fs(8&a?"class":E,c,ta(t),o);if(-1===re){if(Ki(a))return!1;g=!0;continue}if(""!==V){let Oe;Oe=re>h?"":c[re+1].toLowerCase();const ot=8&a?Oe:null;if(ot&&-1!==to(ot,V,0)||2&a&&V!==Oe){if(Ki(a))return!1;g=!0}}}}else{if(!g&&!Ki(a)&&!Ki(E))return!1;if(g&&Ki(E))continue;g=!1,a=E|1&a}}return Ki(a)||g}function Ki(t){return 0==(1&t)}function Fs(t,n,o,a){if(null===n)return-1;let c=0;if(a||!o){let h=!1;for(;c<n.length;){const g=n[c];if(g===t)return c;if(3===g||6===g)h=!0;else{if(1===g||2===g){let v=n[++c];for(;"string"==typeof v;)v=n[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=h?1:2}return-1}return function Vs(t,n){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===n)return o;o++}return-1}(n,t)}function ro(t,n,o=!1){for(let a=0;a<n.length;a++)if(ns(t,n[a],o))return!0;return!1}function hs(t,n){e:for(let o=0;o<n.length;o++){const a=n[o];if(t.length===a.length){for(let c=0;c<t.length;c++)if(t[c]!==a[c])continue e;return!0}}return!1}function xo(t,n){return t?":not("+n.trim()+")":n}function ji(t){let n=t[0],o=1,a=2,c="",h=!1;for(;o<t.length;){let g=t[o];if("string"==typeof g)if(2&a){const v=t[++o];c+="["+g+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?c+="."+g:4&a&&(c+=" "+g);else""!==c&&!Ki(g)&&(n+=xo(h,c),c=""),a=g,h=h||!Ki(a);o++}return""!==c&&(n+=xo(h,c)),n}function Oo(t){return lo(()=>{var n;const o=Zo(t),a={...o,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===go.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:null!==(n=t.signals)&&void 0!==n&&n,data:t.data||{},encapsulation:t.encapsulation||uo.Emulated,styles:t.styles||Fr,_:null,schemas:t.schemas||null,tView:null,id:""};Hi(a);const c=t.dependencies;return a.directiveDefs=fs(c,!1),a.pipeDefs=fs(c,!0),a.id=function Z(t){let n=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const c of o)n=Math.imul(31,n)+c.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(a),a})}function Ds(t){return Rr(t)||hi(t)}function Fa(t){return null!==t}function di(t){return lo(()=>({type:t.type,bootstrap:t.bootstrap||Fr,declarations:t.declarations||Fr,imports:t.imports||Fr,exports:t.exports||Fr,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function qo(t,n){if(null==t)return Ti;const o={};for(const a in t)if(t.hasOwnProperty(a)){let c=t[a],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),o[c]=a,n&&(n[c]=h)}return o}function Ko(t){return lo(()=>{const n=Zo(t);return Hi(n),n})}function Cs(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Rr(t){return t[er]||null}function hi(t){return t[Nr]||null}function vi(t){return t[Ur]||null}function Si(t){const n=Rr(t)||hi(t)||vi(t);return null!==n&&n.standalone}function _i(t,n){const o=t[ur]||null;if(!o&&!0===n)throw new Error(`Type ${Yn(t)} does not have '\u0275mod' property.`);return o}function Zo(t){const n={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:t.inputs||Ti,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Fr,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qo(t.inputs,n),outputs:qo(t.outputs),debugInfo:null}}function Hi(t){var n;null===(n=t.features)||void 0===n||n.forEach(o=>o(t))}function fs(t,n){if(!t)return null;const o=n?vi:Ds;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(Fa)}const G=0,ye=1,Fe=2,it=3,Ut=4,k=5,P=6,ee=7,L=8,de=9,Ht=10,Gt=11,Tr=12,zr=13,ui=14,dr=15,Fi=16,Ri=17,Gr=18,Qr=19,co=20,Pi=21,No=22,Vi=23,sr=25,va=1,io=7,zi=9,Mi=10;var Yr=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(Yr||{});function Zi(t){return Array.isArray(t)&&"object"==typeof t[va]}function Oi(t){return Array.isArray(t)&&!0===t[va]}function ho(t){return 0!=(4&t.flags)}function ps(t){return t.componentOffset>-1}function na(t){return 1==(1&t.flags)}function Wi(t){return!!t.template}function Va(t){return 0!=(512&t[Fe])}function Mr(t,n){return t.hasOwnProperty(Dn)?t[Dn]:null}class wi{constructor(n,o,a){this.previousValue=n,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function Xo(){return sn}function sn(t){return t.type.prototype.ngOnChanges&&(t.setInput=$i),gi}function gi(){const t=zn(this),n=null==t?void 0:t.current;if(n){const o=t.previous;if(o===Ti)t.previous=n;else for(let a in n)o[a]=n[a];t.current=null,this.ngOnChanges(n)}}function $i(t,n,o,a){const c=this.declaredInputs[o],h=zn(t)||function Jn(t,n){return t[ko]=n}(t,{previous:Ti,current:null}),g=h.current||(h.current={}),v=h.previous,E=v[c];g[c]=new wi(E&&E.currentValue,n,v===Ti),t[a]=n}Xo.ngInherit=!0;const ko="__ngSimpleChanges__";function zn(t){return t[ko]||null}const Ot=function(t,n,o){};function yi(t){for(;Array.isArray(t);)t=t[G];return t}function Ml(t,n){return yi(n[t])}function fo(t,n){return yi(n[t.index])}function Ea(t,n){return t.data[n]}function vo(t,n){const o=n[t];return Zi(o)?o:o[G]}function rc(t){return 128==(128&t[Fe])}function gr(t,n){return null==n?null:t[n]}function oa(t){t[Ri]=0}function xl(t){1024&t[Fe]||(t[Fe]|=1024,rc(t)&&sa(t))}function ar(t){9216&t[Fe]&&sa(t)}function sa(t){let n=t[it];for(;null!==n&&!(Oi(n)&&n[Fe]&Yr.HasChildViewsToRefresh||Zi(n)&&8192&n[Fe]);){if(Oi(n))n[Fe]|=Yr.HasChildViewsToRefresh;else if(n[Fe]|=8192,!rc(n))break;n=n[it]}}function Wr(t,n){if(256==(256&t[Fe]))throw new fn(911,!1);null===t[Pi]&&(t[Pi]=[]),t[Pi].push(n)}const Xn={lFrame:Pt(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ss(){return Xn.bindingsEnabled}function Rs(){return null!==Xn.skipHydrationRootTNode}function Jt(){return Xn.lFrame.lView}function Zr(){return Xn.lFrame.tView}function Bs(t){return Xn.lFrame.contextLView=t,t[L]}function al(t){return Xn.lFrame.contextLView=null,t}function Tt(){let t=Us();for(;null!==t&&64===t.type;)t=t.parent;return t}function Us(){return Xn.lFrame.currentTNode}function Lo(t,n){const o=Xn.lFrame;o.currentTNode=t,o.isParent=n}function Ps(){return Xn.lFrame.isParent}function Ms(){Xn.lFrame.isParent=!1}function Bi(){return Xn.lFrame.bindingIndex++}function So(t,n){const o=Xn.lFrame;o.bindingIndex=o.bindingRootIndex=t,S(n)}function S(t){Xn.lFrame.currentDirectiveIndex=t}function T(){return Xn.lFrame.currentQueryIndex}function F(t){Xn.lFrame.currentQueryIndex=t}function ae(t){const n=t[ye];return 2===n.type?n.declTNode:1===n.type?t[k]:null}function be(t,n,o){if(o&ce.SkipSelf){let c=n,h=t;for(;!(c=c.parent,null!==c||o&ce.Host||(c=ae(h),null===c||(h=h[ui],10&c.type))););if(null===c)return!1;n=c,t=h}const a=Xn.lFrame=_n();return a.currentTNode=n,a.lView=t,!0}function bt(t){const n=_n(),o=t[ye];Xn.lFrame=n,n.currentTNode=o.firstChild,n.lView=t,n.tView=o,n.contextLView=t,n.bindingIndex=o.bindingStartIndex,n.inI18n=!1}function _n(){const t=Xn.lFrame,n=null===t?null:t.child;return null===n?Pt(t):n}function Pt(t){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=n),n}function Un(){const t=Xn.lFrame;return Xn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Ar=Un;function Di(){const t=Un();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ni(){return Xn.lFrame.selectedIndex}function Qo(t){Xn.lFrame.selectedIndex=t}function fi(){const t=Xn.lFrame;return Ea(t.tView,t.selectedIndex)}let ac=!0;function yu(){return ac}function js(t){ac=t}function Ua(t,n){for(let V=n.directiveStart,Y=n.directiveEnd;V<Y;V++){const Oe=t.data[V].type.prototype,{ngAfterContentInit:ot,ngAfterContentChecked:Lt,ngAfterViewInit:an,ngAfterViewChecked:On,ngOnDestroy:Gn}=Oe;var o,a,c,h,g,v,E;ot&&(null!==(o=t.contentHooks)&&void 0!==o?o:t.contentHooks=[]).push(-V,ot),Lt&&((null!==(a=t.contentHooks)&&void 0!==a?a:t.contentHooks=[]).push(V,Lt),(null!==(c=t.contentCheckHooks)&&void 0!==c?c:t.contentCheckHooks=[]).push(V,Lt)),an&&(null!==(h=t.viewHooks)&&void 0!==h?h:t.viewHooks=[]).push(-V,an),On&&((null!==(g=t.viewHooks)&&void 0!==g?g:t.viewHooks=[]).push(V,On),(null!==(v=t.viewCheckHooks)&&void 0!==v?v:t.viewCheckHooks=[]).push(V,On)),null!=Gn&&(null!==(E=t.destroyHooks)&&void 0!==E?E:t.destroyHooks=[]).push(V,Gn)}}function Qi(t,n,o){ba(t,n,3,o)}function dl(t,n,o,a){(3&t[Fe])===o&&ba(t,n,o,a)}function aa(t,n){let o=t[Fe];(3&o)===n&&(o&=16383,o+=1,t[Fe]=o)}function ba(t,n,o,a){const h=null!=a?a:-1,g=n.length-1;let v=0;for(let E=void 0!==a?65535&t[Ri]:0;E<g;E++)if("number"==typeof n[E+1]){if(v=n[E],null!=a&&v>=a)break}else n[E]<0&&(t[Ri]+=65536),(v<h||-1==h)&&(uc(t,o,n,E),t[Ri]=(4294901760&t[Ri])+E+2),E++}function Ii(t,n){Ot(4,t,n);const o=le(null);try{n.call(t)}finally{le(o),Ot(5,t,n)}}function uc(t,n,o,a){const c=o[a]<0,h=o[a+1],v=t[c?-o[a]:o[a]];c?t[Fe]>>14<t[Ri]>>16&&(3&t[Fe])===n&&(t[Fe]+=16384,Ii(v,h)):Ii(v,h)}const Yi=-1;class ci{constructor(n,o,a){this.factory=n,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function la(t){return t!==Yi}function Ci(t){return 32767&t}function ja(t,n){let o=function Hs(t){return t>>16}(t),a=n;for(;o>0;)a=a[ui],o--;return a}let ua=!0;function Ha(t){const n=ua;return ua=t,n}const zs=255,Ws=5;let Ol=0;const Ro={};function Aa(t,n){const o=Ed(t,n);if(-1!==o)return o;const a=n[ye];a.firstCreatePass&&(t.injectorIndex=n.length,Ys(a.data,t),Ys(n,null),Ys(a.blueprint,null));const c=Sa(t,n),h=t.injectorIndex;if(la(c)){const g=Ci(c),v=ja(c,n),E=v[ye].data;for(let V=0;V<8;V++)n[h+V]=v[g+V]|E[g+V]}return n[h+8]=c,h}function Ys(t,n){t.push(0,0,0,0,0,0,0,0,n)}function Ed(t,n){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===n[t.injectorIndex+8]?-1:t.injectorIndex}function Sa(t,n){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,c=n;for(;null!==c;){if(a=Eu(c),null===a)return Yi;if(o++,c=c[ui],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return Yi}function hl(t,n,o){!function Gs(t,n,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(Qn)&&(a=o[Qn]),null==a&&(a=o[Qn]=Ol++);const c=a&zs;n.data[t+(c>>Ws)]|=1<<c}(t,n,o)}function za(t,n,o){if(o&ce.Optional||void 0!==t)return t;B()}function Nl(t,n,o,a){if(o&ce.Optional&&void 0===a&&(a=null),!(o&(ce.Self|ce.Host))){const c=t[de],h=Ie(void 0);try{return c?c.get(n,a,o&ce.Optional):ht(n,a,o&ce.Optional)}finally{Ie(h)}}return za(a,0,o)}function kl(t,n,o,a=ce.Default,c){if(null!==t){if(2048&n[Fe]&&!(a&ce.Self)){const g=function Cd(t,n,o,a,c){let h=t,g=n;for(;null!==h&&null!==g&&2048&g[Fe]&&!(512&g[Fe]);){const v=Id(h,g,o,a|ce.Self,Ro);if(v!==Ro)return v;let E=h.parent;if(!E){const V=g[co];if(V){const Y=V.get(o,Ro,a);if(Y!==Ro)return Y}E=Eu(g),g=g[ui]}h=E}return c}(t,n,o,a,Ro);if(g!==Ro)return g}const h=Id(t,n,o,a,Ro);if(h!==Ro)return h}return Nl(n,o,a,c)}function Id(t,n,o,a,c){const h=function fc(t){if("string"==typeof t)return t.charCodeAt(0)||0;const n=t.hasOwnProperty(Qn)?t[Qn]:void 0;return"number"==typeof n?n>=0?n&zs:Dd:n}(o);if("function"==typeof h){if(!be(n,t,a))return a&ce.Host?za(c,0,a):Nl(n,o,a,c);try{let g;if(g=h(a),null!=g||a&ce.Optional)return g;B()}finally{Ar()}}else if("number"==typeof h){let g=null,v=Ed(t,n),E=Yi,V=a&ce.Host?n[dr][k]:null;for((-1===v||a&ce.SkipSelf)&&(E=-1===v?Sa(t,n):n[v+8],E!==Yi&&Td(a,!1)?(g=n[ye],v=Ci(E),n=ja(E,n)):v=-1);-1!==v;){const Y=n[ye];if(pc(h,v,Y.data)){const re=hc(v,n,o,g,a,V);if(re!==Ro)return re}E=n[v+8],E!==Yi&&Td(a,n[ye].data[v+8]===V)&&pc(h,v,n)?(g=Y,v=Ci(E),n=ja(E,n)):v=-1}}return c}function hc(t,n,o,a,c,h){const g=n[ye],v=g.data[t+8],Y=fl(v,g,o,null==a?ps(v)&&ua:a!=g&&0!=(3&v.type),c&ce.Host&&h===v);return null!==Y?ms(n,g,Y,v):Ro}function fl(t,n,o,a,c){const h=t.providerIndexes,g=n.data,v=1048575&h,E=t.directiveStart,Y=h>>20,Oe=c?v+Y:t.directiveEnd;for(let ot=a?v:v+Y;ot<Oe;ot++){const Lt=g[ot];if(ot<E&&o===Lt||ot>=E&&Lt.type===o)return ot}if(c){const ot=g[E];if(ot&&Wi(ot)&&ot.type===o)return E}return null}function ms(t,n,o,a){let c=t[o];const h=n.data;if(function cc(t){return t instanceof ci}(c)){const g=c;g.resolving&&function hr(t,n){const o=n?`. Dependency path: ${n.join(" > ")} > ${t}`:"";throw new fn(-200,`Circular dependency in DI detected for ${t}${o}`)}(function Hn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Vn(t)}(h[o]));const v=Ha(g.canSeeViewProviders);g.resolving=!0;const V=g.injectImpl?Ie(g.injectImpl):null;be(t,a,ce.Default);try{c=t[o]=g.factory(void 0,h,t,a),n.firstCreatePass&&o>=a.directiveStart&&function lc(t,n,o){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:h}=n.type.prototype;if(a){var g,v;const re=sn(n);(null!==(g=o.preOrderHooks)&&void 0!==g?g:o.preOrderHooks=[]).push(t,re),(null!==(v=o.preOrderCheckHooks)&&void 0!==v?v:o.preOrderCheckHooks=[]).push(t,re)}var E,V,Y;c&&(null!==(E=o.preOrderHooks)&&void 0!==E?E:o.preOrderHooks=[]).push(0-t,c),h&&((null!==(V=o.preOrderHooks)&&void 0!==V?V:o.preOrderHooks=[]).push(t,h),(null!==(Y=o.preOrderCheckHooks)&&void 0!==Y?Y:o.preOrderCheckHooks=[]).push(t,h))}(o,h[o],n)}finally{null!==V&&Ie(V),Ha(v),g.resolving=!1,Ar()}}return c}function pc(t,n,o){return!!(o[n+(t>>Ws)]&1<<t)}function Td(t,n){return!(t&ce.Self||t&ce.Host&&n)}class ti{constructor(n,o){this._tNode=n,this._lView=o}get(n,o,a){return kl(this._tNode,this._lView,n,Ui(a),o)}}function Dd(){return new ti(Tt(),Jt())}function Ai(t){return lo(()=>{const n=t.prototype.constructor,o=n[Dn]||ca(n),a=Object.prototype;let c=Object.getPrototypeOf(t.prototype).constructor;for(;c&&c!==a;){const h=c[Dn]||ca(c);if(h&&h!==o)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function ca(t){return rr(t)?()=>{const n=ca(Mn(t));return n&&n()}:Mr(t)}function Eu(t){const n=t[ye],o=n.type;return 2===o?n.declTNode:1===o?t[k]:null}function gl(t){return function dc(t,n){if("class"===n)return t.classes;if("style"===n)return t.styles;const o=t.attrs;if(o){const a=o.length;let c=0;for(;c<a;){const h=o[c];if(Go(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<a&&"string"==typeof o[c];)c++;else{if(h===n)return o[c+1];c+=2}}}return null}(Tt(),t)}const ml="__parameters__";function Pa(t,n,o){return lo(()=>{const a=function Wa(t){return function(...o){if(t){const a=t(...o);for(const c in a)this[c]=a[c]}}}(n);function c(...h){if(this instanceof c)return a.apply(this,h),this;const g=new c(...h);return v.annotation=g,v;function v(E,V,Y){const re=E.hasOwnProperty(ml)?E[ml]:Object.defineProperty(E,ml,{value:[]})[ml];for(;re.length<=Y;)re.push(null);return(re[Y]=re[Y]||[]).push(g),E}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=t,c.annotationCls=c,c})}function vs(t,n){t.forEach(o=>Array.isArray(o)?vs(o,n):n(o))}function Vl(t,n,o){n>=t.length?t.push(o):t.splice(n,0,o)}function vl(t,n){return n>=t.length-1?t.pop():t.splice(n,1)[0]}function Ga(t,n){const o=[];for(let a=0;a<t;a++)o.push(n);return o}function Eo(t,n,o){let a=Ya(t,n);return a>=0?t[1|a]=o:(a=~a,function xs(t,n,o,a){let c=t.length;if(c==n)t.push(o,a);else if(1===c)t.push(a,t[0]),t[0]=o;else{for(c--,t.push(t[c-1],t[c]);c>n;)t[c]=t[c-2],c--;t[n]=o,t[n+1]=a}}(t,a,n,o)),a}function $l(t,n){const o=Ya(t,n);if(o>=0)return t[1|o]}function Ya(t,n){return function Vo(t,n,o){let a=0,c=t.length>>o;for(;c!==a;){const h=a+(c-a>>1),g=t[h<<o];if(n===g)return h<<o;g>n?c=h:a=h+1}return~(c<<o)}(t,n,1)}const vc=bo(Pa("Optional"),8),_c=bo(Pa("SkipSelf"),4),_s=new Qt("ENVIRONMENT_INITIALIZER"),jl=new Qt("INJECTOR",-1),Oa=new Qt("INJECTOR_DEF_TYPES");class Os{get(n,o=gn){if(o===gn){const a=new Error(`NullInjectorError: No provider for ${Yn(n)}!`);throw a.name="NullInjectorError",a}return o}}function Cu(t){return{\u0275providers:t}}function Ka(...t){return{\u0275providers:bu(0,t),\u0275fromNgModule:!0}}function bu(t,...n){const o=[],a=new Set;let c;const h=g=>{o.push(g)};return vs(n,g=>{const v=g;Hl(v,h,[],a)&&(c||(c=[]),c.push(v))}),void 0!==c&&Za(c,h),o}function Za(t,n){for(let o=0;o<t.length;o++){const{ngModule:a,providers:c}=t[o];Xa(c,h=>{n(h,a)})}}function Hl(t,n,o,a){if(!(t=Mn(t)))return!1;let c=null,h=Kt(t);const g=!h&&Rr(t);if(h||g){if(g&&!g.standalone)return!1;c=t}else{const E=t.ngModule;if(h=Kt(E),!h)return!1;c=E}const v=a.has(c);if(g){if(v)return!1;if(a.add(c),g.dependencies){const E="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const V of E)Hl(V,n,o,a)}}else{if(!h)return!1;{if(null!=h.imports&&!v){let V;a.add(c);try{vs(h.imports,Y=>{Hl(Y,n,o,a)&&(V||(V=[]),V.push(Y))})}finally{}void 0!==V&&Za(V,n)}if(!v){const V=Mr(c)||(()=>new c);n({provide:c,useFactory:V,deps:Fr},c),n({provide:Oa,useValue:c,multi:!0},c),n({provide:_s,useValue:()=>jr(c),multi:!0},c)}const E=h.providers;if(null!=E&&!v){const V=t;Xa(E,Y=>{n(Y,V)})}}}return c!==t&&void 0!==t.providers}function Xa(t,n){for(let o of t)xn(o)&&(o=o.\u0275providers),Array.isArray(o)?Xa(o,n):n(o)}const Ip=En({provide:String,useValue:En});function wu(t){return null!==t&&"object"==typeof t&&Ip in t}function Qa(t){return"function"==typeof t}const Tp=new Qt("Set Injector scope."),zl={},ay={};let Oh;function El(){return void 0===Oh&&(Oh=new Os),Oh}class $o{}class Au extends $o{get destroyed(){return this._destroyed}constructor(n,o,a,c){super(),this.parent=o,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bp(n,g=>this.processProvider(g)),this.records.set(jl,Wl(void 0,this)),c.has("environment")&&this.records.set($o,Wl(void 0,this));const h=this.records.get(Tp);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Oa,Fr,ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const o=ut(this),a=Ie(void 0);try{return n()}finally{ut(o),Ie(a)}}get(n,o=gn,a=ce.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(kr))return n[kr](this);a=Ui(a);const h=ut(this),g=Ie(void 0);try{if(!(a&ce.SkipSelf)){let E=this.records.get(n);if(void 0===E){const V=function ly(t){return"function"==typeof t||"object"==typeof t&&t instanceof Qt}(n)&&Ue(n);E=V&&this.injectableDefInScope(V)?Wl(Nh(n),zl):null,this.records.set(n,E)}if(null!=E)return this.hydrate(n,E)}return(a&ce.Self?El():this.parent).get(n,o=a&ce.Optional&&o===gn?null:o)}catch(v){if("NullInjectorError"===v.name){if((v[vr]=v[vr]||[]).unshift(Yn(n)),h)throw v;return function Qs(t,n,o,a){const c=t[vr];throw n[me]&&c.unshift(n[me]),t.message=function Wo(t,n,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let c=Yn(n);if(Array.isArray(n))c=n.map(Yn).join(" -> ");else if("object"==typeof n){let h=[];for(let g in n)if(n.hasOwnProperty(g)){let v=n[g];h.push(g+":"+("string"==typeof v?JSON.stringify(v):Yn(v)))}c=`{${h.join(", ")}}`}return`${o}${a?"("+a+")":""}[${c}]: ${t.replace(ai,"\n  ")}`}("\n"+t.message,c,o,a),t.ngTokenPath=c,t[vr]=null,t}(v,n,"R3InjectorError",this.source)}throw v}finally{Ie(g),ut(h)}}resolveInjectorInitializers(){const n=ut(this),o=Ie(void 0);try{const c=this.get(_s,Fr,ce.Self);for(const h of c)h()}finally{ut(n),Ie(o)}}toString(){const n=[],o=this.records;for(const a of o.keys())n.push(Yn(a));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new fn(205,!1)}processProvider(n){let o=Qa(n=Mn(n))?n:Mn(n&&n.provide);const a=function Ec(t){return wu(t)?Wl(void 0,t.useValue):Wl(kh(t),zl)}(n);if(Qa(n)||!0!==n.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=Wl(void 0,zl,!0),c.factory=()=>eo(c.multi),this.records.set(o,c)),o=n,c.multi.push(n)}this.records.set(o,a)}hydrate(n,o){return o.value===zl&&(o.value=ay,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Cp(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(n){if(!n.providedIn)return!1;const o=Mn(n.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(n){const o=this._onDestroyHooks.indexOf(n);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Nh(t){const n=Ue(t),o=null!==n?n.factory:Mr(t);if(null!==o)return o;if(t instanceof Qt)throw new fn(204,!1);if(t instanceof Function)return function fm(t){const n=t.length;if(n>0)throw Ga(n,"?"),new fn(204,!1);const o=function xt(t){return t&&(t[Tn]||t[mn])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new fn(204,!1)}function kh(t,n,o){let a;if(Qa(t)){const c=Mn(t);return Mr(c)||Nh(c)}if(wu(t))a=()=>Mn(t.useValue);else if(function Md(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...eo(t.deps||[]));else if(function ki(t){return!(!t||!t.useExisting)}(t))a=()=>jr(Mn(t.useExisting));else{const c=Mn(t&&(t.useClass||t.provide));if(!function Dp(t){return!!t.deps}(t))return Mr(c)||Nh(c);a=()=>new c(...eo(t.deps))}return a}function Wl(t,n,o=!1){return{factory:t,value:n,multi:o?[]:void 0}}function bp(t,n){for(const o of t)Array.isArray(o)?bp(o,n):o&&xn(o)?bp(o.\u0275providers,n):n(o)}function Io(t,n){t instanceof Au&&t.assertNotDestroyed();const a=ut(t),c=Ie(void 0);try{return n()}finally{ut(a),Ie(c)}}function Ic(t,n=null,o=null,a){const c=Tc(t,n,o,a);return c.resolveInjectorInitializers(),c}function Tc(t,n=null,o=null,a,c=new Set){const h=[o||Fr,Ka(t)];return a=a||("object"==typeof t?void 0:Yn(t)),new Au(h,n||El(),a||null,c)}let Pp,ys=(()=>{var t;class n{static create(a,c){if(Array.isArray(a))return Ic({name:""},c,a,"");{var h;const g=null!==(h=a.name)&&void 0!==h?h:"";return Ic({name:g},a.parent,a.providers,g)}}}return(t=n).THROW_IF_NOT_FOUND=gn,t.NULL=new Os,t.\u0275prov=Ln({token:t,providedIn:"any",factory:()=>jr(jl)}),t.__NG_ELEMENT_ID__=-1,n})();function Il(t){return!!_i(t)}function dy(t){Pp=t}const $h=new Qt("AppId",{providedIn:"root",factory:()=>Cc}),Cc="ng",Mp=new Qt("Platform Initializer"),xp=new Qt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ym=new Qt("CSP nonce",{providedIn:"root",factory:()=>{var t;return(null===(t=function Gl(){if(void 0!==Pp)return Pp;if(typeof document<"u")return document;throw new fn(210,!1)}().body)||void 0===t||null===(t=t.querySelector("[ngCspNonce]"))||void 0===t?void 0:t.getAttribute("ngCspNonce"))||null}});function Ns(t){return t instanceof Function?t():t}function kd(t){return 128==(128&t.flags)}var Ou=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ou||{});const Fd=/^>|^->|<!--|-->|--!>|<!-$/g,Nu=/(<|>)/g,vy="\u200b$1\u200b";const $p=new Map;let _y=0;const $d="__ngContext__";function Bo(t,n){Zi(n)?(t[$d]=n[Qr],function Vd(t){$p.set(t[Qr],t)}(n)):t[$d]=n}let ku;function Ql(t,n){return ku(t,n)}function Sc(t){const n=t[it];return Oi(n)?n[it]:n}function Ud(t){return Bp(t[Tr])}function jd(t){return Bp(t[Ut])}function Bp(t){for(;null!==t&&!Oi(t);)t=t[Ut];return t}function qs(t,n,o,a,c){if(null!=a){let h,g=!1;Oi(a)?h=a:Zi(a)&&(g=!0,a=a[G]);const v=yi(a);0===t&&null!==o?null==c?tu(n,o,v):eu(n,o,v,c||null,!0):1===t&&null!==o?eu(n,o,v,c||null,!0):2===t?function ef(t,n,o){const a=Xh(t,n);a&&function Bm(t,n,o,a){t.removeChild(n,o,a)}(t,a,n,o)}(n,v,g):3===t&&n.destroyNode(v),null!=h&&function jp(t,n,o,a,c){const h=o[io];h!==yi(o)&&qs(n,t,a,h,c);for(let v=Mi;v<o.length;v++){const E=o[v];Gd(E[ye],E,t,n,a,h)}}(n,t,h,o,c)}}function Cl(t,n){return t.createComment(function Vp(t){return t.replace(Fd,n=>n.replace(Nu,vy))}(n))}function qh(t,n,o){return t.createElement(n,o)}function Fm(t,n){const o=t[zi],a=o.indexOf(n);o.splice(a,1)}function Pc(t,n){if(t.length<=Mi)return;const o=Mi+n,a=t[o];if(a){const c=a[Fi];null!==c&&c!==t&&Fm(c,a),n>0&&(t[o-1][Ut]=a[Ut]);const h=vl(t,Mi+n);!function Rc(t,n){Gd(t,n,n[Gt],2,null,null),n[G]=null,n[k]=null}(a[ye],a);const g=h[Gr];null!==g&&g.detachView(h[ye]),a[it]=null,a[Ut]=null,a[Fe]&=-129}return a}function Kh(t,n){if(!(256&n[Fe])){const o=n[Gt];n[Vi]&&function dt(t){if(Se(t),Xe(t))for(let n=0;n<t.producerNode.length;n++)je(t.producerNode[n],t.producerIndexOfThis[n]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(n[Vi]),o.destroyNode&&Gd(t,n,o,3,null,null),function km(t){let n=t[Tr];if(!n)return Mc(t[ye],t);for(;n;){let o=null;if(Zi(n))o=n[Tr];else{const a=n[Mi];a&&(o=a)}if(!o){for(;n&&!n[Ut]&&n!==t;)Zi(n)&&Mc(n[ye],n),n=n[it];null===n&&(n=t),Zi(n)&&Mc(n[ye],n),o=n&&n[Ut]}n=o}}(n)}}function Mc(t,n){if(!(256&n[Fe])){n[Fe]&=-129,n[Fe]|=256,function Ty(t,n){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const c=n[o[a]];if(!(c instanceof ci)){const h=o[a+1];if(Array.isArray(h))for(let g=0;g<h.length;g+=2){const v=c[h[g]],E=h[g+1];Ot(4,v,E);try{E.call(v)}finally{Ot(5,v,E)}}else{Ot(4,c,h);try{h.call(c)}finally{Ot(5,c,h)}}}}}(t,n),function Vm(t,n){const o=t.cleanup,a=n[ee];if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const g=o[h+3];g>=0?a[g]():a[-g].unsubscribe(),h+=2}else o[h].call(a[o[h+1]]);null!==a&&(n[ee]=null);const c=n[Pi];if(null!==c){n[Pi]=null;for(let h=0;h<c.length;h++)(0,c[h])()}}(t,n),1===n[ye].type&&n[Gt].destroy();const o=n[Fi];if(null!==o&&Oi(n[it])){o!==n[it]&&Fm(o,n);const a=n[Gr];null!==a&&a.detachView(t)}!function Xl(t){$p.delete(t[Qr])}(n)}}function Zh(t,n,o){return function $m(t,n,o){let a=n;for(;null!==a&&40&a.type;)a=(n=a).parent;if(null===a)return o[G];{const{componentOffset:c}=a;if(c>-1){const{encapsulation:h}=t.data[a.directiveStart+c];if(h===uo.None||h===uo.Emulated)return null}return fo(a,o)}}(t,n.parent,o)}function eu(t,n,o,a,c){t.insertBefore(n,o,a,c)}function tu(t,n,o){t.appendChild(n,o)}function xc(t,n,o,a,c){null!==a?eu(t,n,o,a,c):tu(t,n,o)}function Xh(t,n){return t.parentNode(n)}function jm(t,n,o){return Qh(t,n,o)}let Do,qd,Qh=function Hm(t,n,o){return 40&t.type?fo(t,o):null};function Jh(t,n,o,a){const c=Zh(t,a,n),h=n[Gt],v=jm(a.parent||n[k],a,n);if(null!=c)if(Array.isArray(o))for(let E=0;E<o.length;E++)xc(h,c,o[E],v,!1);else xc(h,c,o,v,!1);void 0!==Do&&Do(h,a,n,o,c)}function Hd(t,n){if(null!==n){const o=n.type;if(3&o)return fo(n,t);if(4&o)return zd(-1,t[n.index]);if(8&o){const a=n.child;if(null!==a)return Hd(t,a);{const c=t[n.index];return Oi(c)?zd(-1,c):yi(c)}}if(32&o)return Ql(n,t)()||yi(t[n.index]);{const a=Wm(t,n);return null!==a?Array.isArray(a)?a[0]:Hd(Sc(t[dr]),a):Hd(t,n.next)}}return null}function Wm(t,n){return null!==n?t[dr][k].projection[n.projection]:null}function zd(t,n){const o=Mi+t+1;if(o<n.length){const a=n[o],c=a[ye].firstChild;if(null!==c)return Hd(a,c)}return n[io]}function Oc(t,n,o,a,c,h,g){for(;null!=o;){const v=a[o.index],E=o.type;if(g&&0===n&&(v&&Bo(yi(v),a),o.flags|=2),32!=(32&o.flags))if(8&E)Oc(t,n,o.child,a,c,h,!1),qs(n,t,c,v,h);else if(32&E){const V=Ql(o,a);let Y;for(;Y=V();)qs(n,t,c,Y,h);qs(n,t,c,v,h)}else 16&E?tf(t,n,a,o,c,h):qs(n,t,c,v,h);o=g?o.projectionNext:o.next}}function Gd(t,n,o,a,c,h){Oc(o,a,t.firstChild,n,c,h,!1)}function tf(t,n,o,a,c,h){const g=o[dr],E=g[k].projection[a.projection];if(Array.isArray(E))for(let V=0;V<E.length;V++)qs(n,t,c,E[V],h);else{let V=E;const Y=g[it];kd(a)&&(V.flags|=128),Oc(t,n,V,Y,c,h,!0)}}function rf(t,n,o){""===o?t.removeAttribute(n,"class"):t.setAttribute(n,"class",o)}function sf(t,n,o){const{mergedAttrs:a,classes:c,styles:h}=o;null!==a&&mo(t,n,a),null!==c&&rf(t,n,c),null!==h&&function nf(t,n,o){t.setAttribute(n,"style",o)}(t,n,h)}function Lu(t){var n;return(null===(n=function Hp(){if(void 0===qd&&(qd=null,Je.trustedTypes))try{qd=Je.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return qd}())||void 0===n?void 0:n.createScriptURL(t))||t}class Fu{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${cr})`}}function nu(t){return t instanceof Fu?t.changingThisBreaksApplicationSecurity:t}function Vu(t,n){const o=function by(t){return t instanceof Fu&&t.getTypeName()||null}(t);if(null!=o&&o!==n){if("ResourceURL"===o&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${o} (see ${cr})`)}return o===n}const Kp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Na=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Na||{});function Bu(t){const n=Zd();return n?n.sanitize(Na.URL,t)||"":Vu(t,"URL")?nu(t):function df(t){return(t=String(t)).match(Kp)?t:"unsafe:"+t}(Vn(t))}function _f(t){const n=Zd();if(n)return Lu(n.sanitize(Na.RESOURCE_URL,t)||"");if(Vu(t,"ResourceURL"))return Lu(nu(t));throw new fn(904,!1)}function tg(t,n,o){return function ru(t,n){return"src"===n&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===n&&("base"===t||"link"===t)?_f:Bu}(n,o)(t)}function Zd(){const t=Jt();return t&&t[Ht].sanitizer}let Tf=(t,n,o)=>null;function Jd(t,n,o=!1){return Tf(t,n,o)}class sg{}class bf{}class lg{resolveComponentFactory(n){throw function ag(t){const n=Error(`No component factory found for ${Yn(t)}.`);return n.ngComponent=t,n}(n)}}let Yc=(()=>{class n{}return n.NULL=new lg,n})();function Ny(){return Hu(Tt(),Jt())}function Hu(t,n){return new eh(fo(t,n))}let eh=(()=>{class n{constructor(a){this.nativeElement=a}}return n.__NG_ELEMENT_ID__=Ny,n})();function hv(t){return t instanceof eh?t.nativeElement:t}class ug{}let fv=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function pv(){const t=Jt(),o=vo(Tt().index,t);return(Zi(o)?o:t)[Gt]}(),n})(),ky=(()=>{var t;class n{}return(t=n).\u0275prov=Ln({token:t,providedIn:"root",factory:()=>null}),n})();class gv{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const mv=new gv("17.0.4"),cg={};function dg(t){const n=le(null);try{return t()}finally{le(n)}}function qc(t){return!!wf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function wf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}class Iv{constructor(){}supports(n){return qc(n)}create(n){return new Fy(n)}}const fg=(t,n)=>n;class Fy{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||fg}forEachItem(n){let o;for(o=this._itHead;null!==o;o=o._next)n(o)}forEachOperation(n){let o=this._itHead,a=this._removalsHead,c=0,h=null;for(;o||a;){const g=!a||o&&o.currentIndex<Tv(a,c,h)?o:a,v=Tv(g,c,h),E=g.currentIndex;if(g===a)c--,a=a._nextRemoved;else if(o=o._next,null==g.previousIndex)c++;else{h||(h=[]);const V=v-c,Y=E-c;if(V!=Y){for(let Oe=0;Oe<V;Oe++){const ot=Oe<h.length?h[Oe]:h[Oe]=0,Lt=ot+Oe;Y<=Lt&&Lt<V&&(h[Oe]=ot+1)}h[g.previousIndex]=Y-V}}v!==E&&n(g,v,E)}}forEachPreviousItem(n){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachMovedItem(n){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}forEachIdentityChange(n){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)n(o)}diff(n){if(null==n&&(n=[]),!qc(n))throw new fn(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,h,g,o=this._itHead,a=!1;if(Array.isArray(n)){this.length=n.length;for(let v=0;v<this.length;v++)h=n[v],g=this._trackByFn(v,h),null!==o&&Object.is(o.trackById,g)?(a&&(o=this._verifyReinsertion(o,h,g,v)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,g,v),a=!0),o=o._next}else c=0,function hg(t,n){if(Array.isArray(t))for(let o=0;o<t.length;o++)n(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)n(a.value)}}(n,v=>{g=this._trackByFn(c,v),null!==o&&Object.is(o.trackById,g)?(a&&(o=this._verifyReinsertion(o,v,g,c)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,g,c),a=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,o,a,c){let h;return null===n?h=this._itTail:(h=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._reinsertAfter(n,h,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(n.item,o)||this._addIdentityChange(n,o),this._moveAfter(n,h,c)):n=this._addAfter(new pg(o,a),h,c),n}_verifyReinsertion(n,o,a,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?n=this._reinsertAfter(h,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const o=n._next;this._addToRemovals(this._unlink(n)),n=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,h=n._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(n,o,a),this._addToMoves(n,a),n}_moveAfter(n,o,a){return this._unlink(n),this._insertAfter(n,o,a),this._addToMoves(n,a),n}_addAfter(n,o,a){return this._insertAfter(n,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,o,a){const c=null===o?this._itHead:o._next;return n._next=c,n._prev=o,null===c?this._itTail=n:c._prev=n,null===o?this._itHead=n:o._next=n,null===this._linkedRecords&&(this._linkedRecords=new Af),this._linkedRecords.put(n),n.currentIndex=a,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const o=n._prev,a=n._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,n}_addToMoves(n,o){return n.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Af),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,o){return n.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class pg{constructor(n,o){this.item=n,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Vy{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,n))return a;return null}remove(n){const o=n._prevDup,a=n._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class Af{constructor(){this.map=new Map}put(n){const o=n.trackById;let a=this.map.get(o);a||(a=new Vy,this.map.set(o,a)),a.add(n)}get(n,o){const c=this.map.get(n);return c?c.get(n,o):null}remove(n){const o=n.trackById;return this.map.get(o).remove(n)&&this.map.delete(o),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Tv(t,n,o){const a=t.previousIndex;if(null===a)return a;let c=0;return o&&a<o.length&&(c=o[a]),a+n+c}class Sf{constructor(){}supports(n){return n instanceof Map||wf(n)}create(){return new gg}}class gg{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let o;for(o=this._mapHead;null!==o;o=o._next)n(o)}forEachPreviousItem(n){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)n(o)}forEachChangedItem(n){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)n(o)}forEachAddedItem(n){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)n(o)}forEachRemovedItem(n){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)n(o)}diff(n){if(n){if(!(n instanceof Map||wf(n)))throw new fn(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(n,(a,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(c,a);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,o){if(n){const a=n._prev;return o._next=n,o._prev=a,n._prev=o,a&&(a._next=o),n===this._mapHead&&(this._mapHead=o),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(n,o){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,o);const h=c._prev,g=c._next;return h&&(h._next=g),g&&(g._prev=h),c._next=null,c._prev=null,c}const a=new mg(n);return this._records.set(n,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,o){Object.is(o,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=o,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,o){n instanceof Map?n.forEach(o):Object.keys(n).forEach(a=>o(n[a],a))}}class mg{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zu(){return new Rf([new Iv])}let Rf=(()=>{var t;class n{constructor(a){this.factories=a}static create(a,c){if(null!=c){const h=c.factories.slice();a=a.concat(h)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||zu()),deps:[[n,new _c,new vc]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(null!=c)return c;throw new fn(901,!1)}}return(t=n).\u0275prov=Ln({token:t,providedIn:"root",factory:zu}),n})();function Cv(){return new th([new Sf])}let th=(()=>{var t;class n{constructor(a){this.factories=a}static create(a,c){if(c){const h=c.factories.slice();a=a.concat(h)}return new n(a)}static extend(a){return{provide:n,useFactory:c=>n.create(a,c||Cv()),deps:[[n,new _c,new vc]]}}find(a){const c=this.factories.find(h=>h.supports(a));if(c)return c;throw new fn(901,!1)}}return(t=n).\u0275prov=Ln({token:t,providedIn:"root",factory:Cv}),n})();function Wu(t,n,o,a,c=!1){for(;null!==o;){const h=n[o.index];null!==h&&a.push(yi(h)),Oi(h)&&bv(h,a);const g=o.type;if(8&g)Wu(t,n,o.child,a);else if(32&g){const v=Ql(o,n);let E;for(;E=v();)a.push(E)}else if(16&g){const v=Wm(n,o);if(Array.isArray(v))a.push(...v);else{const E=Sc(n[dr]);Wu(E[ye],E,v,a,!0)}}o=c?o.projectionNext:o.next}return a}function bv(t,n){for(let o=Mi;o<t.length;o++){const a=t[o],c=a[ye].firstChild;null!==c&&Wu(a[ye],a,c,n)}t[io]!==t[G]&&n.push(t[io])}let Pf=[];const Uy={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{sa(t.lView)},consumerOnSignalRead(){this.lView[Vi]=this}};function nh(t){return t.ngOriginalError}class ou{constructor(){this._console=console}handleError(n){const o=this._findOriginalError(n);this._console.error("ERROR",n),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(n){let o=n&&nh(n);for(;o&&nh(o);)o=nh(o);return o||null}}const xf=new Qt("",{providedIn:"root",factory:()=>!1}),Br={};function Gu(t){Ig(Zr(),Jt(),ni()+t,!1)}function Ig(t,n,o,a){if(!a)if(3==(3&n[Fe])){const h=t.preOrderCheckHooks;null!==h&&Qi(n,h,o)}else{const h=t.preOrderHooks;null!==h&&dl(n,h,0,o)}Qo(o)}function Sl(t,n=ce.Default){const o=Jt();return null===o?jr(t,n):kl(Tt(),o,Mn(t),n)}function xv(){throw new Error("invalid")}function Of(t,n,o,a,c,h,g,v,E,V,Y){const re=n.blueprint.slice();return re[G]=c,re[Fe]=140|a,(null!==V||t&&2048&t[Fe])&&(re[Fe]|=2048),oa(re),re[it]=re[ui]=t,re[L]=o,re[Ht]=g||t&&t[Ht],re[Gt]=v||t&&t[Gt],re[de]=E||t&&t[de]||null,re[k]=h,re[Qr]=function yy(){return _y++}(),re[P]=Y,re[co]=V,re[dr]=2==n.type?t[dr]:re,re}function Xc(t,n,o,a,c){let h=t.data[n];if(null===h)h=function Qc(t,n,o,a,c){const h=Us(),g=Ps(),E=t.data[n]=function bg(t,n,o,a,c,h){let g=n?n.injectorIndex:-1,v=0;return Rs()&&(v|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:v,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?h:h&&h.parent,o,n,a,c);return null===t.firstChild&&(t.firstChild=E),null!==h&&(g?null==h.child&&null!==E.parent&&(h.child=E):null===h.next&&(h.next=E,E.prev=h)),E}(t,n,o,a,c),function mu(){return Xn.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=a,h.attrs=c;const g=function _o(){const t=Xn.lFrame,n=t.currentTNode;return t.isParent?n:n.parent}();h.injectorIndex=null===g?-1:g.injectorIndex}return Lo(h,!0),h}function Yu(t,n,o,a){if(0===o)return-1;const c=n.length;for(let h=0;h<o;h++)n.push(a),t.blueprint.push(a),t.data.push(null);return c}function Nf(t,n,o,a,c){const h=ni(),g=2&a;try{Qo(-1),g&&n.length>sr&&Ig(t,n,sr,!1),Ot(g?2:0,c),o(a,c)}finally{Qo(h),Ot(g?3:1,c)}}function rh(t,n,o){if(ho(n)){const a=le(null);try{const h=n.directiveEnd;for(let g=n.directiveStart;g<h;g++){const v=t.data[g];v.contentQueries&&v.contentQueries(1,o[g],g)}}finally{le(a)}}}function kf(t,n,o){Ss()&&(function Bv(t,n,o,a){const c=o.directiveStart,h=o.directiveEnd;ps(o)&&function zv(t,n,o){const a=fo(n,t),c=Lf(o);let g=16;o.signals?g=4096:o.onPush&&(g=64);const v=oh(t,Of(t,c,null,g,a,n,null,t[Ht].rendererFactory.createRenderer(a,o),null,null,null));t[n.index]=v}(n,o,t.data[c+o.componentOffset]),t.firstCreatePass||Aa(o,n),Bo(a,n);const g=o.initialInputs;for(let v=c;v<h;v++){const E=t.data[v],V=ms(n,t,v,o);Bo(V,n),null!==g&&Jo(0,v-c,V,E,0,g),Wi(E)&&(vo(o.index,n)[L]=ms(n,t,v,o))}}(t,n,o,fo(o,n)),64==(64&o.flags)&&Ag(t,n,o))}function ih(t,n,o=fo){const a=n.localNames;if(null!==a){let c=n.index+1;for(let h=0;h<a.length;h+=2){const g=a[h+1],v=-1===g?o(n,t):t[g];t[c++]=v}}}function Lf(t){const n=t.tView;return null===n||n.incompleteFirstPass?t.tView=Jc(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):n}function Jc(t,n,o,a,c,h,g,v,E,V,Y){const re=sr+a,Oe=re+c,ot=function Tg(t,n){const o=[];for(let a=0;a<n;a++)o.push(a<t?null:Br);return o}(re,Oe),Lt="function"==typeof V?V():V;return ot[ye]={type:t,blueprint:ot,template:o,queries:null,viewQuery:v,declTNode:n,data:ot.slice().fill(null,re),bindingStartIndex:re,expandoStartIndex:Oe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:E,consts:Lt,incompleteFirstPass:!1,ssrId:Y}}let Dg=t=>null;function kv(t,n,o,a){for(let c in t)if(t.hasOwnProperty(c)){o=null===o?{}:o;const h=t[c];null===a?Lv(o,n,c,h):a.hasOwnProperty(c)&&Lv(o,n,a[c],h)}return o}function Lv(t,n,o,a){t.hasOwnProperty(o)?t[o].push(n,a):t[o]=[n,a]}function wg(t,n,o,a){if(Ss()){const c=null===a?null:{"":-1},h=function Uv(t,n){const o=t.directiveRegistry;let a=null,c=null;if(o)for(let g=0;g<o.length;g++){const v=o[g];if(ro(n,v.selectors,!1))if(a||(a=[]),Wi(v))if(null!==v.findHostDirectiveDefs){const E=[];c=c||new Map,v.findHostDirectiveDefs(v,E,c),a.unshift(...E,v),Ff(t,n,E.length)}else a.unshift(v),Ff(t,n,0);else{var h;c=c||new Map,null===(h=v.findHostDirectiveDefs)||void 0===h||h.call(v,v,a,c),a.push(v)}}return null===a?null:[a,c]}(t,o);let g,v;null===h?g=v=null:[g,v]=h,null!==g&&$v(t,n,o,g,c,v),c&&function jv(t,n,o){if(n){const a=t.localNames=[];for(let c=0;c<n.length;c+=2){const h=o[n[c+1]];if(null==h)throw new fn(-301,!1);a.push(n[c],h)}}}(o,a,c)}o.mergedAttrs=Yo(o.mergedAttrs,o.attrs)}function $v(t,n,o,a,c,h){for(let re=0;re<a.length;re++)hl(Aa(o,n),t,a[re].type);!function ri(t,n,o){t.flags|=1,t.directiveStart=n,t.directiveEnd=n+o,t.providerIndexes=n}(o,t.data.length,a.length);for(let re=0;re<a.length;re++){const Oe=a[re];Oe.providersResolver&&Oe.providersResolver(Oe)}let g=!1,v=!1,E=Yu(t,n,a.length,null);for(let re=0;re<a.length;re++){const Oe=a[re];o.mergedAttrs=Yo(o.mergedAttrs,Oe.hostAttrs),Hv(t,o,n,E,Oe),Vf(E,Oe,c),null!==Oe.contentQueries&&(o.flags|=4),(null!==Oe.hostBindings||null!==Oe.hostAttrs||0!==Oe.hostVars)&&(o.flags|=64);const ot=Oe.type.prototype;var V,Y;!g&&(ot.ngOnChanges||ot.ngOnInit||ot.ngDoCheck)&&((null!==(V=t.preOrderHooks)&&void 0!==V?V:t.preOrderHooks=[]).push(o.index),g=!0),v||!ot.ngOnChanges&&!ot.ngDoCheck||((null!==(Y=t.preOrderCheckHooks)&&void 0!==Y?Y:t.preOrderCheckHooks=[]).push(o.index),v=!0),E++}!function Wy(t,n,o){const c=n.directiveEnd,h=t.data,g=n.attrs,v=[];let E=null,V=null;for(let Y=n.directiveStart;Y<c;Y++){const re=h[Y],Oe=o?o.get(re):null,Lt=Oe?Oe.outputs:null;E=kv(re.inputs,Y,E,Oe?Oe.inputs:null),V=kv(re.outputs,Y,V,Lt);const an=null===E||null===g||ta(n)?null:nl(E,Y,g);v.push(an)}null!==E&&(E.hasOwnProperty("class")&&(n.flags|=8),E.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=v,n.inputs=E,n.outputs=V}(t,o,h)}function Ag(t,n,o){const a=o.directiveStart,c=o.directiveEnd,h=o.index,g=function y(){return Xn.lFrame.currentDirectiveIndex}();try{Qo(h);for(let v=a;v<c;v++){const E=t.data[v],V=n[v];S(v),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&Sg(E,V)}}finally{Qo(-1),S(g)}}function Sg(t,n){null!==t.hostBindings&&t.hostBindings(1,n)}function Ff(t,n,o){var a;n.componentOffset=o,(null!==(a=t.components)&&void 0!==a?a:t.components=[]).push(n.index)}function Vf(t,n,o){if(o){if(n.exportAs)for(let a=0;a<n.exportAs.length;a++)o[n.exportAs[a]]=t;Wi(n)&&(o[""]=t)}}function Hv(t,n,o,a,c){t.data[a]=c;const h=c.factory||(c.factory=Mr(c.type)),g=new ci(h,Wi(c),Sl);t.blueprint[a]=g,o[a]=g,function Yy(t,n,o,a,c){const h=c.hostBindings;if(h){let g=t.hostBindingOpCodes;null===g&&(g=t.hostBindingOpCodes=[]);const v=~n.index;(function qy(t){let n=t.length;for(;n>0;){const o=t[--n];if("number"==typeof o&&o<0)return o}return 0})(g)!=v&&g.push(v),g.push(o,a,h)}}(t,n,a,Yu(t,o,c.hostVars,Br),c)}function ks(t,n,o,a,c,h){const g=fo(t,n);!function $f(t,n,o,a,c,h,g){if(null==h)t.removeAttribute(n,c,o);else{const v=null==g?Vn(h):g(h,a||"",c);t.setAttribute(n,c,v,o)}}(n[Gt],g,h,t.value,o,a,c)}function Jo(t,n,o,a,c,h){const g=h[n];if(null!==g)for(let v=0;v<g.length;)Ji(a,o,g[v++],g[v++],g[v++])}function Ji(t,n,o,a,c){const h=le(null);try{const g=t.inputTransforms;null!==g&&g.hasOwnProperty(a)&&(c=g[a].call(n,c)),null!==t.setInput?t.setInput(n,c,o,a):n[a]=c}finally{le(h)}}function nl(t,n,o){let a=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===a&&(a=[]);const g=t[h];for(let v=0;v<g.length;v+=2)if(g[v]===n){a.push(h,g[v+1],o[c+1]);break}}c+=2}else c+=2;else c+=4}return a}function Wv(t,n,o,a){return[t,!0,0,n,null,a,null,o,null,null]}function Gv(t,n){const o=t.contentQueries;if(null!==o){const a=le(null);try{for(let c=0;c<o.length;c+=2){const g=o[c+1];if(-1!==g){const v=t.data[g];F(o[c]),v.contentQueries(2,n[g],g)}}}finally{le(a)}}}function oh(t,n){return t[Tr]?t[zr][Ut]=n:t[Tr]=n,t[zr]=n,n}function Rg(t,n,o){F(0);const a=le(null);try{n(t,o)}finally{le(a)}}function qv(t){return t[ee]||(t[ee]=[])}function Bf(t){return t.cleanup||(t.cleanup=[])}function Uf(t,n){const o=t[de],a=o?o.get(ou,null):null;a&&a.handleError(n)}function xi(t,n,o,a,c){for(let h=0;h<o.length;){const g=o[h++],v=o[h++];Ji(t.data[g],n[g],a,v,c)}}function Xv(t,n,o,a){var c;const h=n[Fe];if(256==(256&h))return;null===(c=n[Ht].inlineEffectRunner)||void 0===c||c.flush(),bt(n);let v=null,E=null;(function Qv(t){return 2!==t.type})(t)&&(E=function $y(t){var n;return null!==(n=t[Vi])&&void 0!==n?n:function By(t){var n;const o=null!==(n=Pf.pop())&&void 0!==n?n:Object.create(Uy);return o.lView=t,o}(t)}(n),v=function Be(t){return t&&(t.nextProducerIndex=0),le(t)}(E));try{oa(n),function sc(t){return Xn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&Nf(t,n,o,2,a);const V=3==(3&h);if(V){const Oe=t.preOrderCheckHooks;null!==Oe&&Qi(n,Oe,null)}else{const Oe=t.preOrderHooks;null!==Oe&&dl(n,Oe,0,null),aa(n,0)}if(function Zy(t){for(let n=Ud(t);null!==n;n=jd(n)){if(!(n[Fe]&Yr.HasTransplantedViews))continue;const o=n[zi];for(let a=0;a<o.length;a++){xl(o[a])}}}(n),Jv(n,0),null!==t.contentQueries&&Gv(t,n),V){const Oe=t.contentCheckHooks;null!==Oe&&Qi(n,Oe)}else{const Oe=t.contentHooks;null!==Oe&&dl(n,Oe,1),aa(n,1)}!function zy(t,n){const o=t.hostBindingOpCodes;if(null!==o)try{for(let a=0;a<o.length;a++){const c=o[a];if(c<0)Qo(~c);else{const h=c,g=o[++a],v=o[++a];So(g,h),v(2,n[h])}}}finally{Qo(-1)}}(t,n);const Y=t.components;null!==Y&&t_(n,Y,0);const re=t.viewQuery;if(null!==re&&Rg(2,re,a),V){const Oe=t.viewCheckHooks;null!==Oe&&Qi(n,Oe)}else{const Oe=t.viewHooks;null!==Oe&&dl(n,Oe,2),aa(n,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),n[No]){for(const Oe of n[No])Oe();n[No]=null}n[Fe]&=-73}catch(V){throw sa(n),V}finally{null!==E&&(function Le(t,n){if(le(n),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Xe(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)je(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(E,v),function vg(t){t.lView[Vi]!==t&&(t.lView=null,Pf.push(t))}(E)),Di()}}function Jv(t,n){for(let o=Ud(t);null!==o;o=jd(o)){o[Fe]&=~Yr.HasChildViewsToRefresh;for(let a=Mi;a<o.length;a++)e_(o[a],n)}}function Xy(t,n,o){e_(vo(n,t),o)}function e_(t,n){rc(t)&&Qy(t,n)}function Qy(t,n){const a=t[ye],c=t[Fe],h=t[Vi];let g=!!(0===n&&16&c);if(g||(g=!!(64&c&&0===n)),g||(g=!!(1024&c)),g||(g=!(null==h||!h.dirty||!ze(h))),h&&(h.dirty=!1),t[Fe]&=-9217,g)Xv(a,t,a.template,t[L]);else if(8192&c){Jv(t,1);const v=a.components;null!==v&&t_(t,v,1)}}function t_(t,n,o){for(let a=0;a<n.length;a++)Xy(t,n[a],o)}function sh(t){for(;t;){t[Fe]|=64;const n=Sc(t);if(Va(t)&&!n)return t;t=n}return null}class nd{get rootNodes(){const n=this._lView,o=n[ye];return Wu(o,n,o.firstChild,[])}constructor(n,o,a=!0){this._lView=n,this._cdRefInjectingView=o,this.notifyErrorHandler=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[L]}set context(n){this._lView[L]=n}get destroyed(){return 256==(256&this._lView[Fe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[it];if(Oi(n)){const o=n[8],a=o?o.indexOf(this):-1;a>-1&&(Pc(n,a),vl(o,a))}this._attachedToViewContainer=!1}Kh(this._lView[ye],this._lView)}onDestroy(n){Wr(this._lView,n)}markForCheck(){sh(this._cdRefInjectingView||this._lView)}detach(){this._lView[Fe]&=-129}reattach(){ar(this._lView),this._lView[Fe]|=128}detectChanges(){!function qi(t,n=!0){const o=t[Ht],a=o.rendererFactory,c=o.afterRenderEventManager;var g;null===(g=a.begin)||void 0===g||g.call(a),null==c||c.begin();try{const V=t[ye];Xv(V,t,V.template,t[L]),function Zv(t){let n=0;for(;9216&t[Fe]||null!==(o=t[Vi])&&void 0!==o&&o.dirty;){var o;if(100===n)throw new fn(103,!1);n++,Qy(t,1)}}(t)}catch(V){throw n&&Uf(t,V),V}finally{var v,E;null===(v=a.end)||void 0===v||v.call(a),null===(E=o.inlineEffectRunner)||void 0===E||E.flush(),null==c||c.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new fn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Jl(t,n){Gd(t,n,n[Gt],2,null,null)}(this._lView[ye],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new fn(902,!1);this._appRef=n}}let rd=(()=>{class n{}return n.__NG_ELEMENT_ID__=Jy,n})();function Jy(t){return function au(t,n,o){if(ps(t)&&!o){const a=vo(t.index,n);return new nd(a,a)}return 47&t.type?new nd(n[dr],n):null}(Tt(),Jt(),16==(16&t))}let jf=(()=>{var t;class n{}return(t=n).__NG_ELEMENT_ID__=n_,t.__NG_ENV_ID__=o=>o,n})();class eE extends jf{constructor(n){super(),this._lView=n}onDestroy(n){return Wr(this._lView,n),()=>function os(t,n){if(null===t[Pi])return;const o=t[Pi].indexOf(n);-1!==o&&t[Pi].splice(o,1)}(this._lView,n)}}function n_(){return new eE(Jt())}const Wf=new Set;function Ku(t){var n,o;Wf.has(t)||(Wf.add(t),null===(n=performance)||void 0===n||null===(o=n.mark)||void 0===o||o.call(n,"mark_use_counter",{detail:{feature:t}}))}function Mg(t){return n=>{setTimeout(t,void 0,n)}}const ha=class rE extends St.x{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,o,a){let c=n,h=o||(()=>null),g=a;if(n&&"object"==typeof n){var v,E,V;const re=n;c=null===(v=re.next)||void 0===v?void 0:v.bind(re),h=null===(E=re.error)||void 0===E?void 0:E.bind(re),g=null===(V=re.complete)||void 0===V?void 0:V.bind(re)}this.__isAsync&&(h=Mg(h),c&&(c=Mg(c)),g&&(g=Mg(g)));const Y=super.subscribe({next:c,error:h,complete:g});return n instanceof At.w0&&n.add(Y),Y}};function Gf(...t){}class po{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ha(!1),this.onMicrotaskEmpty=new ha(!1),this.onStable=new ha(!1),this.onError=new ha(!1),typeof Zone>"u")throw new fn(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&o,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function i_(){const t="function"==typeof Je.requestAnimationFrame;let n=Je[t?"requestAnimationFrame":"setTimeout"],o=Je[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&o){const a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function iE(t){const n=()=>{!function uh(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Je,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,sd(t),t.isCheckStableRunning=!0,lh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),sd(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,c,h,g,v)=>{if(function a_(t){var n;return!(!Array.isArray(t)||1!==t.length)&&!0===(null===(n=t[0].data)||void 0===n?void 0:n.__ignore_ng_zone__)}(v))return o.invokeTask(c,h,g,v);try{return ch(t),o.invokeTask(c,h,g,v)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&n(),xg(t)}},onInvoke:(o,a,c,h,g,v,E)=>{try{return ch(t),o.invoke(c,h,g,v,E)}finally{t.shouldCoalesceRunChangeDetection&&n(),xg(t)}},onHasTask:(o,a,c,h)=>{o.hasTask(c,h),a===c&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,sd(t),lh(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,a,c,h)=>(o.handleError(c,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!po.isInAngularZone())throw new fn(909,!1)}static assertNotInAngularZone(){if(po.isInAngularZone())throw new fn(909,!1)}run(n,o,a){return this._inner.run(n,o,a)}runTask(n,o,a,c){const h=this._inner,g=h.scheduleEventTask("NgZoneEvent: "+c,n,o_,Gf,Gf);try{return h.runTask(g,o,a)}finally{h.cancelTask(g)}}runGuarded(n,o,a){return this._inner.runGuarded(n,o,a)}runOutsideAngular(n){return this._outer.run(n)}}const o_={};function lh(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sd(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ch(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function xg(t){t._nesting--,lh(t)}class dh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ha,this.onMicrotaskEmpty=new ha,this.onStable=new ha,this.onError=new ha}run(n,o,a){return n.apply(o,a)}runGuarded(n,o,a){return n.apply(o,a)}runOutsideAngular(n){return n()}runTask(n,o,a,c){return n.apply(o,a)}}const s_=new Qt("",{providedIn:"root",factory:hh});function hh(){const t=yr(po);let n=!0;const o=new kt.y(c=>{n=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{c.next(n),c.complete()})}),a=new kt.y(c=>{let h;t.runOutsideAngular(()=>{h=t.onStable.subscribe(()=>{po.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(n=!0,c.next(!0))})})});const g=t.onUnstable.subscribe(()=>{po.assertInAngularZone(),n&&(n=!1,t.runOutsideAngular(()=>{c.next(!1)}))});return()=>{h.unsubscribe(),g.unsubscribe()}});return(0,qt.T)(o,a.pipe((0,Zn.B)()))}var Rl=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Rl||{});const ad={destroy(){}};function u_(t,n){var o,a,c;!n&&function ii(t){if(!K()&&!function Te(){return x}())throw new fn(-203,!1)}();const h=null!==(o=null==n?void 0:n.injector)&&void 0!==o?o:yr(ys);if(!function Tl(t){return"browser"===(null!=t?t:yr(ys)).get(xp)}(h))return ad;Ku("NgAfterNextRender");const g=h.get(Og),v=null!==(a=g.handler)&&void 0!==a?a:g.handler=new oE,E=null!==(c=null==n?void 0:n.phase)&&void 0!==c?c:Rl.MixedReadWrite,V=()=>{v.unregister(re),Y()},Y=h.get(jf).onDestroy(V),re=new Zu(h,E,()=>{V(),t()});return v.register(re),{destroy:V}}class Zu{constructor(n,o,a){this.phase=o,this.callbackFn=a,this.zone=n.get(po),this.errorHandler=n.get(ou,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(o){var n;null===(n=this.errorHandler)||void 0===n||n.handleError(o)}}}class oE{constructor(){this.executingCallbacks=!1,this.buckets={[Rl.EarlyRead]:new Set,[Rl.Write]:new Set,[Rl.MixedReadWrite]:new Set,[Rl.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new fn(102,!1)}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const o of n)o.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let Og=(()=>{var t;class n{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){var a;null===(a=this.handler)||void 0===a||a.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){var a;for(const c of this.internalCallbacks)c();this.internalCallbacks.length=0,null===(a=this.handler)||void 0===a||a.execute()}}ngOnDestroy(){var a;null===(a=this.handler)||void 0===a||a.destroy(),this.handler=null,this.internalCallbacks.length=0}}return(t=n).\u0275prov=Ln({token:t,providedIn:"root",factory:()=>new t}),n})();function Ng(t,n){const o=vo(n,t),a=o[ye];!function sE(t,n){for(let o=n.length;o<t.blueprint.length;o++)n.push(t.blueprint[o])}(a,o);const c=o[G];null!==c&&null===o[P]&&(o[P]=Jd(c,o[de])),ld(a,o,o[L])}function ld(t,n,o){bt(n);try{const a=t.viewQuery;null!==a&&Rg(1,a,o);const c=t.template;null!==c&&Nf(t,n,c,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Gv(t,n),t.staticViewQueries&&Rg(2,t.viewQuery,o);const h=t.components;null!==h&&function aE(t,n){for(let o=0;o<n.length;o++)Ng(t,n[o])}(n,h)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{n[Fe]&=-5,Di()}}function Yf(t,n,o){let a=o?t.styles:null,c=o?t.classes:null,h=0;if(null!==n)for(let g=0;g<n.length;g++){const v=n[g];"number"==typeof v?h=v:1==h?c=qn(c,v):2==h&&(a=qn(a,v+": "+n[++g]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=c:t.classesWithoutHost=c}class ph extends Yc{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const o=Rr(n);return new gh(o,this.ngModule)}}function c_(t){const n=[];for(let o in t)t.hasOwnProperty(o)&&n.push({propName:t[o],templateName:o});return n}class qf{constructor(n,o){this.injector=n,this.parentInjector=o}get(n,o,a){a=Ui(a);const c=this.injector.get(n,cg,a);return c!==cg||o===cg?c:this.parentInjector.get(n,o,a)}}class gh extends bf{get inputs(){const n=this.componentDef,o=n.inputTransforms,a=c_(n.inputs);if(null!==o)for(const c of a)o.hasOwnProperty(c.propName)&&(c.transform=o[c.propName]);return a}get outputs(){return c_(this.componentDef.outputs)}constructor(n,o){super(),this.componentDef=n,this.ngModule=o,this.componentType=n.type,this.selector=function pi(t){return t.map(ji).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!o}create(n,o,a,c){var g;let v=(c=c||this.ngModule)instanceof $o?c:null===(g=c)||void 0===g?void 0:g.injector;v&&null!==this.componentDef.getStandaloneInjector&&(v=this.componentDef.getStandaloneInjector(v)||v);const E=v?new qf(n,v):n,V=E.get(ug,null);if(null===V)throw new fn(407,!1);const Oe={rendererFactory:V,sanitizer:E.get(ky,null),inlineEffectRunner:null,afterRenderEventManager:E.get(Og,null)},ot=V.createRenderer(null,this.componentDef),Lt=this.componentDef.selectors[0][0]||"div",an=a?function Ov(t,n,o,a){const h=a.get(xf,!1)||o===uo.ShadowDom,g=t.selectRootElement(n,h);return function ed(t){Dg(t)}(g),g}(ot,a,this.componentDef.encapsulation,E):qh(ot,Lt,function lE(t){const n=t.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Lt)),hn=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Vr=null;null!==an&&(Vr=Jd(an,E,!0));const Xr=Jc(0,null,null,1,0,null,null,null,null,null,null),si=Of(null,Xr,null,hn,null,null,Oe,ot,E,null,Vr);let Ls,lm;bt(si);try{const vd=this.componentDef;let pp,O0=null;vd.findHostDirectiveDefs?(pp=[],O0=new Map,vd.findHostDirectiveDefs(vd,pp,O0),pp.push(vd)):pp=[vd];const fP=function d_(t,n){const o=t[ye],a=sr;return t[a]=n,Xc(o,a,2,"#host",null)}(si,an),pP=function h_(t,n,o,a,c,h,g){const v=c[ye];!function f_(t,n,o,a){for(const c of t)n.mergedAttrs=Yo(n.mergedAttrs,c.hostAttrs);null!==n.mergedAttrs&&(Yf(n,n.mergedAttrs,!0),null!==o&&sf(a,o,n))}(a,t,n,g);let E=null;null!==n&&(E=Jd(n,c[de]));const V=h.rendererFactory.createRenderer(n,o);let Y=16;o.signals?Y=4096:o.onPush&&(Y=64);const re=Of(c,Lf(o),null,Y,c[t.index],t,h,V,null,null,E);return v.firstCreatePass&&Ff(v,t,a.length-1),oh(c,re),c[t.index]=re}(fP,an,vd,pp,si,Oe,ot);lm=Ea(Xr,sr),an&&function g_(t,n,o,a){if(a)mo(t,o,["ng-version",mv.full]);else{const{attrs:c,classes:h}=function rs(t){const n=[],o=[];let a=1,c=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===c?""!==h&&n.push(h,t[++a]):8===c&&o.push(h);else{if(!Ki(c))break;c=h}a++}return{attrs:n,classes:o}}(n.selectors[0]);c&&mo(t,o,c),h&&h.length>0&&rf(t,o,h.join(" "))}}(ot,vd,an,a),void 0!==o&&function kg(t,n,o){const a=t.projection=[];for(let c=0;c<n.length;c++){const h=o[c];a.push(null!=h?Array.from(h):null)}}(lm,this.ngContentSelectors,o),Ls=function p_(t,n,o,a,c,h){const g=Tt(),v=c[ye],E=fo(g,c);$v(v,c,g,o,null,a);for(let Y=0;Y<o.length;Y++)Bo(ms(c,v,g.directiveStart+Y,g),c);Ag(v,c,g),E&&Bo(E,c);const V=ms(c,v,g.directiveStart+g.componentOffset,g);if(t[L]=c[L]=V,null!==h)for(const Y of h)Y(V,n);return rh(v,g,t),V}(pP,vd,pp,O0,si,[Kf]),ld(Xr,si,null)}finally{Di()}return new uE(this.componentType,Ls,Hu(lm,si),si,lm)}}class uE extends sg{constructor(n,o,a,c,h){super(),this.location=a,this._rootLView=c,this._tNode=h,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new nd(c,void 0,!1),this.componentType=n}setInput(n,o){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[n])){var h;if(null!==(h=this.previousInputValues)&&void 0!==h||(this.previousInputValues=new Map),this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),o))return;const g=this._rootLView;xi(g[ye],g,c,n,o),this.previousInputValues.set(n,o),sh(vo(this._tNode.index,g))}}get injector(){return new ti(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function Kf(){const t=Tt();Ua(Jt()[ye],t)}function v_(t){let n=function m_(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const a=[t];for(;n;){let c;if(Wi(t))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new fn(903,!1);c=n.\u0275dir}if(c){if(o){a.push(c);const g=t;g.inputs=Zf(t.inputs),g.inputTransforms=Zf(t.inputTransforms),g.declaredInputs=Zf(t.declaredInputs),g.outputs=Zf(t.outputs);const v=c.hostBindings;v&&Xu(t,v);const E=c.viewQuery,V=c.contentQueries;if(E&&Z0(t,E),V&&X0(t,V),Dr(t.inputs,c.inputs),Dr(t.declaredInputs,c.declaredInputs),Dr(t.outputs,c.outputs),null!==c.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),Dr(g.inputTransforms,c.inputTransforms)),Wi(c)&&c.data.animation){const Y=t.data;Y.animation=(Y.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let g=0;g<h.length;g++){const v=h[g];v&&v.ngInherit&&v(t),v===v_&&(o=!1)}}n=Object.getPrototypeOf(n)}!function K0(t){let n=0,o=null;for(let a=t.length-1;a>=0;a--){const c=t[a];c.hostVars=n+=c.hostVars,c.hostAttrs=Yo(c.hostAttrs,o=Yo(o,c.hostAttrs))}}(a)}function Zf(t){return t===Ti?{}:t===Fr?[]:t}function Z0(t,n){const o=t.viewQuery;t.viewQuery=o?(a,c)=>{n(a,c),o(a,c)}:n}function X0(t,n){const o=t.contentQueries;t.contentQueries=o?(a,c,h)=>{n(a,c,h),o(a,c,h)}:n}function Xu(t,n){const o=t.hostBindings;t.hostBindings=o?(a,c)=>{n(a,c),o(a,c)}:n}function I_(t){const n=t.inputConfig,o={};for(const a in n)if(n.hasOwnProperty(a)){const c=n[a];Array.isArray(c)&&c[2]&&(o[a]=c[2])}t.inputTransforms=o}function Co(t,n,o){return!Object.is(t[n],o)&&(t[n]=o,!0)}function Lg(t,n,o,a){const c=Jt();return Co(c,Bi(),n)&&(Zr(),ks(fi(),c,t,n,o,a)),Lg}function yh(t,n){return t<<17|n<<2}function Ts(t){return t>>17&32767}function Fg(t){return 2|t}function tc(t){return(131068&t)>>2}function Vg(t,n){return-131069&t|n<<2}function $g(t){return 1|t}function EE(t,n,o,a,c){const h=t[o+1],g=null===n;let v=a?Ts(h):tc(h),E=!1;for(;0!==v&&(!1===E||g);){const Y=t[v+1];J0(t[v],n)&&(E=!0,t[v+1]=a?$g(Y):Fg(Y)),v=a?Ts(Y):tc(Y)}E&&(t[o+1]=a?Fg(h):$g(h))}function J0(t,n){return null===t||null==n||(Array.isArray(t)?t[1]:t)===n||!(!Array.isArray(t)||"string"!=typeof n)&&Ya(t,n)>=0}function N(t,n,o){const a=Jt();return Co(a,Bi(),n)&&function Ks(t,n,o,a,c,h,g,v){const E=fo(n,o);let Y,V=n.inputs;!v&&null!=V&&(Y=V[a])?(xi(t,o,Y,a,c),ps(n)&&function Vv(t,n){const o=vo(n,t);16&o[Fe]||(o[Fe]|=64)}(o,n.index)):3&n.type&&(a=function Fv(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),c=null!=g?g(c,n.value||"",a):c,h.setProperty(E,a,c))}(Zr(),fi(),a,t,n,a[Gt],o,!1),N}function z(t,n,o,a,c){const g=c?"class":"style";xi(t,o,n.inputs[g],g,a)}function Me(t,n){return function Pn(t,n,o,a){const c=Jt(),h=Zr(),g=function ss(t){const n=Xn.lFrame,o=n.bindingIndex;return n.bindingIndex=n.bindingIndex+t,o}(2);h.firstUpdatePass&&function Sr(t,n,o,a){const c=t.data;if(null===c[o+1]){const h=c[ni()],g=function Or(t,n){return n>=t.expandoStartIndex}(t,o);(function rI(t,n){return 0!=(t.flags&(n?8:16))})(h,a)&&null===n&&!g&&(n=!1),n=function oi(t,n,o,a){const c=function O(t){const n=Xn.lFrame.currentDirectiveIndex;return-1===n?null:t[n]}(t);let h=a?n.residualClasses:n.residualStyles;if(null===c)0===(a?n.classBindings:n.styleBindings)&&(o=Ih(o=pa(null,t,n,o,a),n.attrs,a),h=null);else{const g=n.directiveStylingLast;if(-1===g||t[g]!==c)if(o=pa(c,t,n,o,a),null===h){let E=function Li(t,n,o){const a=o?n.classBindings:n.styleBindings;if(0!==tc(a))return t[Ts(a)]}(t,n,a);void 0!==E&&Array.isArray(E)&&(E=pa(null,t,n,E[1],a),E=Ih(E,n.attrs,a),function bi(t,n,o,a){t[Ts(o?n.classBindings:n.styleBindings)]=a}(t,n,a,E))}else h=function jo(t,n,o){let a;const c=n.directiveEnd;for(let h=1+n.directiveStylingLast;h<c;h++)a=Ih(a,t[h].hostAttrs,o);return Ih(a,n.attrs,o)}(t,n,a)}return void 0!==h&&(a?n.residualClasses=h:n.residualStyles=h),o}(c,h,n,a),function w_(t,n,o,a,c,h){let g=h?n.classBindings:n.styleBindings,v=Ts(g),E=tc(g);t[a]=o;let Y,V=!1;if(Array.isArray(o)?(Y=o[1],(null===Y||Ya(o,Y)>0)&&(V=!0)):Y=o,c)if(0!==E){const Oe=Ts(t[v+1]);t[a+1]=yh(Oe,v),0!==Oe&&(t[Oe+1]=Vg(t[Oe+1],a)),t[v+1]=function vE(t,n){return 131071&t|n<<17}(t[v+1],a)}else t[a+1]=yh(v,0),0!==v&&(t[v+1]=Vg(t[v+1],a)),v=a;else t[a+1]=yh(E,0),0===v?v=a:t[E+1]=Vg(t[E+1],a),E=a;V&&(t[a+1]=Fg(t[a+1])),EE(t,Y,a,!0),EE(t,Y,a,!1),function yE(t,n,o,a,c){const h=c?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof n&&Ya(h,n)>=0&&(o[a+1]=$g(o[a+1]))}(n,Y,t,a,h),g=yh(v,E),h?n.classBindings=g:n.styleBindings=g}(c,h,n,o,g,a)}}(h,t,g,a),n!==Br&&Co(c,g,n)&&function tI(t,n,o,a,c,h,g,v){if(!(3&n.type))return;const E=t.data,V=E[v+1],Y=function _E(t){return 1==(1&t)}(V)?nI(E,n,o,c,tc(V),g):void 0;P_(Y)||(P_(h)||function mE(t){return 2==(2&t)}(V)&&(h=nI(E,null,o,c,v,g)),function Yd(t,n,o,a,c){if(n)c?t.addClass(o,a):t.removeClass(o,a);else{let h=-1===a.indexOf("-")?void 0:Ou.DashCase;null==c?t.removeStyle(o,a,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=Ou.Important),t.setStyle(o,a,c,h))}}(a,g,Ml(ni(),o),c,h))}(h,h.data[ni()],c,c[Gt],t,c[g+1]=function jC(t,n){return null==t||""===t||("string"==typeof n?t+=n:"object"==typeof t&&(t=Yn(nu(t)))),t}(n,o),a,g)}(t,n,null,!0),Me}function pa(t,n,o,a,c){let h=null;const g=o.directiveEnd;let v=o.directiveStylingLast;for(-1===v?v=o.directiveStart:v++;v<g&&(h=n[v],a=Ih(a,h.hostAttrs,c),h!==t);)v++;return null!==t&&(o.directiveStylingLast=v),a}function Ih(t,n,o){const a=o?1:2;let c=-1;if(null!==n)for(let h=0;h<n.length;h++){const g=n[h];"number"==typeof g?c=g:c===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Eo(t,g,!!o||n[++h]))}return void 0===t?null:t}function nI(t,n,o,a,c,h){const g=null===n;let v;for(;c>0;){const E=t[c],V=Array.isArray(E),Y=V?E[1]:E,re=null===Y;let Oe=o[c+1];Oe===Br&&(Oe=re?Fr:void 0);let ot=re?$l(Oe,a):Y===a?Oe:void 0;if(V&&!P_(ot)&&(ot=$l(E,a)),P_(ot)&&(v=ot,g))return v;const Lt=t[c+1];c=g?Ts(Lt):tc(Lt)}if(null!==n){let E=h?n.residualClasses:n.residualStyles;null!=E&&(v=$l(E,a))}return v}function P_(t){return void 0!==t}function Jf(t,n){return!n||kd(t)}function Wg(t,n,o,a=!0){const c=n[ye];if(function Iy(t,n,o,a){const c=Mi+a,h=o.length;a>0&&(o[c-1][Ut]=n),a<h-Mi?(n[Ut]=o[c],Vl(o,Mi+a,n)):(o.push(n),n[Ut]=null),n[it]=o;const g=n[Fi];null!==g&&o!==g&&function Lm(t,n){const o=t[zi];n[dr]!==n[it][it][dr]&&(t[Fe]|=Yr.HasTransplantedViews),null===o?t[zi]=[n]:o.push(n)}(g,n);const v=n[Gr];null!==v&&v.insertView(t),ar(n),n[Fe]|=128}(c,n,t,o),a){const h=zd(o,t),g=n[Gt],v=Xh(g,t[io]);null!==v&&function Nm(t,n,o,a,c,h){a[G]=c,a[k]=n,Gd(t,a,o,1,c,h)}(c,t[k],g,n,v,h)}}let k_=(()=>{class n{}return n.__NG_ELEMENT_ID__=Tb,n})();function Tb(){return mI(Tt(),Jt())}const Db=k_,pI=class extends Db{constructor(n,o,a){super(),this._lContainer=n,this._hostTNode=o,this._hostLView=a}get element(){return Hu(this._hostTNode,this._hostLView)}get injector(){return new ti(this._hostTNode,this._hostLView)}get parentInjector(){const n=Sa(this._hostTNode,this._hostLView);if(la(n)){const o=ja(n,this._hostLView),a=Ci(n);return new ti(o[ye].data[a+8],o)}return new ti(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const o=gI(this._lContainer);return null!==o&&o[n]||null}get length(){return this._lContainer.length-Mi}createEmbeddedView(n,o,a){let c,h;"number"==typeof a?c=a:null!=a&&(c=a.index,h=a.injector);const v=n.createEmbeddedViewImpl(o||{},h,null);return this.insertImpl(v,c,Jf(this._hostTNode,null)),v}createComponent(n,o,a,c,h){var g,E;const V=n&&!function Tu(t){return"function"==typeof t}(n);let Y;if(V)Y=o;else{const Gn=o||{};Y=Gn.index,a=Gn.injector,c=Gn.projectableNodes,h=Gn.environmentInjector||Gn.ngModuleRef}const re=V?n:new gh(Rr(n)),Oe=a||this.parentInjector;if(!h&&null==re.ngModule){const hn=(V?Oe:this.parentInjector).get($o,null);hn&&(h=hn)}const ot=Rr(null!==(g=re.componentType)&&void 0!==g?g:{}),Lt=(null==ot?void 0:ot.id,null),an=null!==(E=null==Lt?void 0:Lt.firstChild)&&void 0!==E?E:null,On=re.create(Oe,c,an,h);return this.insertImpl(On.hostView,Y,Jf(this._hostTNode,Lt)),On}insert(n,o){return this.insertImpl(n,o,!0)}insertImpl(n,o,a){const c=n._lView;if(function fu(t){return Oi(t[it])}(c)){const v=this.indexOf(n);if(-1!==v)this.detach(v);else{const E=c[it],V=new pI(E,E[k],E[it]);V.detach(V.indexOf(n))}}const h=this._adjustIndex(o),g=this._lContainer;return Wg(g,c,h,a),n.attachToViewContainerRef(),Vl(ME(g),h,n),n}move(n,o){return this.insert(n,o)}indexOf(n){const o=gI(this._lContainer);return null!==o?o.indexOf(n):-1}remove(n){const o=this._adjustIndex(n,-1),a=Pc(this._lContainer,o);a&&(vl(ME(this._lContainer),o),Kh(a[ye],a))}detach(n){const o=this._adjustIndex(n,-1),a=Pc(this._lContainer,o);return a&&null!=vl(ME(this._lContainer),o)?new nd(a):null}_adjustIndex(n,o=0){return null==n?this.length+o:n}};function gI(t){return t[8]}function ME(t){return t[8]||(t[8]=[])}function mI(t,n){let o;const a=n[t.index];return Oi(a)?o=a:(o=Wv(a,n,null,t),n[t.index]=o,oh(n,o)),vI(o,n,t,a),new pI(o,t,n)}let vI=function yI(t,n,o,a){if(t[io])return;let c;c=8&o.type?yi(a):function Cb(t,n){const o=t[Gt],a=o.createComment(""),c=fo(n,t);return eu(o,Xh(o,c),a,function Um(t,n){return t.nextSibling(n)}(o,c),!1),a}(n,o),t[io]=c},xE=(t,n,o)=>!1;function ep(t,n,o,a,c,h,g,v){const E=Jt(),V=Zr(),Y=t+sr,re=V.firstCreatePass?function Sb(t,n,o,a,c,h,g,v,E){const V=n.consts,Y=Xc(n,t,4,g||null,gr(V,v));wg(n,o,Y,gr(V,E)),Ua(n,Y);const re=Y.tView=Jc(2,Y,a,c,h,n.directiveRegistry,n.pipeRegistry,null,n.schemas,V,null);return null!==n.queries&&(n.queries.template(n,Y),re.queries=n.queries.embeddedTView(Y)),Y}(Y,V,E,n,o,a,c,h,g):V.data[Y];Lo(re,!1);const Oe=EI(V,E,re,t);yu()&&Jh(V,E,Oe,re),Bo(Oe,E);const ot=Wv(Oe,E,Oe,re);return E[Y]=ot,oh(E,ot),function _I(t,n,o){return xE(t,n,o)}(ot,re,E),na(re)&&kf(V,E,re),null!=g&&ih(E,re,v),ep}let EI=function II(t,n,o,a){return js(!0),n[Gt].createComment("")};function U_(t,n,o,a){const c=Jt(),h=Zr(),g=sr+t,v=c[Gt],E=h.firstCreatePass?function vw(t,n,o,a,c,h){const g=n.consts,E=Xc(n,t,2,a,gr(g,c));return wg(n,o,E,gr(g,h)),null!==E.attrs&&Yf(E,E.attrs,!1),null!==E.mergedAttrs&&Yf(E,E.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,E),E}(g,h,c,n,o,a):h.data[g],V=zI(h,c,E,v,n,t);c[g]=V;const Y=na(E);return Lo(E,!0),sf(v,V,E),32!=(32&E.flags)&&yu()&&Jh(h,c,V,E),0===function _d(){return Xn.lFrame.elementDepthCount}()&&Bo(V,c),function As(){Xn.lFrame.elementDepthCount++}(),Y&&(kf(h,c,E),rh(h,E,c)),null!==a&&ih(c,E),U_}function j_(){let t=Tt();Ps()?Ms():(t=t.parent,Lo(t,!1));const n=t;(function Ba(t){return Xn.skipHydrationRootTNode===t})(n)&&function oc(){Xn.skipHydrationRootTNode=null}(),function ic(){Xn.lFrame.elementDepthCount--}();const o=Zr();return o.firstCreatePass&&(Ua(o,t),ho(t)&&o.queries.elementEnd(t)),null!=n.classesWithoutHost&&function Ah(t){return 0!=(8&t.flags)}(n)&&z(o,n,Jt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function yd(t){return 0!=(16&t.flags)}(n)&&z(o,n,Jt(),n.stylesWithoutHost,!1),j_}function HE(t,n,o,a){return U_(t,n,o,a),j_(),HE}let zI=(t,n,o,a,c,h)=>(js(!0),qh(a,c,function Ca(){return Xn.lFrame.currentNamespace}()));function zE(t,n,o){const a=Jt(),c=Zr(),h=t+sr,g=c.firstCreatePass?function Ew(t,n,o,a,c){const h=n.consts,g=gr(h,a),v=Xc(n,t,8,"ng-container",g);return null!==g&&Yf(v,g,!0),wg(n,o,v,gr(h,c)),null!==n.queries&&n.queries.elementStart(n,v),v}(h,c,a,n,o):c.data[h];Lo(g,!0);const v=WI(c,a,g,t);return a[h]=v,yu()&&Jh(c,a,v,g),Bo(v,a),na(g)&&(kf(c,a,g),rh(c,g,a)),null!=o&&ih(a,g),zE}function WE(){let t=Tt();const n=Zr();return Ps()?Ms():(t=t.parent,Lo(t,!1)),n.firstCreatePass&&(Ua(n,t),ho(t)&&n.queries.elementEnd(t)),WE}function GE(t,n,o){return zE(t,n,o),WE(),GE}let WI=(t,n,o,a)=>(js(!0),Cl(n[Gt],""));function GI(){return Jt()}const Dh=void 0;var Cw=["en",[["a","p"],["AM","PM"],Dh],[["AM","PM"],Dh,Dh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dh,"{1} 'at' {0}",Dh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Dw(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let ap={};function YE(t){const n=function bw(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=ZI(n);if(o)return o;const a=n.split("-")[0];if(o=ZI(a),o)return o;if("en"===a)return Cw;throw new fn(701,!1)}function KI(t){return YE(t)[lp.PluralCase]}function ZI(t){return t in ap||(ap[t]=Je.ng&&Je.ng.common&&Je.ng.common.locales&&Je.ng.common.locales[t]),ap[t]}var lp=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(lp||{});const up="en-US";let XI=up;function ZE(t){return!!t&&"function"==typeof t.then}function TT(t){return!!t&&"function"==typeof t.subscribe}function XE(t,n,o,a){const c=Jt(),h=Zr(),g=Tt();return function CT(t,n,o,a,c,h,g){const v=na(a),V=t.firstCreatePass&&Bf(t),Y=n[L],re=qv(n);let Oe=!0;if(3&a.type||g){const an=fo(a,n),On=g?g(an):an,Gn=re.length,hn=g?Xr=>g(yi(Xr[a.index])):a.index;let Vr=null;if(!g&&v&&(Vr=function yA(t,n,o,a){const c=t.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const g=c[h];if(g===o&&c[h+1]===a){const v=n[ee],E=c[h+2];return v.length>E?v[E]:null}"string"==typeof g&&(h+=2)}return null}(t,n,c,a.index)),null!==Vr)(Vr.__ngLastListenerFn__||Vr).__ngNextListenerFn__=h,Vr.__ngLastListenerFn__=h,Oe=!1;else{h=wT(a,n,Y,h,!1);const Xr=o.listen(On,c,h);re.push(h,Xr),V&&V.push(c,hn,Gn,Gn+1)}}else h=wT(a,n,Y,h,!1);const ot=a.outputs;let Lt;if(Oe&&null!==ot&&(Lt=ot[c])){const an=Lt.length;if(an)for(let On=0;On<an;On+=2){const si=n[Lt[On]][Lt[On+1]].subscribe(h),Ls=re.length;re.push(h,si),V&&V.push(c,a.index,Ls,-(Ls+1))}}}(h,c,c[Gt],g,t,n,a),XE}function bT(t,n,o,a){try{return Ot(6,n,o),!1!==o(a)}catch(c){return Uf(t,c),!1}finally{Ot(7,n,o)}}function wT(t,n,o,a,c){return function h(g){if(g===Function)return a;sh(t.componentOffset>-1?vo(t.index,n):n);let E=bT(n,o,a,g),V=h.__ngNextListenerFn__;for(;V;)E=bT(n,o,V,g)&&E,V=V.__ngNextListenerFn__;return c&&!1===E&&g.preventDefault(),E}}function AT(t=1){return function li(t){return(Xn.lFrame.contextLView=function Ei(t,n){for(;t>0;)n=n[ui],t--;return n}(t,Xn.lFrame.contextLView))[L]}(t)}function EA(t,n){let o=null;const a=function ma(t){const n=t.attrs;if(null!=n){const o=n.indexOf(5);if(!(1&o))return n[o+1]}return null}(t);for(let c=0;c<n.length;c++){const h=n[c];if("*"!==h){if(null===a?ro(t,h,!0):hs(a,h))return c}else o=c}return o}function ST(t){const n=Jt()[dr][k];if(!n.projection){const a=n.projection=Ga(t?t.length:1,null),c=a.slice();let h=n.child;for(;null!==h;){const g=t?EA(h,t):0;null!==g&&(c[g]?c[g].projectionNext=h:a[g]=h,c[g]=h),h=h.next}}}function RT(t,n=0,o){const a=Jt(),c=Zr(),h=Xc(c,sr+t,16,null,o||null);null===h.projection&&(h.projection=n),Ms(),(!a[P]||Rs())&&32!=(32&h.flags)&&function Gm(t,n,o){tf(n[Gt],0,n,o,Zh(t,o,n),jm(o.parent||n[k],o,n))}(c,a,h)}function qT(t,n=""){const o=Jt(),a=Zr(),c=t+sr,h=a.firstCreatePass?Xc(a,c,1,n,null):a.data[c],g=KT(a,o,h,n,t);o[c]=g,yu()&&Jh(a,o,g,h),Lo(h,!1)}let KT=(t,n,o,a,c)=>(js(!0),function Dl(t,n){return t.createText(n)}(n[Gt],a));function JE(t){return Y_("",t,""),JE}function Y_(t,n,o){const a=Jt(),c=function La(t,n,o,a){return Co(t,Bi(),o)?n+Vn(o)+a:Br}(a,t,n,o);return c!==Br&&function su(t,n,o){const a=Ml(n,t);!function Up(t,n,o){t.setValue(n,o)}(t[Gt],a,o)}(a,ni(),c),Y_}function e0(t,n,o,a,c){if(t=Mn(t),Array.isArray(t))for(let h=0;h<t.length;h++)e0(t[h],n,o,a,c);else{const h=Zr(),g=Jt(),v=Tt();let E=Qa(t)?t:Mn(t.provide);const V=kh(t),Y=1048575&v.providerIndexes,re=v.directiveStart,Oe=v.providerIndexes>>20;if(Qa(t)||!t.multi){const ot=new ci(V,c,Sl),Lt=n0(E,n,c?Y:Y+Oe,re);-1===Lt?(hl(Aa(v,g),h,E),t0(h,t,n.length),n.push(E),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),o.push(ot),g.push(ot)):(o[Lt]=ot,g[Lt]=ot)}else{const ot=n0(E,n,Y+Oe,re),Lt=n0(E,n,Y,Y+Oe),On=Lt>=0&&o[Lt];if(c&&!On||!c&&!(ot>=0&&o[ot])){hl(Aa(v,g),h,E);const Gn=function FA(t,n,o,a,c){const h=new ci(t,o,Sl);return h.multi=[],h.index=n,h.componentProviders=0,iD(h,c,a&&!o),h}(c?LA:kA,o.length,c,a,V);!c&&On&&(o[Lt].providerFactory=Gn),t0(h,t,n.length,0),n.push(E),v.directiveStart++,v.directiveEnd++,c&&(v.providerIndexes+=1048576),o.push(Gn),g.push(Gn)}else t0(h,t,ot>-1?ot:Lt,iD(o[c?Lt:ot],V,!c&&a));!c&&a&&On&&o[Lt].componentProviders++}}}function t0(t,n,o,a){const c=Qa(n),h=function hm(t){return!!t.useClass}(n);if(c||h){const E=(h?Mn(n.useClass):n).prototype.ngOnDestroy;if(E){const V=t.destroyHooks||(t.destroyHooks=[]);if(!c&&n.multi){const Y=V.indexOf(o);-1===Y?V.push(o,[a,E]):V[Y+1].push(a,E)}else V.push(o,E)}}}function iD(t,n,o){return o&&t.componentProviders++,t.multi.push(n)-1}function n0(t,n,o,a){for(let c=o;c<a;c++)if(n[c]===t)return c;return-1}function kA(t,n,o,a){return r0(this.multi,[])}function LA(t,n,o,a){const c=this.multi;let h;if(this.providerFactory){const g=this.providerFactory.componentProviders,v=ms(o,o[ye],this.providerFactory.index,a);h=v.slice(0,g),r0(c,h);for(let E=g;E<v.length;E++)h.push(v[E])}else h=[],r0(c,h);return h}function r0(t,n){for(let o=0;o<t.length;o++)n.push((0,t[o])());return n}function oD(t,n=[]){return o=>{o.providersResolver=(a,c)=>function NA(t,n,o){const a=Zr();if(a.firstCreatePass){const c=Wi(t);e0(o,a.data,a.blueprint,c,!0),e0(n,a.data,a.blueprint,c,!1)}}(a,c?c(t):t,n)}}class Ch{}class sD{}function VA(t,n){return new o0(t,null!=n?n:null,[])}class o0 extends Ch{constructor(n,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ph(this);const c=_i(n);this._bootstrapComponents=Ns(c.bootstrap),this._r3Injector=Tc(n,o,[{provide:Ch,useValue:this},{provide:Yc,useValue:this.componentFactoryResolver},...a],Yn(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class s0 extends sD{constructor(n){super(),this.moduleType=n}create(n){return new o0(this.moduleType,n,[])}}class aD extends Ch{constructor(n){super(),this.componentFactoryResolver=new ph(this),this.instance=null;const o=new Au([...n.providers,{provide:Ch,useValue:this},{provide:Yc,useValue:this.componentFactoryResolver}],n.parent||El(),n.debugName,new Set(["environment"]));this.injector=o,n.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function lD(t,n,o=null){return new aD({providers:t,parent:n,debugName:o,runEnvironmentInitializers:!0}).injector}let BA=(()=>{var t;class n{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const c=bu(0,a.type),h=c.length>0?lD([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,h)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return(t=n).\u0275prov=Ln({token:t,providedIn:"environment",factory:()=>new t(jr($o))}),n})();function uD(t){Ku("NgStandalone"),t.getStandaloneInjector=n=>n.get(BA).getOrCreateStandaloneInjector(t)}function vD(t,n,o){const a=function so(){const t=Xn.lFrame;let n=t.bindingRootIndex;return-1===n&&(n=t.bindingRootIndex=t.tView.bindingStartIndex),n}()+t,c=Jt();return c[a]===Br?function rl(t,n,o){return t[n]=o}(c,a,o?n.call(o):n()):function vh(t,n){return t[n]}(c,a)}function fS(){return this._results[Symbol.iterator]()}class l0{get changes(){return this._changes||(this._changes=new ha)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=l0.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=fS)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,o){return this._results.reduce(n,o)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,o){this.dirty=!1;const a=function Fo(t){return t.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function yp(t,n,o){if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++){let c=t[a],h=n[a];if(o&&(c=o(c),h=o(h)),h!==c)return!1}return!0}(this._results,a,o))&&(this._results=a,this.length=a.length,this.last=a[this.length-1],this.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let nm=(()=>{class n{}return n.__NG_ELEMENT_ID__=mS,n})();const pS=nm,gS=class extends pS{constructor(n,o,a){super(),this._declarationLView=n,this._declarationTContainer=o,this.elementRef=a}get ssrId(){var n;return(null===(n=this._declarationTContainer.tView)||void 0===n?void 0:n.ssrId)||null}createEmbeddedView(n,o){return this.createEmbeddedViewImpl(n,o)}createEmbeddedViewImpl(n,o,a){const c=function zg(t,n,o,a){var c,h;const g=n.tView,V=Of(t,g,o,4096&t[Fe]?4096:16,null,n,null,null,null,null!==(c=null==a?void 0:a.injector)&&void 0!==c?c:null,null!==(h=null==a?void 0:a.dehydratedView)&&void 0!==h?h:null);V[Fi]=t[n.index];const re=t[Gr];return null!==re&&(V[Gr]=re.createEmbeddedView(g)),ld(g,V,o),V}(this._declarationLView,this._declarationTContainer,n,{injector:o,dehydratedView:a});return new nd(c)}};function mS(){return Z_(Tt(),Jt())}function Z_(t,n){return 4&t.type?new gS(n,t,Hu(t,n)):null}class u0{constructor(n){this.queryList=n,this.matches=null}clone(){return new u0(this.queryList)}setDirty(){this.queryList.setDirty()}}class c0{constructor(n=[]){this.queries=n}createEmbeddedView(n){const o=n.queries;if(null!==o){const a=null!==n.contentQueries?n.contentQueries[0]:o.length,c=[];for(let h=0;h<a;h++){const g=o.getByIndex(h);c.push(this.queries[g.indexInDeclarationView].clone())}return new c0(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let o=0;o<this.queries.length;o++)null!==MD(n,o).matches&&this.queries[o].setDirty()}}class DD{constructor(n,o,a=null){this.predicate=n,this.flags=o,this.read=a}}class d0{constructor(n=[]){this.queries=n}elementStart(n,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(n,o)}elementEnd(n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(n)}embeddedTView(n){let o=null;for(let a=0;a<this.length;a++){const c=null!==o?o.length:0,h=this.getByIndex(a).embeddedTView(n,c);h&&(h.indexInDeclarationView=a,null!==o?o.push(h):o=[h])}return null!==o?new d0(o):null}template(n,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(n,o)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class h0{constructor(n,o=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(n,o){this.isApplyingToNode(o)&&this.matchTNode(n,o)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,o){this.elementStart(n,o)}embeddedTView(n,o){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,o),new h0(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=n.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(n,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const h=a[c];this.matchTNodeWithReadOption(n,o,vS(o,h)),this.matchTNodeWithReadOption(n,o,fl(o,n,h,!1,!1))}else a===nm?4&o.type&&this.matchTNodeWithReadOption(n,o,-1):this.matchTNodeWithReadOption(n,o,fl(o,n,a,!1,!1))}matchTNodeWithReadOption(n,o,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===eh||c===k_||c===nm&&4&o.type)this.addMatch(o.index,-2);else{const h=fl(o,n,c,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,a)}}addMatch(n,o){null===this.matches?this.matches=[n,o]:this.matches.push(n,o)}}function vS(t,n){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===n)return o[a+1];return null}function yS(t,n,o,a){return-1===o?function _S(t,n){return 11&t.type?Hu(t,n):4&t.type?Z_(t,n):null}(n,t):-2===o?function ES(t,n,o){return o===eh?Hu(n,t):o===nm?Z_(n,t):o===k_?mI(n,t):void 0}(t,n,a):ms(t,t[ye],o,n)}function CD(t,n,o,a){const c=n[Gr].queries[a];if(null===c.matches){const h=t.data,g=o.matches,v=[];for(let E=0;E<g.length;E+=2){const V=g[E];v.push(V<0?null:yS(n,h[V],g[E+1],o.metadata.read))}c.matches=v}return c.matches}function f0(t,n,o,a){const c=t.queries.getByIndex(o),h=c.matches;if(null!==h){const g=CD(t,n,c,o);for(let v=0;v<h.length;v+=2){const E=h[v];if(E>0)a.push(g[v/2]);else{const V=h[v+1],Y=n[-E];for(let re=Mi;re<Y.length;re++){const Oe=Y[re];Oe[Fi]===Oe[it]&&f0(Oe[ye],Oe,V,a)}if(null!==Y[zi]){const re=Y[zi];for(let Oe=0;Oe<re.length;Oe++){const ot=re[Oe];f0(ot[ye],ot,V,a)}}}}}return a}function bD(t){const n=Jt(),o=Zr(),a=T();F(a+1);const c=MD(o,a);if(t.dirty&&function wh(t){return 4==(4&t[Fe])}(n)===(2==(2&c.metadata.flags))){if(null===c.matches)t.reset([]);else{const h=c.crossesNgTemplate?f0(o,n,a,[]):CD(o,n,c,a);t.reset(h,hv),t.notifyOnChanges()}return!0}return!1}function wD(t,n,o){const a=Zr();a.firstCreatePass&&(PD(a,new DD(t,n,o),-1),2==(2&n)&&(a.staticViewQueries=!0)),RD(a,Jt(),n)}function AD(t,n,o,a){const c=Zr();if(c.firstCreatePass){const h=Tt();PD(c,new DD(n,o,a),h.index),function TS(t,n){const o=t.contentQueries||(t.contentQueries=[]);n!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,n)}(c,t),2==(2&o)&&(c.staticContentQueries=!0)}RD(c,Jt(),o)}function SD(){return function IS(t,n){return t[Gr].queries[n].queryList}(Jt(),T())}function RD(t,n,o){const a=new l0(4==(4&o));(function td(t,n,o,a){const c=qv(n);c.push(o),t.firstCreatePass&&Bf(t).push(a,c.length-1)})(t,n,a,a.destroy),null===n[Gr]&&(n[Gr]=new c0),n[Gr].queries.push(new u0(a))}function PD(t,n,o){null===t.queries&&(t.queries=new d0),t.queries.track(new h0(n,o))}function MD(t,n){return t.queries.getByIndex(n)}const YD=new Qt("Application Initializer");let _0=(()=>{var t;class n{constructor(){var a;this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h}),this.appInits=null!==(a=yr(YD,{optional:!0}))&&void 0!==a?a:[]}runInitializers(){if(this.initialized)return;const a=[];for(const h of this.appInits){const g=h();if(ZE(g))a.push(g);else if(TT(g)){const v=new Promise((E,V)=>{g.subscribe({complete:E,error:V})});a.push(v)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{c()}).catch(h=>{this.reject(h)}),0===a.length&&c(),this.initialized=!0}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Ln({token:t,factory:t.\u0275fac,providedIn:"root"}),n})(),qD=(()=>{var t;class n{log(a){console.log(a)}warn(a){console.warn(a)}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Ln({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();const Q_=new Qt("LocaleId",{providedIn:"root",factory:()=>yr(Q_,ce.Optional|ce.SkipSelf)||function WS(){return typeof $localize<"u"&&$localize.locale||up}()}),GS=new Qt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let ZD=(()=>{var t;class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new An.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Ln({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();class XS{constructor(n,o){this.ngModuleFactory=n,this.componentFactories=o}}let QS=(()=>{var t;class n{compileModuleSync(a){return new s0(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),g=Ns(_i(a).declarations).reduce((v,E)=>{const V=Rr(E);return V&&v.push(new gh(V)),v},[]);return new XS(c,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Ln({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();const tC=new Qt(""),nC=new Qt("");let E0,DR=(()=>{var t;class n{constructor(a,c,h){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,E0||(function CR(t){E0=t}(h),h.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{po.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,h){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:h})}whenStable(a,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,h){return[]}}return(t=n).\u0275fac=function(a){return new(a||t)(jr(po),jr(rC),jr(nC))},t.\u0275prov=Ln({token:t,factory:t.\u0275fac}),n})(),rC=(()=>{var t;class n{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){var h,g;return null!==(h=null===(g=E0)||void 0===g?void 0:g.findTestabilityInTree(this,a,c))&&void 0!==h?h:null}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Ln({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})(),md=null;const iC=new Qt("AllowMultipleToken"),I0=new Qt("PlatformDestroyListeners"),T0=new Qt("appBootstrapListener");function aC(t,n,o=[]){const a=`Platform: ${n}`,c=new Qt(a);return(h=[])=>{let g=D0();if(!g||g.injector.get(iC,!1)){const v=[...o,...h,{provide:c,useValue:!0}];t?t(v):function AR(t){if(md&&!md.get(iC,!1))throw new fn(400,!1);(function oC(){!function Xt(t){Wt=t}(()=>{throw new fn(600,!1)})})(),md=t;const n=t.get(uC);(function sC(t){const n=t.get(Mp,null);null==n||n.forEach(o=>o())})(t)}(function lC(t=[],n){return ys.create({name:n,providers:[{provide:Tp,useValue:"platform"},{provide:I0,useValue:new Set([()=>md=null])},...t]})}(v,a))}return function RR(t){const n=D0();if(!n)throw new fn(401,!1);return n}()}}function D0(){var t,n;return null!==(t=null===(n=md)||void 0===n?void 0:n.get(uC))&&void 0!==t?t:null}let uC=(()=>{var t;class n{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const h=function PR(t="zone.js",n){return"noop"===t?new dh:"zone.js"===t?new po(n):t}(null==c?void 0:c.ngZone,function cC(t){var n,o;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(n=null==t?void 0:t.eventCoalescing)&&void 0!==n&&n,shouldCoalesceRunChangeDetection:null!==(o=null==t?void 0:t.runCoalescing)&&void 0!==o&&o}}({eventCoalescing:null==c?void 0:c.ngZoneEventCoalescing,runCoalescing:null==c?void 0:c.ngZoneRunCoalescing}));return h.run(()=>{const g=function $A(t,n,o){return new o0(t,n,o)}(a.moduleType,this.injector,function gC(t){return[{provide:po,useFactory:t},{provide:_s,multi:!0,useFactory:()=>{const n=yr(xR,{optional:!0});return()=>n.initialize()}},{provide:pC,useFactory:MR},{provide:s_,useFactory:hh}]}(()=>h)),v=g.injector.get(ou,null);return h.runOutsideAngular(()=>{const E=h.onError.subscribe({next:V=>{v.handleError(V)}});g.onDestroy(()=>{ey(this._modules,g),E.unsubscribe()})}),function dC(t,n,o){try{const a=o();return ZE(a)?a.catch(c=>{throw n.runOutsideAngular(()=>t.handleError(c)),c}):a}catch(a){throw n.runOutsideAngular(()=>t.handleError(a)),a}}(v,h,()=>{const E=g.injector.get(_0);return E.runInitializers(),E.donePromise.then(()=>(function QI(t){It(t,"Expected localeId to be defined"),"string"==typeof t&&(XI=t.toLowerCase().replace(/_/g,"-"))}(g.injector.get(Q_,up)||up),this._moduleDoBootstrap(g),g))})})}bootstrapModule(a,c=[]){const h=hC({},c);return function bR(t,n,o){const a=new s0(o);return Promise.resolve(a)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(a){const c=a.injector.get(hp);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new fn(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new fn(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(I0,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=n).\u0275fac=function(a){return new(a||t)(jr(ys))},t.\u0275prov=Ln({token:t,factory:t.\u0275fac,providedIn:"platform"}),n})();function hC(t,n){return Array.isArray(n)?n.reduce(hC,t):{...t,...n}}let hp=(()=>{var t;class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=yr(pC),this.zoneIsStable=yr(s_),this.componentTypes=[],this.components=[],this.isStable=yr(ZD).hasPendingTasks.pipe((0,dn.w)(a=>a?(0,Nn.of)(!1):this.zoneIsStable),(0,kn.x)(),(0,Zn.B)()),this._injector=yr($o)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,c){const h=a instanceof bf;if(!this._injector.get(_0).done)throw!h&&Si(a),new fn(405,!1);let v;v=h?a:this._injector.get(Yc).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const E=function wR(t){return t.isBoundToModule}(v)?void 0:this._injector.get(Ch),Y=v.create(ys.NULL,[],c||v.selector,E),re=Y.location.nativeElement,Oe=Y.injector.get(tC,null);return null==Oe||Oe.registerApplication(re),Y.onDestroy(()=>{this.detachView(Y.hostView),ey(this.components,Y),null==Oe||Oe.unregisterApplication(re)}),this._loadComponent(Y),Y}tick(){if(this._runningTick)throw new fn(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;ey(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(T0,[]);[...this._bootstrapListeners,...c].forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>ey(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new fn(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Ln({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function ey(t,n){const o=t.indexOf(n);o>-1&&t.splice(o,1)}const pC=new Qt("",{providedIn:"root",factory:()=>yr(ou).handleError.bind(void 0)});function MR(){const t=yr(po),n=yr(ou);return o=>t.runOutsideAngular(()=>n.handleError(o))}let xR=(()=>{var t;class n{constructor(){this.zone=yr(po),this.applicationRef=yr(hp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var a;null===(a=this._onMicrotaskEmptySubscription)||void 0===a||a.unsubscribe()}}return(t=n).\u0275fac=function(a){return new(a||t)},t.\u0275prov=Ln({token:t,factory:t.\u0275fac,providedIn:"root"}),n})();function kR(){return!1}function LR(){}const UR=aC(null,"core",[]);let jR=(()=>{var t;class n{constructor(a){}}return(t=n).\u0275fac=function(a){return new(a||t)(jr(hp))},t.\u0275mod=di({type:t}),t.\u0275inj=st({}),n})();function uP(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function dP(t,n){const o=Rr(t),a=n.elementInjector||El();return new gh(o).create(a,n.projectableNodes,n.hostElement,n.environmentInjector)}function hP(t){const n=Rr(t);if(!n)return null;const o=new gh(n);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},721:(ln,nt,w)=>{"use strict";w.d(nt,{Ot:()=>_e,ZF:()=>Le,hX:()=>xe,z6:()=>le});var l=w(1180),M=w(3182),H=w(9212),Q=w(1920);class _e{constructor(Xe){return Xe}}class le{constructor(){return(0,M.C6)()}}const Ye=new H.OlP("angularfire2._apps"),ue={provide:_e,useFactory:function ve(je){return je&&1===je.length?je[0]:new _e((0,M.Mq)())},deps:[[new H.FiY,Ye]]},fe={provide:le,deps:[[new H.FiY,Ye]]};function $e(je){return(Xe,Se)=>{const ge=Xe.runOutsideAngular(()=>je(Se));return new _e(ge)}}let we=(()=>{var je;class Xe{constructor(ge){(0,M.KN)("angularfire",Q.q4.full,"core"),(0,M.KN)("angularfire",Q.q4.full,"app"),(0,M.KN)("angular",H.q4F.full,ge.toString())}}return je=Xe,(0,l.Z)(Xe,"\u0275fac",function(ge){return new(ge||je)(H.LFG(H.Lbi))}),(0,l.Z)(Xe,"\u0275mod",H.oAB({type:je})),(0,l.Z)(Xe,"\u0275inj",H.cJS({providers:[ue,fe]})),Xe})();function xe(je,...Xe){return{ngModule:we,providers:[{provide:Ye,useFactory:$e(je),multi:!0,deps:[H.R0b,H.zs3,Q.HU,...Xe]}]}}const Le=(0,Q.u3)(M.ZF,!0)},9535:(ln,nt,w)=>{"use strict";w.d(nt,{gx:()=>rt,dh:()=>Be,v0:()=>Re,AR:()=>ge,EA:()=>ke});var l=w(1180),M=w(1920),H=w(9212),Q=w(721),_e=w(3182),le=w(4562),fe=(w(9058),w(534),w(7879),w(4537),w(5592));function we(hr){return new fe.y(function(He){return{unsubscribe:(0,le.w)(hr,He.next.bind(He),He.error.bind(He),He.complete.bind(He))}})}class rt{constructor(He){return He}}class Be{constructor(){return(0,M.vb)("auth")}}const ze=new H.OlP("angularfire2.auth-instances");function qe(hr){return(He,te)=>{const B=He.runOutsideAngular(()=>hr(te));return new rt(B)}}const je={provide:Be,deps:[[new H.FiY,ze]]},Xe={provide:rt,useFactory:function dt(hr,He){const te=(0,M.JM)("auth",hr,He);return te&&new rt(te)},deps:[[new H.FiY,ze],Q.Ot]};let Se=(()=>{var hr;class He{constructor(){(0,_e.KN)("angularfire",M.q4.full,"auth")}}return hr=He,(0,l.Z)(He,"\u0275fac",function(B){return new(B||hr)}),(0,l.Z)(He,"\u0275mod",H.oAB({type:hr})),(0,l.Z)(He,"\u0275inj",H.cJS({providers:[Xe,je]})),He})();function ge(hr,...He){return{ngModule:Se,providers:[{provide:ze,useFactory:qe(hr),multi:!0,deps:[H.R0b,H.zs3,M.HU,Q.z6,[new H.FiY,M.Rf],...He]}]}}const ke=(0,M.u3)(we,!0),Re=(0,M.u3)(le.o,!0)},7213:(ln,nt,w)=>{"use strict";w.d(nt,{zQ:()=>cn,ww:()=>Xt,rT:()=>ft,f7:()=>yt,L6:()=>ke,_Q:()=>Ve,lh:()=>lt,Qv:()=>X,nw:()=>Wt});var l=w(1180),H=(w(6365),w(6814)),Q=w(9212),_e=w(1920),le=w(7217),pe=w(8645),ve=w(2096),Ye=w(5592),ue=w(2459),fe=w(3019),$e=w(3093),we=w(4664),xe=w(7398),Ke=w(4552);class rt extends pe.x{constructor(he=1/0,ne=1/0,Re=Ke.l){super(),this._bufferSize=he,this._windowTime=ne,this._timestampProvider=Re,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ne===1/0,this._bufferSize=Math.max(1,he),this._windowTime=Math.max(1,ne)}next(he){const{isStopped:ne,_buffer:Re,_infiniteTimeWindow:Ee,_timestampProvider:at,_windowTime:pt}=this;ne||(Re.push(he),!Ee&&Re.push(at.now()+pt)),this._trimBuffer(),super.next(he)}_subscribe(he){this._throwIfClosed(),this._trimBuffer();const ne=this._innerSubscribe(he),{_infiniteTimeWindow:Re,_buffer:Ee}=this,at=Ee.slice();for(let pt=0;pt<at.length&&!he.closed;pt+=Re?1:2)he.next(at[pt]);return this._checkFinalizedStatuses(he),ne}_trimBuffer(){const{_bufferSize:he,_timestampProvider:ne,_buffer:Re,_infiniteTimeWindow:Ee}=this,at=(Ee?1:2)*he;if(he<1/0&&at<Re.length&&Re.splice(0,Re.length-at),!Ee){const pt=ne.now();let Ft=0;for(let on=1;on<Re.length&&Re[on]<=pt;on+=2)Ft=on;Ft&&Re.splice(0,Ft+1)}}}var Be=w(3020);function Le(tt,he,ne){let Re,Ee=!1;return tt&&"object"==typeof tt?({bufferSize:Re=1/0,windowTime:he=1/0,refCount:Ee=!1,scheduler:ne}=tt):Re=null!=tt?tt:1/0,(0,Be.B)({connector:()=>new rt(Re,he,ne),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ee})}var ze=w(1374),dt=w(4674);function qe(tt,he){return(0,dt.m)(he)?(0,we.w)(()=>tt,he):(0,we.w)(()=>tt)}var je=w(5137),Xe=w(2181),Se=w(7142);const X=new Q.OlP("angularfire2.auth.use-emulator"),ke=new Q.OlP("angularfire2.auth.settings"),Ve=new Q.OlP("angularfire2.auth.tenant-id"),ft=new Q.OlP("angularfire2.auth.langugage-code"),lt=new Q.OlP("angularfire2.auth.use-device-language"),yt=new Q.OlP("angularfire.auth.persistence"),Wt=(tt,he,ne,Re,Ee,at,pt,Ft)=>(0,le.cc)(`${tt.name}.auth`,"AngularFireAuth",tt.name,()=>{const on=he.runOutsideAngular(()=>tt.auth());if(ne&&on.useEmulator(...ne),Re&&(on.tenantId=Re),on.languageCode=Ee,at&&on.useDeviceLanguage(),pt)for(const[en,$t]of Object.entries(pt))on.settings[en]=$t;return Ft&&on.setPersistence(Ft),on},[ne,Re,Ee,at,pt,Ft]);let cn=(()=>{var tt;class he{constructor(Re,Ee,at,pt,Ft,on,en,$t,Cn,Vt,St,At){(0,l.Z)(this,"authState",void 0),(0,l.Z)(this,"idToken",void 0),(0,l.Z)(this,"user",void 0),(0,l.Z)(this,"idTokenResult",void 0),(0,l.Z)(this,"credential",void 0);const kt=new pe.x,qt=(0,ve.of)(void 0).pipe((0,$e.Q)(Ft.outsideAngular),(0,we.w)(()=>pt.runOutsideAngular(()=>Promise.resolve().then(w.bind(w,6365)))),(0,xe.U)(()=>(0,le.on)(Re,pt,Ee)),(0,xe.U)(An=>Wt(An,pt,on,$t,Cn,Vt,en,St)),Le({bufferSize:1,refCount:!1}));if((0,H.PM)(at))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ve.of)(null);else{qt.pipe((0,ze.P)()).subscribe();const An=qt.pipe((0,we.w)(dn=>dn.getRedirectResult().then(kn=>kn,()=>null)),_e.iC,Le({bufferSize:1,refCount:!1})),Nn=qt.pipe((0,we.w)(dn=>new Ye.y(kn=>({unsubscribe:pt.runOutsideAngular(()=>dn.onAuthStateChanged(En=>kn.next(En),En=>kn.error(En),()=>kn.complete()))})))),Zn=qt.pipe((0,we.w)(dn=>new Ye.y(kn=>({unsubscribe:pt.runOutsideAngular(()=>dn.onIdTokenChanged(En=>kn.next(En),En=>kn.error(En),()=>kn.complete()))}))));this.authState=An.pipe(qe(Nn),(0,je.R)(Ft.outsideAngular),(0,$e.Q)(Ft.insideAngular)),this.user=An.pipe(qe(Zn),(0,je.R)(Ft.outsideAngular),(0,$e.Q)(Ft.insideAngular)),this.idToken=this.user.pipe((0,we.w)(dn=>dn?(0,ue.D)(dn.getIdToken()):(0,ve.of)(null))),this.idTokenResult=this.user.pipe((0,we.w)(dn=>dn?(0,ue.D)(dn.getIdTokenResult()):(0,ve.of)(null))),this.credential=(0,fe.T)(An,kt,this.authState.pipe((0,Xe.h)(dn=>!dn))).pipe((0,xe.U)(dn=>null!=dn&&dn.user?dn:null),(0,je.R)(Ft.outsideAngular),(0,$e.Q)(Ft.insideAngular))}return(0,le.pX)(this,qt,pt,{spy:{apply:(An,Nn,Zn)=>{(An.startsWith("signIn")||An.startsWith("createUser"))&&Zn.then(dn=>kt.next(dn))}}})}}return tt=he,(0,l.Z)(he,"\u0275fac",function(Re){return new(Re||tt)(Q.LFG(le.Dh),Q.LFG(le.xv,8),Q.LFG(Q.Lbi),Q.LFG(Q.R0b),Q.LFG(_e.HU),Q.LFG(X,8),Q.LFG(ke,8),Q.LFG(Ve,8),Q.LFG(ft,8),Q.LFG(lt,8),Q.LFG(yt,8),Q.LFG(_e.Rf,8))}),(0,l.Z)(he,"\u0275prov",Q.Yz7({token:tt,factory:tt.\u0275fac,providedIn:"any"})),he})(),Xt=(()=>{var tt;class he{constructor(){Se.Z.registerVersion("angularfire",_e.q4.full,"auth-compat")}}return tt=he,(0,l.Z)(he,"\u0275fac",function(Re){return new(Re||tt)}),(0,l.Z)(he,"\u0275mod",Q.oAB({type:tt})),(0,l.Z)(he,"\u0275inj",Q.cJS({providers:[cn]})),he})()},7217:(ln,nt,w)=>{"use strict";w.d(nt,{Dh:()=>Ye,GT:()=>pe,cc:()=>Ke,hO:()=>xe,on:()=>fe,pX:()=>le,xv:()=>ue});var l=w(1180),M=w(9212),H=w(1920),Q=w(7142);const _e=["ngOnDestroy"],le=(ze,dt,qe,je={})=>new Proxy(ze,{get:(Xe,Se)=>qe.runOutsideAngular(()=>{var ge;if(ze[Se])return null!=je&&null!==(ge=je.spy)&&void 0!==ge&&ge.get&&je.spy.get(Se,ze[Se]),ze[Se];if(_e.indexOf(Se)>-1)return()=>{};const X=dt.toPromise().then(ke=>{const Ve=null==ke?void 0:ke[Se];return"function"==typeof Ve?Ve.bind(ke):null!=Ve&&Ve.then?Ve.then(ft=>qe.run(()=>ft)):qe.run(()=>Ve)});return new Proxy(()=>{},{get:(ke,Ve)=>X[Ve],apply:(ke,Ve,ft)=>X.then(lt=>{var yt;const Wt=null==lt?void 0:lt(...ft);return null!=je&&null!==(yt=je.spy)&&void 0!==yt&&yt.apply&&je.spy.apply(Se,ft,Wt),Wt})})})}),pe=(ze,dt)=>{dt.forEach(qe=>{Object.getOwnPropertyNames(qe.prototype||qe).forEach(je=>{Object.defineProperty(ze.prototype,je,Object.getOwnPropertyDescriptor(qe.prototype||qe,je))})})};class ve{constructor(dt){return dt}}const Ye=new M.OlP("angularfire2.app.options"),ue=new M.OlP("angularfire2.app.name");function fe(ze,dt,qe){const Xe="object"==typeof qe&&qe||{};Xe.name=Xe.name||"string"==typeof qe&&qe||"[DEFAULT]";const ge=Q.Z.apps.filter(X=>X&&X.name===Xe.name)[0]||dt.runOutsideAngular(()=>Q.Z.initializeApp(ze,Xe));try{if(JSON.stringify(ze)!==JSON.stringify(ge.options)){const X=!!module.hot;$e("error",`${ge.name} Firebase App already initialized with different options${X?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ve(ge)}const $e=(ze,...dt)=>{(0,M.X6Q)()&&typeof console<"u"&&console[ze](...dt)},we={provide:ve,useFactory:fe,deps:[Ye,M.R0b,[new M.FiY,ue]]};let xe=(()=>{var ze;class dt{static initializeApp(je,Xe){return{ngModule:dt,providers:[{provide:Ye,useValue:je},{provide:ue,useValue:Xe}]}}constructor(je){Q.Z.registerVersion("angularfire",H.q4.full,"core"),Q.Z.registerVersion("angularfire",H.q4.full,"app-compat"),Q.Z.registerVersion("angular",M.q4F.full,je.toString())}}return ze=dt,(0,l.Z)(dt,"\u0275fac",function(je){return new(je||ze)(M.LFG(M.Lbi))}),(0,l.Z)(dt,"\u0275mod",M.oAB({type:ze})),(0,l.Z)(dt,"\u0275inj",M.cJS({providers:[we]})),dt})();function Ke(ze,dt,qe,je,Xe){const[,Se,ge]=globalThis.\u0275AngularfireInstanceCache.find(X=>X[0]===ze)||[];if(Se)return function rt(ze,dt){try{return ze.toString()===dt.toString()}catch{return ze===dt}}(Xe,ge)||(Le("error",`${dt} was already initialized on the ${qe} Firebase App with different settings.${Be?" You may need to reload as Firebase is not HMR aware.":""}`),Le("warn",{is:Xe,was:ge})),Se;{const X=je();return globalThis.\u0275AngularfireInstanceCache.push([ze,X,Xe]),X}}const Be=typeof module<"u"&&!!module.hot,Le=(ze,...dt)=>{(0,M.X6Q)()&&typeof console<"u"&&console[ze](...dt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3960:(ln,nt,w)=>{"use strict";w.d(nt,{gg:()=>Wt,ET:()=>Zn,hJ:()=>br,BS:()=>Vt,JU:()=>er,PL:()=>te,ad:()=>b,Cm:()=>Ft,IO:()=>Ln,pl:()=>Et,ar:()=>Ie});var l=w(1180),M=w(1920),H=w(9212),Q=w(721),_e=w(9535),le=w(3182),pe=w(5776),ve=w(5592),Ye=w(7398),ue=function(){return ue=Object.assign||function(Je){for(var Ct,tn=1,Qt=arguments.length;tn<Qt;tn++)for(var tr in Ct=arguments[tn])Object.prototype.hasOwnProperty.call(Ct,tr)&&(Je[tr]=Ct[tr]);return Je},ue.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var $e={includeMetadataChanges:!1};function ft(mt,Je){return void 0===Je&&(Je={}),function X(mt){return function we(mt,Je){return void 0===Je&&(Je=$e),new ve.y(function(Ct){return{unsubscribe:(0,pe.cf)(mt,Je,{next:Ct.next.bind(Ct),error:Ct.error.bind(Ct),complete:Ct.complete.bind(Ct)})}})}(mt,{includeMetadataChanges:!0}).pipe((0,Ye.U)(function(Je){return Je.docs}))}(mt).pipe((0,Ye.U)(function(Ct){return Ct.map(function(tn){return function rt(mt,Je){var Ct;void 0===Je&&(Je={});var tn=mt.data(Je);return mt.exists()&&"object"==typeof tn&&null!==tn&&Je.idField?ue(ue({},tn),((Ct={})[Je.idField]=mt.id,Ct)):tn}(tn,Je)})}))}class Wt{constructor(Je){return Je}}const cn="firestore",he=new H.OlP("angularfire2.firestore-instances");function Re(mt){return(Je,Ct)=>{const tn=Je.runOutsideAngular(()=>mt(Ct));return new Wt(tn)}}const Ee={provide:class Xt{constructor(){return(0,M.vb)(cn)}},deps:[[new H.FiY,he]]},at={provide:Wt,useFactory:function ne(mt,Je){const Ct=(0,M.JM)(cn,mt,Je);return Ct&&new Wt(Ct)},deps:[[new H.FiY,he],Q.Ot]};let pt=(()=>{var mt;class Je{constructor(){(0,le.KN)("angularfire",M.q4.full,"fst")}}return mt=Je,(0,l.Z)(Je,"\u0275fac",function(tn){return new(tn||mt)}),(0,l.Z)(Je,"\u0275mod",H.oAB({type:mt})),(0,l.Z)(Je,"\u0275inj",H.cJS({providers:[at,Ee]})),Je})();function Ft(mt,...Je){return{ngModule:pt,providers:[{provide:he,useFactory:Re(mt),multi:!0,deps:[H.R0b,H.zs3,M.HU,Q.z6,[new H.FiY,_e.dh],[new H.FiY,M.Rf],...Je]}]}}const Vt=(0,M.u3)(ft,!0),Zn=(0,M.u3)(pe.ET,!0),br=(0,M.u3)(pe.hJ,!0),er=(0,M.u3)(pe.JU,!0),te=(0,M.u3)(pe.PL,!0),b=(0,M.u3)(pe.ad,!0),Ln=(0,M.u3)(pe.IO,!0),Et=(0,M.u3)(pe.pl,!0),Ie=(0,M.u3)(pe.ar,!0)},5017:(ln,nt,w)=>{"use strict";w.d(nt,{Ke:()=>ns,Jt:()=>Ko,cF:()=>Rr,Vq:()=>pi,iH:()=>_i,sf:()=>$s});var l=w(1180),M=w(1920),H=w(9212),Q=w(721),_e=w(9535),le=w(3182),pe=w(5861),ve=w(534),Ye=w(9058),ue=w(4537);const fe="firebasestorage.googleapis.com",$e="storageBucket";class rt extends Ye.ZR{constructor(G,ye,Fe=0){super(Le(G),`Firebase Storage: ${ye} (${Le(G)})`),this.status_=Fe,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rt.prototype)}get status(){return this.status_}set status(G){this.status_=G}_codeEquals(G){return Le(G)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(G){this.customData.serverResponse=G,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Be=function(Z){return Z.UNKNOWN="unknown",Z.OBJECT_NOT_FOUND="object-not-found",Z.BUCKET_NOT_FOUND="bucket-not-found",Z.PROJECT_NOT_FOUND="project-not-found",Z.QUOTA_EXCEEDED="quota-exceeded",Z.UNAUTHENTICATED="unauthenticated",Z.UNAUTHORIZED="unauthorized",Z.UNAUTHORIZED_APP="unauthorized-app",Z.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Z.INVALID_CHECKSUM="invalid-checksum",Z.CANCELED="canceled",Z.INVALID_EVENT_NAME="invalid-event-name",Z.INVALID_URL="invalid-url",Z.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Z.NO_DEFAULT_BUCKET="no-default-bucket",Z.CANNOT_SLICE_BLOB="cannot-slice-blob",Z.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Z.NO_DOWNLOAD_URL="no-download-url",Z.INVALID_ARGUMENT="invalid-argument",Z.INVALID_ARGUMENT_COUNT="invalid-argument-count",Z.APP_DELETED="app-deleted",Z.INVALID_ROOT_OPERATION="invalid-root-operation",Z.INVALID_FORMAT="invalid-format",Z.INTERNAL_ERROR="internal-error",Z.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Z}(Be||{});function Le(Z){return"storage/"+Z}function ze(){return new rt(Be.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Xt(Z){return new rt(Be.INVALID_ARGUMENT,Z)}function tt(){return new rt(Be.APP_DELETED,"The Firebase app was deleted.")}function ne(Z,G){return new rt(Be.INVALID_FORMAT,"String does not match format '"+Z+"': "+G)}function Re(Z){throw new rt(Be.INTERNAL_ERROR,"Internal error: "+Z)}class Ee{constructor(G,ye){this.bucket=G,this.path_=ye}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const G=encodeURIComponent;return"/b/"+G(this.bucket)+"/o/"+G(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(G,ye){let Fe;try{Fe=Ee.makeFromUrl(G,ye)}catch{return new Ee(G,"")}if(""===Fe.path)return Fe;throw function Ve(Z){return new rt(Be.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Z+"'.")}(G)}static makeFromUrl(G,ye){let Fe=null;const it="([A-Za-z0-9.\\-_]+)",P=new RegExp("^gs://"+it+"(/(.*))?$","i");function L(Qr){Qr.path_=decodeURIComponent(Qr.path)}const Ht=ye.replace(/[.]/g,"\\."),Gr=[{regex:P,indices:{bucket:1,path:3},postModify:function Ut(Qr){"/"===Qr.path.charAt(Qr.path.length-1)&&(Qr.path_=Qr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Ht}/v[A-Za-z0-9_]+/b/${it}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:L},{regex:new RegExp(`^https?://${ye===fe?"(?:storage.googleapis.com|storage.cloud.google.com)":ye}/${it}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:L}];for(let Qr=0;Qr<Gr.length;Qr++){const co=Gr[Qr],Pi=co.regex.exec(G);if(Pi){let Vi=Pi[co.indices.path];Vi||(Vi=""),Fe=new Ee(Pi[co.indices.bucket],Vi),co.postModify(Fe);break}}if(null==Fe)throw function ke(Z){return new rt(Be.INVALID_URL,"Invalid URL '"+Z+"'.")}(G);return Fe}}class at{constructor(G){this.promise_=Promise.reject(G)}getPromise(){return this.promise_}cancel(G=!1){}}function Cn(Z){return"string"==typeof Z||Z instanceof String}function Vt(Z){return St()&&Z instanceof Blob}function St(){return typeof Blob<"u"&&!(0,Ye.UG)()}function At(Z,G,ye,Fe){if(Fe<G)throw Xt(`Invalid value for '${Z}'. Expected ${G} or greater.`);if(Fe>ye)throw Xt(`Invalid value for '${Z}'. Expected ${ye} or less.`)}function kt(Z,G,ye){let Fe=G;return null==ye&&(Fe=`https://${G}`),`${ye}://${Fe}/v0${Z}`}function qt(Z){const G=encodeURIComponent;let ye="?";for(const Fe in Z)Z.hasOwnProperty(Fe)&&(ye=ye+(G(Fe)+"=")+G(Z[Fe])+"&");return ye=ye.slice(0,-1),ye}var An=function(Z){return Z[Z.NO_ERROR=0]="NO_ERROR",Z[Z.NETWORK_ERROR=1]="NETWORK_ERROR",Z[Z.ABORT=2]="ABORT",Z}(An||{});class Zn{constructor(G,ye,Fe,it,Ut,k,P,ee,L,de,Ht,Gt=!0){this.url_=G,this.method_=ye,this.headers_=Fe,this.body_=it,this.successCodes_=Ut,this.additionalRetryCodes_=k,this.callback_=P,this.errorCallback_=ee,this.timeout_=L,this.progressCallback_=de,this.connectionFactory_=Ht,this.retry=Gt,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Tr,zr)=>{this.resolve_=Tr,this.reject_=zr,this.start_()})}start_(){const ye=(Fe,it)=>{const Ut=this.resolve_,k=this.reject_,P=it.connection;if(it.wasSuccessCode)try{const ee=this.callback_(P,P.getResponse());!function on(Z){return void 0!==Z}(ee)?Ut():Ut(ee)}catch(ee){k(ee)}else if(null!==P){const ee=ze();ee.serverResponse=P.getErrorText(),k(this.errorCallback_?this.errorCallback_(P,ee):ee)}else k(it.canceled?this.appDelete_?tt():function X(){return new rt(Be.CANCELED,"User canceled the upload/download.")}():function ge(){return new rt(Be.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?ye(0,new dn(!1,null,!0)):this.backoffId_=function pt(Z,G,ye){let Fe=1,it=null,Ut=null,k=!1,P=0;function ee(){return 2===P}let L=!1;function de(...dr){L||(L=!0,G.apply(null,dr))}function Ht(dr){it=setTimeout(()=>{it=null,Z(Tr,ee())},dr)}function Gt(){Ut&&clearTimeout(Ut)}function Tr(dr,...Fi){if(L)return void Gt();if(dr)return Gt(),void de.call(null,dr,...Fi);if(ee()||k)return Gt(),void de.call(null,dr,...Fi);let Gr;Fe<64&&(Fe*=2),1===P?(P=2,Gr=0):Gr=1e3*(Fe+Math.random()),Ht(Gr)}let zr=!1;function ui(dr){zr||(zr=!0,Gt(),!L&&(null!==it?(dr||(P=2),clearTimeout(it),Ht(0)):dr||(P=1)))}return Ht(0),Ut=setTimeout(()=>{k=!0,ui(!0)},ye),ui}((Fe,it)=>{if(it)return void Fe(!1,new dn(!1,null,!0));const Ut=this.connectionFactory_();this.pendingConnection_=Ut;const k=P=>{null!==this.progressCallback_&&this.progressCallback_(P.loaded,P.lengthComputable?P.total:-1)};null!==this.progressCallback_&&Ut.addUploadProgressListener(k),Ut.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Ut.removeUploadProgressListener(k),this.pendingConnection_=null;const P=Ut.getErrorCode()===An.NO_ERROR,ee=Ut.getStatus();if(!P||function Nn(Z,G){const ye=Z>=500&&Z<600,it=-1!==[408,429].indexOf(Z),Ut=-1!==G.indexOf(Z);return ye||it||Ut}(ee,this.additionalRetryCodes_)&&this.retry){const de=Ut.getErrorCode()===An.ABORT;return void Fe(!1,new dn(!1,null,de))}const L=-1!==this.successCodes_.indexOf(ee);Fe(!0,new dn(L,Ut))})},ye,this.timeout_)}getPromise(){return this.promise_}cancel(G){this.canceled_=!0,this.appDelete_=G||!1,null!==this.backoffId_&&function Ft(Z){Z(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class dn{constructor(G,ye,Fe){this.wasSuccessCode=G,this.connection=ye,this.canceled=!!Fe}}function br(...Z){const G=function jn(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==G){const ye=new G;for(let Fe=0;Fe<Z.length;Fe++)ye.append(Z[Fe]);return ye.getBlob()}if(St())return new Blob(Z);throw new rt(Be.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const rr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xn{constructor(G,ye){this.data=G,this.contentType=ye||null}}function Hr(Z,G){switch(Z){case rr.RAW:return new xn(cr(G));case rr.BASE64:case rr.BASE64URL:return new xn(bn(Z,G));case rr.DATA_URL:return new xn(function Nr(Z){const G=new er(Z);return G.base64?bn(rr.BASE64,G.rest):function fn(Z){let G;try{G=decodeURIComponent(Z)}catch{throw ne(rr.DATA_URL,"Malformed data URL.")}return cr(G)}(G.rest)}(G),function Ur(Z){return new er(Z).contentType}(G))}throw ze()}function cr(Z){const G=[];for(let ye=0;ye<Z.length;ye++){let Fe=Z.charCodeAt(ye);Fe<=127?G.push(Fe):Fe<=2047?G.push(192|Fe>>6,128|63&Fe):55296==(64512&Fe)?ye<Z.length-1&&56320==(64512&Z.charCodeAt(ye+1))?(Fe=65536|(1023&Fe)<<10|1023&Z.charCodeAt(++ye),G.push(240|Fe>>18,128|Fe>>12&63,128|Fe>>6&63,128|63&Fe)):G.push(239,191,189):56320==(64512&Fe)?G.push(239,191,189):G.push(224|Fe>>12,128|Fe>>6&63,128|63&Fe)}return new Uint8Array(G)}function bn(Z,G){switch(Z){case rr.BASE64:{const it=-1!==G.indexOf("-"),Ut=-1!==G.indexOf("_");if(it||Ut)throw ne(Z,"Invalid character '"+(it?"-":"_")+"' found: is it base64url encoded?");break}case rr.BASE64URL:{const it=-1!==G.indexOf("+"),Ut=-1!==G.indexOf("/");if(it||Ut)throw ne(Z,"Invalid character '"+(it?"+":"/")+"' found: is it base64 encoded?");G=G.replace(/-/g,"+").replace(/_/g,"/");break}}let ye;try{ye=function Mn(Z){if(typeof atob>"u")throw function cn(Z){return new rt(Be.UNSUPPORTED_ENVIRONMENT,`${Z} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(Z)}(G)}catch(it){throw it.message.includes("polyfill")?it:ne(Z,"Invalid character found")}const Fe=new Uint8Array(ye.length);for(let it=0;it<ye.length;it++)Fe[it]=ye.charCodeAt(it);return Fe}class er{constructor(G){this.base64=!1,this.contentType=null;const ye=G.match(/^data:([^,]+)?,/);if(null===ye)throw ne(rr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Fe=ye[1]||null;null!=Fe&&(this.base64=function ur(Z,G){return Z.length>=G.length&&Z.substring(Z.length-G.length)===G}(Fe,";base64"),this.contentType=this.base64?Fe.substring(0,Fe.length-7):Fe),this.rest=G.substring(G.indexOf(",")+1)}}class Dn{constructor(G,ye){let Fe=0,it="";Vt(G)?(this.data_=G,Fe=G.size,it=G.type):G instanceof ArrayBuffer?(ye?this.data_=new Uint8Array(G):(this.data_=new Uint8Array(G.byteLength),this.data_.set(new Uint8Array(G))),Fe=this.data_.length):G instanceof Uint8Array&&(ye?this.data_=G:(this.data_=new Uint8Array(G.length),this.data_.set(G)),Fe=G.length),this.size_=Fe,this.type_=it}size(){return this.size_}type(){return this.type_}slice(G,ye){if(Vt(this.data_)){const it=function Cr(Z,G,ye){return Z.webkitSlice?Z.webkitSlice(G,ye):Z.mozSlice?Z.mozSlice(G,ye):Z.slice?Z.slice(G,ye):null}(this.data_,G,ye);return null===it?null:new Dn(it)}{const Fe=new Uint8Array(this.data_.buffer,G,ye-G);return new Dn(Fe,!0)}}static getBlob(...G){if(St()){const ye=G.map(Fe=>Fe instanceof Dn?Fe.data_:Fe);return new Dn(br.apply(null,ye))}{const ye=G.map(k=>Cn(k)?Hr(rr.RAW,k).data:k.data_);let Fe=0;ye.forEach(k=>{Fe+=k.byteLength});const it=new Uint8Array(Fe);let Ut=0;return ye.forEach(k=>{for(let P=0;P<k.length;P++)it[Ut++]=k[P]}),new Dn(it,!0)}}uploadData(){return this.data_}}function Qn(Z){let G;try{G=JSON.parse(Z)}catch{return null}return function $t(Z){return"object"==typeof Z&&!Array.isArray(Z)}(G)?G:null}function Hn(Z){const G=Z.lastIndexOf("/",Z.length-2);return-1===G?Z:Z.slice(G+1)}function Lr(Z,G){return G}class Ir{constructor(G,ye,Fe,it){this.server=G,this.local=ye||G,this.writable=!!Fe,this.xform=it||Lr}}let hr=null;function te(){if(hr)return hr;const Z=[];Z.push(new Ir("bucket")),Z.push(new Ir("generation")),Z.push(new Ir("metageneration")),Z.push(new Ir("name","fullPath",!0));const ye=new Ir("name");ye.xform=function G(Ut,k){return function He(Z){return!Cn(Z)||Z.length<2?Z:Hn(Z)}(k)},Z.push(ye);const it=new Ir("size");return it.xform=function Fe(Ut,k){return void 0!==k?Number(k):k},Z.push(it),Z.push(new Ir("timeCreated")),Z.push(new Ir("updated")),Z.push(new Ir("md5Hash",null,!0)),Z.push(new Ir("cacheControl",null,!0)),Z.push(new Ir("contentDisposition",null,!0)),Z.push(new Ir("contentEncoding",null,!0)),Z.push(new Ir("contentLanguage",null,!0)),Z.push(new Ir("contentType",null,!0)),Z.push(new Ir("metadata","customMetadata",!0)),hr=Z,hr}function b(Z,G,ye){const Fe=Qn(G);return null===Fe?null:function R(Z,G,ye){const Fe={type:"file"},it=ye.length;for(let Ut=0;Ut<it;Ut++){const k=ye[Ut];Fe[k.local]=k.xform(Fe,G[k.server])}return function B(Z,G){Object.defineProperty(Z,"ref",{get:function ye(){const Ut=new Ee(Z.bucket,Z.fullPath);return G._makeStorageReference(Ut)}})}(Fe,Z),Fe}(Z,Fe,ye)}class gt{constructor(G,ye,Fe,it){this.url=G,this.method=ye,this.handler=Fe,this.timeout=it,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Mt(Z){if(!Z)throw ze()}function It(Z){return function G(ye,Fe){let it;return it=401===ye.getStatus()?ye.getErrorText().includes("Firebase App Check token is invalid")?function Xe(){return new rt(Be.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function je(){return new rt(Be.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===ye.getStatus()?function qe(Z){return new rt(Be.QUOTA_EXCEEDED,"Quota for bucket '"+Z+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(Z.bucket):403===ye.getStatus()?function Se(Z){return new rt(Be.UNAUTHORIZED,"User does not have permission to access '"+Z+"'.")}(Z.path):Fe,it.status=ye.getStatus(),it.serverResponse=Fe.serverResponse,it}}function wt(Z,G,ye,Fe,it){const Ut=G.bucketOnlyServerUrl(),k={"X-Goog-Upload-Protocol":"multipart"},ee=function P(){let Gr="";for(let Qr=0;Qr<2;Qr++)Gr+=Math.random().toString().slice(2);return Gr}();k["Content-Type"]="multipart/related; boundary="+ee;const L=function Ue(Z,G,ye){const Fe=Object.assign({},ye);return Fe.fullPath=Z.path,Fe.size=G.size(),Fe.contentType||(Fe.contentType=function st(Z,G){return Z&&Z.contentType||G&&G.type()||"application/octet-stream"}(null,G)),Fe}(G,Fe,it),de=function ie(Z,G){const ye={},Fe=G.length;for(let it=0;it<Fe;it++){const Ut=G[it];Ut.writable&&(ye[Ut.server]=Z[Ut.local])}return JSON.stringify(ye)}(L,ye),Tr=Dn.getBlob("--"+ee+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+de+"\r\n--"+ee+"\r\nContent-Type: "+L.contentType+"\r\n\r\n",Fe,"\r\n--"+ee+"--");if(null===Tr)throw function lt(){return new rt(Be.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const zr={name:L.fullPath},ui=kt(Ut,Z.host,Z._protocol),Fi=Z.maxUploadRetryTime,Ri=new gt(ui,"POST",function rn(Z,G){return function ye(Fe,it){const Ut=b(Z,it,G);return Mt(null!==Ut),Ut}}(Z,ye),Fi);return Ri.urlParams=zr,Ri.headers=k,Ri.body=Tr.uploadData(),Ri.errorHandler=It(G),Ri}let ht=null;class mt{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=An.NO_ERROR,this.sendPromise_=new Promise(G=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=An.ABORT,G()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=An.NETWORK_ERROR,G()}),this.xhr_.addEventListener("load",()=>{G()})})}send(G,ye,Fe,it){if(this.sent_)throw Re("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(ye,G,!0),void 0!==it)for(const Ut in it)it.hasOwnProperty(Ut)&&this.xhr_.setRequestHeader(Ut,it[Ut].toString());return void 0!==Fe?this.xhr_.send(Fe):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Re("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Re("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Re("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Re("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(G){return this.xhr_.getResponseHeader(G)}addUploadProgressListener(G){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",G)}removeUploadProgressListener(G){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",G)}}class Je extends mt{initXhr(){this.xhr_.responseType="text"}}function Ct(){return ht?ht():new Je}class Pe{constructor(G,ye){this._service=G,this._location=ye instanceof Ee?ye:Ee.makeFromUrl(ye,G.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(G,ye){return new Pe(G,ye)}get root(){const G=new Ee(this._location.bucket,"");return this._newRef(this._service,G)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Hn(this._location.path)}get storage(){return this._service}get parent(){const G=function kr(Z){if(0===Z.length)return null;const G=Z.lastIndexOf("/");return-1===G?"":Z.slice(0,G)}(this._location.path);if(null===G)return null;const ye=new Ee(this._location.bucket,G);return new Pe(this._service,ye)}_throwIfRoot(G){if(""===this._location.path)throw function he(Z){return new rt(Be.INVALID_ROOT_OPERATION,"The operation '"+Z+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(G)}}function ai(Z){Z._throwIfRoot("getDownloadURL");const G=function Bn(Z,G,ye){const it=kt(G.fullServerUrl(),Z.host,Z._protocol),k=Z.maxOperationRetryTime,P=new gt(it,"GET",function mr(Z,G){return function ye(Fe,it){const Ut=b(Z,it,G);return Mt(null!==Ut),function W(Z,G,ye,Fe){const it=Qn(G);if(null===it||!Cn(it.downloadTokens))return null;const Ut=it.downloadTokens;if(0===Ut.length)return null;const k=encodeURIComponent;return Ut.split(",").map(L=>{const Ht=Z.fullPath;return kt("/b/"+k(Z.bucket)+"/o/"+k(Ht),ye,Fe)+qt({alt:"media",token:L})})[0]}(Ut,it,Z.host,Z._protocol)}}(Z,ye),k);return P.errorHandler=function Qe(Z){const G=It(Z);return function ye(Fe,it){let Ut=G(Fe,it);return 404===Fe.getStatus()&&(Ut=function dt(Z){return new rt(Be.OBJECT_NOT_FOUND,"Object '"+Z+"' does not exist.")}(Z.path)),Ut.serverResponse=it.serverResponse,Ut}}(G),P}(Z.storage,Z._location,te());return Z.storage.makeRequestWithTokens(G,Ct).then(ye=>{if(null===ye)throw function Wt(){return new rt(Be.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return ye})}function ut(Z,G){if(Z instanceof yr){const ye=Z;if(null==ye._bucket)throw function ft(){return new rt(Be.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$e+"' property when initializing the app?")}();const Fe=new Pe(ye,ye._bucket);return null!=G?ut(Fe,G):Fe}return void 0!==G?function me(Z,G){const ye=function Vn(Z,G){const ye=G.split("/").filter(Fe=>Fe.length>0).join("/");return 0===Z.length?ye:Z+"/"+ye}(Z._location.path,G),Fe=new Ee(Z._location.bucket,ye);return new Pe(Z.storage,Fe)}(Z,G):Z}function jr(Z,G){const ye=null==G?void 0:G[$e];return null==ye?null:Ee.makeFromBucketSpec(ye,Z)}class yr{constructor(G,ye,Fe,it,Ut){this.app=G,this._authProvider=ye,this._appCheckProvider=Fe,this._url=it,this._firebaseVersion=Ut,this._bucket=null,this._host=fe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=it?Ee.makeFromBucketSpec(it,this._host):jr(this._host,this.app.options)}get host(){return this._host}set host(G){this._host=G,this._bucket=null!=this._url?Ee.makeFromBucketSpec(this._url,G):jr(G,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(G){At("time",0,Number.POSITIVE_INFINITY,G),this._maxUploadRetryTime=G}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(G){At("time",0,Number.POSITIVE_INFINITY,G),this._maxOperationRetryTime=G}_getAuthToken(){var G=this;return(0,pe.Z)(function*(){if(G._overrideAuthToken)return G._overrideAuthToken;const ye=G._authProvider.getImmediate({optional:!0});if(ye){const Fe=yield ye.getToken();if(null!==Fe)return Fe.accessToken}return null})()}_getAppCheckToken(){var G=this;return(0,pe.Z)(function*(){const ye=G._appCheckProvider.getImmediate({optional:!0});return ye?(yield ye.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(G=>G.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(G){return new Pe(this,G)}_makeRequest(G,ye,Fe,it,Ut=!0){if(this._deleted)return new at(tt());{const k=function qn(Z,G,ye,Fe,it,Ut,k=!0){const P=qt(Z.urlParams),ee=Z.url+P,L=Object.assign({},Z.headers);return function Dr(Z,G){G&&(Z["X-Firebase-GMPID"]=G)}(L,G),function kn(Z,G){null!==G&&G.length>0&&(Z.Authorization="Firebase "+G)}(L,ye),function En(Z,G){Z["X-Firebase-Storage-Version"]="webjs/"+(null!=G?G:"AppManager")}(L,Ut),function Yn(Z,G){null!==G&&(Z["X-Firebase-AppCheck"]=G)}(L,Fe),new Zn(ee,Z.method,L,Z.body,Z.successCodes,Z.additionalRetryCodes,Z.handler,Z.errorHandler,Z.timeout,Z.progressCallback,it,k)}(G,this._appId,Fe,it,ye,this._firebaseVersion,Ut);return this._requests.add(k),k.getPromise().then(()=>this._requests.delete(k),()=>this._requests.delete(k)),k}}makeRequestWithTokens(G,ye){var Fe=this;return(0,pe.Z)(function*(){const[it,Ut]=yield Promise.all([Fe._getAuthToken(),Fe._getAppCheckToken()]);return Fe._makeRequest(G,ye,it,Ut).getPromise()})()}}const Ui="@firebase/storage",bo="storage";function Wo(Z,G,ye,Fe){return function un(Z,G,ye=rr.RAW,Fe){Z._throwIfRoot("uploadString");const it=Hr(ye,G),Ut=Object.assign({},Fe);return null==Ut.contentType&&null!=it.contentType&&(Ut.contentType=it.contentType),function vt(Z,G,ye){Z._throwIfRoot("uploadBytes");const Fe=wt(Z.storage,Z._location,te(),new Dn(G,!0),ye);return Z.storage.makeRequestWithTokens(Fe,Ct).then(it=>({metadata:it,ref:Z}))}(Z,it.data,Ut)}(Z=(0,Ye.m9)(Z),G,ye,Fe)}function to(Z){return ai(Z=(0,Ye.m9)(Z))}function Go(Z,G){return function pr(Z,G){if(G&&function x(Z){return/^[A-Za-z]+:\/\//.test(Z)}(G)){if(Z instanceof yr)return function Te(Z,G){return new Pe(Z,G)}(Z,G);throw Xt("To use ref(service, url), the first argument must be a Storage instance.")}return ut(Z,G)}(Z=(0,Ye.m9)(Z),G)}function Yo(Z=(0,ve.getApp)(),G){Z=(0,Ye.m9)(Z);const Fe=(0,ve._getProvider)(Z,bo).getImmediate({identifier:G}),it=(0,Ye.P0)("storage");return it&&function ts(Z,G,ye,Fe={}){!function _r(Z,G,ye,Fe={}){Z.host=`${G}:${ye}`,Z._protocol="http";const{mockUserToken:it}=Fe;it&&(Z._overrideAuthToken="string"==typeof it?it:(0,Ye.Sg)(it,Z.app.options.projectId))}(Z,G,ye,Fe)}(Fe,...it),Fe}function ta(Z,{instanceIdentifier:G}){const ye=Z.getProvider("app").getImmediate(),Fe=Z.getProvider("auth-internal"),it=Z.getProvider("app-check-internal");return new yr(ye,Fe,it,G,ve.SDK_VERSION)}!function Mo(){(0,ve._registerComponent)(new ue.wA(bo,ta,"PUBLIC").setMultipleInstances(!0)),(0,ve.registerVersion)(Ui,"0.11.2",""),(0,ve.registerVersion)(Ui,"0.11.2","esm2017")}();class ns{constructor(G){return G}}const Ki="storage",ma=new H.OlP("angularfire2.storage-instances");function Vs(Z){return(G,ye)=>{const Fe=G.runOutsideAngular(()=>Z(ye));return new ns(Fe)}}const hs={provide:class Fs{constructor(){return(0,M.vb)(Ki)}},deps:[[new H.FiY,ma]]},xo={provide:ns,useFactory:function ds(Z,G){const ye=(0,M.JM)(Ki,Z,G);return ye&&new ns(ye)},deps:[[new H.FiY,ma],Q.Ot]};let ji=(()=>{var Z;class G{constructor(){(0,le.KN)("angularfire",M.q4.full,"gcs")}}return Z=G,(0,l.Z)(G,"\u0275fac",function(Fe){return new(Fe||Z)}),(0,l.Z)(G,"\u0275mod",H.oAB({type:Z})),(0,l.Z)(G,"\u0275inj",H.cJS({providers:[xo,hs]})),G})();function pi(Z,...G){return{ngModule:ji,providers:[{provide:ma,useFactory:Vs(Z),multi:!0,deps:[H.R0b,H.zs3,M.HU,Q.z6,[new H.FiY,_e.dh],[new H.FiY,M.Rf],...G]}]}}const Ko=(0,M.u3)(to,!0),Rr=(0,M.u3)(Yo,!0),_i=(0,M.u3)(Go,!0),$s=(0,M.u3)(Wo,!0)},1920:(ln,nt,w)=>{"use strict";w.d(nt,{q4:()=>Ke,iC:()=>lt,HU:()=>Se,Rf:()=>ze,vb:()=>Le,JM:()=>Be,u3:()=>cn});var l=w(1180),M=w(9212),H=w(3182),Q=w(1954),le=w(2631);const ve=new class pe extends le.v{}(class _e extends Q.o{constructor(tt,he){super(tt,he),this.scheduler=tt,this.work=he}schedule(tt,he=0){return he>0?super.schedule(tt,he):(this.delay=he,this.state=tt,this.scheduler.flush(this),this)}execute(tt,he){return he>0||this.closed?super.execute(tt,he):this._execute(tt,he)}requestAsyncId(tt,he,ne=0){return null!=ne&&ne>0||null==ne&&this.delay>0?super.requestAsyncId(tt,he,ne):(tt.flush(this),0)}});var ue=w(6321),fe=w(5592),$e=w(9397),we=w(5137),xe=w(3093);const Ke=new M.GfV("ANGULARFIRE2_VERSION");function Be(Xt,tt,he){if(tt){if(1===tt.length)return tt[0];const Ee=tt.filter(at=>at.app===he);if(1===Ee.length)return Ee[0]}return he.container.getProvider(Xt).getImmediate({optional:!0})}const Le=(Xt,tt)=>{const he=tt?[tt]:(0,H.C6)(),ne=[];return he.forEach(Re=>{Re.container.getProvider(Xt).instances.forEach(at=>{ne.includes(at)||ne.push(at)})}),ne};class ze{constructor(){return Le(dt)}}const dt="app-check";function qe(){}class je{constructor(tt,he=ve){(0,l.Z)(this,"zone",void 0),(0,l.Z)(this,"delegate",void 0),this.zone=tt,this.delegate=he}now(){return this.delegate.now()}schedule(tt,he,ne){const Re=this.zone;return this.delegate.schedule(function(at){Re.runGuarded(()=>{tt.apply(this,[at])})},he,ne)}}class Xe{constructor(tt){(0,l.Z)(this,"zone",void 0),(0,l.Z)(this,"task",null),this.zone=tt}call(tt,he){const ne=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qe,{},qe,qe)),he.pipe((0,$e.b)({next:ne,complete:ne,error:ne})).subscribe(tt).add(ne)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Se=(()=>{var Xt;class tt{constructor(ne){(0,l.Z)(this,"ngZone",void 0),(0,l.Z)(this,"outsideAngular",void 0),(0,l.Z)(this,"insideAngular",void 0),this.ngZone=ne,this.outsideAngular=ne.runOutsideAngular(()=>new je(Zone.current)),this.insideAngular=ne.run(()=>new je(Zone.current,ue.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Xt=tt,(0,l.Z)(tt,"\u0275fac",function(ne){return new(ne||Xt)(M.LFG(M.R0b))}),(0,l.Z)(tt,"\u0275prov",M.Yz7({token:Xt,factory:Xt.\u0275fac,providedIn:"root"})),tt})();function ge(){const Xt=globalThis.\u0275AngularFireScheduler;if(!Xt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Xt}function ke(Xt){return ge().ngZone.run(()=>Xt())}function lt(Xt){return function yt(Xt){return function(he){return(he=he.lift(new Xe(Xt.ngZone))).pipe((0,we.R)(Xt.outsideAngular),(0,xe.Q)(Xt.insideAngular))}}(ge())(Xt)}const Wt=(Xt,tt)=>function(){const ne=arguments;return tt&&setTimeout(()=>{"scheduled"===tt.state&&tt.invoke()},10),ke(()=>Xt.apply(void 0,ne))},cn=(Xt,tt)=>function(){let he;const ne=arguments;for(let Ee=0;Ee<arguments.length;Ee++)"function"==typeof ne[Ee]&&(tt&&(he||(he=ke(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",qe,{},qe,qe)))),ne[Ee]=Wt(ne[Ee],he));const Re=function X(Xt){return ge().ngZone.runOutsideAngular(()=>Xt())}(()=>Xt.apply(this,ne));if(!tt){if(Re instanceof fe.y){const Ee=ge();return Re.pipe((0,we.R)(Ee.outsideAngular),(0,xe.Q)(Ee.insideAngular))}return ke(()=>Re)}return Re instanceof fe.y?Re.pipe(lt):Re instanceof Promise?ke(()=>new Promise((Ee,at)=>Re.then(pt=>ke(()=>Ee(pt)),pt=>ke(()=>at(pt))))):"function"==typeof Re&&he?function(){return setTimeout(()=>{he&&"scheduled"===he.state&&he.invoke()},10),Re.apply(this,arguments)}:ke(()=>Re)}},95:(ln,nt,w)=>{"use strict";w.d(nt,{qu:()=>Z,u:()=>Fr,sg:()=>zo,u5:()=>it,nD:()=>Ko,Fd:()=>ds,qQ:()=>hs,Cf:()=>Se,JU:()=>Ke,a5:()=>kn,JJ:()=>qn,JL:()=>jn,On:()=>vr,c5:()=>Rr,UX:()=>Ut,kI:()=>ke,_Y:()=>wr});var l=w(9212),M=w(6814),H=w(2459),Q=w(5592),_e=w(7453),le=w(4829),pe=w(9940),ve=w(8251),Ye=w(7400),ue=w(2714),$e=w(7398);let we=(()=>{var k;class P{constructor(L,de){this._renderer=L,this._elementRef=de,this.onChange=Ht=>{},this.onTouched=()=>{}}setProperty(L,de){this._renderer.setProperty(this._elementRef.nativeElement,L,de)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}}return(k=P).\u0275fac=function(L){return new(L||k)(l.Y36(l.Qsj),l.Y36(l.SBq))},k.\u0275dir=l.lG2({type:k}),P})(),xe=(()=>{var k;class P extends we{}return(k=P).\u0275fac=(()=>{let ee;return function(de){return(ee||(ee=l.n5z(k)))(de||k)}})(),k.\u0275dir=l.lG2({type:k,features:[l.qOj]}),P})();const Ke=new l.OlP("NgValueAccessor"),Le={provide:Ke,useExisting:(0,l.Gpc)(()=>qe),multi:!0},dt=new l.OlP("CompositionEventMode");let qe=(()=>{var k;class P extends we{constructor(L,de,Ht){super(L,de),this._compositionMode=Ht,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ze(){const k=(0,M.q)()?(0,M.q)().getUserAgent():"";return/android (\d+)/.test(k.toLowerCase())}())}writeValue(L){this.setProperty("value",null==L?"":L)}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}}return(k=P).\u0275fac=function(L){return new(L||k)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(dt,8))},k.\u0275dir=l.lG2({type:k,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(L,de){1&L&&l.NdJ("input",function(Gt){return de._handleInput(Gt.target.value)})("blur",function(){return de.onTouched()})("compositionstart",function(){return de._compositionStart()})("compositionend",function(Gt){return de._compositionEnd(Gt.target.value)})},features:[l._Bn([Le]),l.qOj]}),P})();function je(k){return null==k||("string"==typeof k||Array.isArray(k))&&0===k.length}function Xe(k){return null!=k&&"number"==typeof k.length}const Se=new l.OlP("NgValidators"),ge=new l.OlP("NgAsyncValidators"),X=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ke{static min(P){return Ve(P)}static max(P){return ft(P)}static required(P){return function lt(k){return je(k.value)?{required:!0}:null}(P)}static requiredTrue(P){return function yt(k){return!0===k.value?null:{required:!0}}(P)}static email(P){return function Wt(k){return je(k.value)||X.test(k.value)?null:{email:!0}}(P)}static minLength(P){return function cn(k){return P=>je(P.value)||!Xe(P.value)?null:P.value.length<k?{minlength:{requiredLength:k,actualLength:P.value.length}}:null}(P)}static maxLength(P){return Xt(P)}static pattern(P){return tt(P)}static nullValidator(P){return null}static compose(P){return on(P)}static composeAsync(P){return $t(P)}}function Ve(k){return P=>{if(je(P.value)||je(k))return null;const ee=parseFloat(P.value);return!isNaN(ee)&&ee<k?{min:{min:k,actual:P.value}}:null}}function ft(k){return P=>{if(je(P.value)||je(k))return null;const ee=parseFloat(P.value);return!isNaN(ee)&&ee>k?{max:{max:k,actual:P.value}}:null}}function Xt(k){return P=>Xe(P.value)&&P.value.length>k?{maxlength:{requiredLength:k,actualLength:P.value.length}}:null}function tt(k){if(!k)return he;let P,ee;return"string"==typeof k?(ee="","^"!==k.charAt(0)&&(ee+="^"),ee+=k,"$"!==k.charAt(k.length-1)&&(ee+="$"),P=new RegExp(ee)):(ee=k.toString(),P=k),L=>{if(je(L.value))return null;const de=L.value;return P.test(de)?null:{pattern:{requiredPattern:ee,actualValue:de}}}}function he(k){return null}function ne(k){return null!=k}function Re(k){return(0,l.QGY)(k)?(0,H.D)(k):k}function Ee(k){let P={};return k.forEach(ee=>{P=null!=ee?{...P,...ee}:P}),0===Object.keys(P).length?null:P}function at(k,P){return P.map(ee=>ee(k))}function Ft(k){return k.map(P=>function pt(k){return!k.validate}(P)?P:ee=>P.validate(ee))}function on(k){if(!k)return null;const P=k.filter(ne);return 0==P.length?null:function(ee){return Ee(at(ee,P))}}function en(k){return null!=k?on(Ft(k)):null}function $t(k){if(!k)return null;const P=k.filter(ne);return 0==P.length?null:function(ee){return function fe(...k){const P=(0,pe.jO)(k),{args:ee,keys:L}=(0,_e.D)(k),de=new Q.y(Ht=>{const{length:Gt}=ee;if(!Gt)return void Ht.complete();const Tr=new Array(Gt);let zr=Gt,ui=Gt;for(let dr=0;dr<Gt;dr++){let Fi=!1;(0,le.Xf)(ee[dr]).subscribe((0,ve.x)(Ht,Ri=>{Fi||(Fi=!0,ui--),Tr[dr]=Ri},()=>zr--,void 0,()=>{(!zr||!Fi)&&(ui||Ht.next(L?(0,ue.n)(L,Tr):Tr),Ht.complete())}))}});return P?de.pipe((0,Ye.Z)(P)):de}(at(ee,P).map(Re)).pipe((0,$e.U)(Ee))}}function Cn(k){return null!=k?$t(Ft(k)):null}function Vt(k,P){return null===k?[P]:Array.isArray(k)?[...k,P]:[k,P]}function St(k){return k._rawValidators}function At(k){return k._rawAsyncValidators}function kt(k){return k?Array.isArray(k)?k:[k]:[]}function qt(k,P){return Array.isArray(k)?k.includes(P):k===P}function An(k,P){const ee=kt(P);return kt(k).forEach(de=>{qt(ee,de)||ee.push(de)}),ee}function Nn(k,P){return kt(P).filter(ee=>!qt(k,ee))}class Zn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(P){this._rawValidators=P||[],this._composedValidatorFn=en(this._rawValidators)}_setAsyncValidators(P){this._rawAsyncValidators=P||[],this._composedAsyncValidatorFn=Cn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(P){this._onDestroyCallbacks.push(P)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(P=>P()),this._onDestroyCallbacks=[]}reset(P=void 0){this.control&&this.control.reset(P)}hasError(P,ee){return!!this.control&&this.control.hasError(P,ee)}getError(P,ee){return this.control?this.control.getError(P,ee):null}}class dn extends Zn{get formDirective(){return null}get path(){return null}}class kn extends Zn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class En{constructor(P){this._cd=P}get isTouched(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.touched)}get isUntouched(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.untouched)}get isPristine(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.pristine)}get isDirty(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.dirty)}get isValid(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.valid)}get isInvalid(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.invalid)}get isPending(){var P;return!(null===(P=this._cd)||void 0===P||null===(P=P.control)||void 0===P||!P.pending)}get isSubmitted(){var P;return!(null===(P=this._cd)||void 0===P||!P.submitted)}}let qn=(()=>{var k;class P extends En{constructor(L){super(L)}}return(k=P).\u0275fac=function(L){return new(L||k)(l.Y36(kn,2))},k.\u0275dir=l.lG2({type:k,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(L,de){2&L&&l.ekj("ng-untouched",de.isUntouched)("ng-touched",de.isTouched)("ng-pristine",de.isPristine)("ng-dirty",de.isDirty)("ng-valid",de.isValid)("ng-invalid",de.isInvalid)("ng-pending",de.isPending)},features:[l.qOj]}),P})(),jn=(()=>{var k;class P extends En{constructor(L){super(L)}}return(k=P).\u0275fac=function(L){return new(L||k)(l.Y36(dn,10))},k.\u0275dir=l.lG2({type:k,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(L,de){2&L&&l.ekj("ng-untouched",de.isUntouched)("ng-touched",de.isTouched)("ng-pristine",de.isPristine)("ng-dirty",de.isDirty)("ng-valid",de.isValid)("ng-invalid",de.isInvalid)("ng-pending",de.isPending)("ng-submitted",de.isSubmitted)},features:[l.qOj]}),P})();const Hn="VALID",Lr="INVALID",Ir="PENDING",hr="DISABLED";function He(k){return(b(k)?k.validators:k)||null}function B(k,P){return(b(P)?P.asyncValidators:k)||null}function b(k){return null!=k&&!Array.isArray(k)&&"object"==typeof k}function W(k,P,ee){const L=k.controls;if(!(P?Object.keys(L):L).length)throw new l.vHH(1e3,"");if(!L[ee])throw new l.vHH(1001,"")}function ie(k,P,ee){k._forEachChild((L,de)=>{if(void 0===ee[de])throw new l.vHH(1002,"")})}class We{constructor(P,ee){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(P),this._assignAsyncValidators(ee)}get validator(){return this._composedValidatorFn}set validator(P){this._rawValidators=this._composedValidatorFn=P}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(P){this._rawAsyncValidators=this._composedAsyncValidatorFn=P}get parent(){return this._parent}get valid(){return this.status===Hn}get invalid(){return this.status===Lr}get pending(){return this.status==Ir}get disabled(){return this.status===hr}get enabled(){return this.status!==hr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(P){this._assignValidators(P)}setAsyncValidators(P){this._assignAsyncValidators(P)}addValidators(P){this.setValidators(An(P,this._rawValidators))}addAsyncValidators(P){this.setAsyncValidators(An(P,this._rawAsyncValidators))}removeValidators(P){this.setValidators(Nn(P,this._rawValidators))}removeAsyncValidators(P){this.setAsyncValidators(Nn(P,this._rawAsyncValidators))}hasValidator(P){return qt(this._rawValidators,P)}hasAsyncValidator(P){return qt(this._rawAsyncValidators,P)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(P={}){this.touched=!0,this._parent&&!P.onlySelf&&this._parent.markAsTouched(P)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(P=>P.markAllAsTouched())}markAsUntouched(P={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(ee=>{ee.markAsUntouched({onlySelf:!0})}),this._parent&&!P.onlySelf&&this._parent._updateTouched(P)}markAsDirty(P={}){this.pristine=!1,this._parent&&!P.onlySelf&&this._parent.markAsDirty(P)}markAsPristine(P={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(ee=>{ee.markAsPristine({onlySelf:!0})}),this._parent&&!P.onlySelf&&this._parent._updatePristine(P)}markAsPending(P={}){this.status=Ir,!1!==P.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!P.onlySelf&&this._parent.markAsPending(P)}disable(P={}){const ee=this._parentMarkedDirty(P.onlySelf);this.status=hr,this.errors=null,this._forEachChild(L=>{L.disable({...P,onlySelf:!0})}),this._updateValue(),!1!==P.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...P,skipPristineCheck:ee}),this._onDisabledChange.forEach(L=>L(!0))}enable(P={}){const ee=this._parentMarkedDirty(P.onlySelf);this.status=Hn,this._forEachChild(L=>{L.enable({...P,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:P.emitEvent}),this._updateAncestors({...P,skipPristineCheck:ee}),this._onDisabledChange.forEach(L=>L(!1))}_updateAncestors(P){this._parent&&!P.onlySelf&&(this._parent.updateValueAndValidity(P),P.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(P){this._parent=P}getRawValue(){return this.value}updateValueAndValidity(P={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hn||this.status===Ir)&&this._runAsyncValidator(P.emitEvent)),!1!==P.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!P.onlySelf&&this._parent.updateValueAndValidity(P)}_updateTreeValidity(P={emitEvent:!0}){this._forEachChild(ee=>ee._updateTreeValidity(P)),this.updateValueAndValidity({onlySelf:!0,emitEvent:P.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hr:Hn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(P){if(this.asyncValidator){this.status=Ir,this._hasOwnPendingAsyncValidator=!0;const ee=Re(this.asyncValidator(this));this._asyncValidationSubscription=ee.subscribe(L=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(L,{emitEvent:P})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(P,ee={}){this.errors=P,this._updateControlsErrors(!1!==ee.emitEvent)}get(P){let ee=P;return null==ee||(Array.isArray(ee)||(ee=ee.split(".")),0===ee.length)?null:ee.reduce((L,de)=>L&&L._find(de),this)}getError(P,ee){const L=ee?this.get(ee):this;return L&&L.errors?L.errors[P]:null}hasError(P,ee){return!!this.getError(P,ee)}get root(){let P=this;for(;P._parent;)P=P._parent;return P}_updateControlsErrors(P){this.status=this._calculateStatus(),P&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(P)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?hr:this.errors?Lr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ir)?Ir:this._anyControlsHaveStatus(Lr)?Lr:Hn}_anyControlsHaveStatus(P){return this._anyControls(ee=>ee.status===P)}_anyControlsDirty(){return this._anyControls(P=>P.dirty)}_anyControlsTouched(){return this._anyControls(P=>P.touched)}_updatePristine(P={}){this.pristine=!this._anyControlsDirty(),this._parent&&!P.onlySelf&&this._parent._updatePristine(P)}_updateTouched(P={}){this.touched=this._anyControlsTouched(),this._parent&&!P.onlySelf&&this._parent._updateTouched(P)}_registerOnCollectionChange(P){this._onCollectionChange=P}_setUpdateStrategy(P){b(P)&&null!=P.updateOn&&(this._updateOn=P.updateOn)}_parentMarkedDirty(P){return!P&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(P){return null}_assignValidators(P){this._rawValidators=Array.isArray(P)?P.slice():P,this._composedValidatorFn=function te(k){return Array.isArray(k)?en(k):k||null}(this._rawValidators)}_assignAsyncValidators(P){this._rawAsyncValidators=Array.isArray(P)?P.slice():P,this._composedAsyncValidatorFn=function R(k){return Array.isArray(k)?Cn(k):k||null}(this._rawAsyncValidators)}}class Ce extends We{constructor(P,ee,L){super(He(ee),B(L,ee)),this.controls=P,this._initObservables(),this._setUpdateStrategy(ee),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(P,ee){return this.controls[P]?this.controls[P]:(this.controls[P]=ee,ee.setParent(this),ee._registerOnCollectionChange(this._onCollectionChange),ee)}addControl(P,ee,L={}){this.registerControl(P,ee),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}removeControl(P,ee={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),delete this.controls[P],this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}setControl(P,ee,L={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),delete this.controls[P],ee&&this.registerControl(P,ee),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}contains(P){return this.controls.hasOwnProperty(P)&&this.controls[P].enabled}setValue(P,ee={}){ie(this,0,P),Object.keys(P).forEach(L=>{W(this,!0,L),this.controls[L].setValue(P[L],{onlySelf:!0,emitEvent:ee.emitEvent})}),this.updateValueAndValidity(ee)}patchValue(P,ee={}){null!=P&&(Object.keys(P).forEach(L=>{const de=this.controls[L];de&&de.patchValue(P[L],{onlySelf:!0,emitEvent:ee.emitEvent})}),this.updateValueAndValidity(ee))}reset(P={},ee={}){this._forEachChild((L,de)=>{L.reset(P?P[de]:null,{onlySelf:!0,emitEvent:ee.emitEvent})}),this._updatePristine(ee),this._updateTouched(ee),this.updateValueAndValidity(ee)}getRawValue(){return this._reduceChildren({},(P,ee,L)=>(P[L]=ee.getRawValue(),P))}_syncPendingControls(){let P=this._reduceChildren(!1,(ee,L)=>!!L._syncPendingControls()||ee);return P&&this.updateValueAndValidity({onlySelf:!0}),P}_forEachChild(P){Object.keys(this.controls).forEach(ee=>{const L=this.controls[ee];L&&P(L,ee)})}_setUpControls(){this._forEachChild(P=>{P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(P){for(const[ee,L]of Object.entries(this.controls))if(this.contains(ee)&&P(L))return!0;return!1}_reduceValue(){return this._reduceChildren({},(ee,L,de)=>((L.enabled||this.disabled)&&(ee[de]=L.value),ee))}_reduceChildren(P,ee){let L=P;return this._forEachChild((de,Ht)=>{L=ee(L,de,Ht)}),L}_allControlsDisabled(){for(const P of Object.keys(this.controls))if(this.controls[P].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(P){return this.controls.hasOwnProperty(P)?this.controls[P]:null}}class Mt extends Ce{}const Fn=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>mr}),mr="always";function It(k,P){return[...P.path,k]}function Qe(k,P,ee=mr){var L,de;Bn(k,P),P.valueAccessor.writeValue(k.value),(k.disabled||"always"===ee)&&(null===(L=(de=P.valueAccessor).setDisabledState)||void 0===L||L.call(de,k.disabled)),function Kr(k,P){P.valueAccessor.registerOnChange(ee=>{k._pendingValue=ee,k._pendingChange=!0,k._pendingDirty=!0,"change"===k.updateOn&&Ue(k,P)})}(k,P),function wt(k,P){const ee=(L,de)=>{P.valueAccessor.writeValue(L),de&&P.viewToModelUpdate(L)};k.registerOnChange(ee),P._registerOnDestroy(()=>{k._unregisterOnChange(ee)})}(k,P),function st(k,P){P.valueAccessor.registerOnTouched(()=>{k._pendingTouched=!0,"blur"===k.updateOn&&k._pendingChange&&Ue(k,P),"submit"!==k.updateOn&&k.markAsTouched()})}(k,P),function ir(k,P){if(P.valueAccessor.setDisabledState){const ee=L=>{P.valueAccessor.setDisabledState(L)};k.registerOnDisabledChange(ee),P._registerOnDestroy(()=>{k._unregisterOnDisabledChange(ee)})}}(k,P)}function zt(k,P,ee=!0){const L=()=>{};P.valueAccessor&&(P.valueAccessor.registerOnChange(L),P.valueAccessor.registerOnTouched(L)),Ln(k,P),k&&(P._invokeOnDestroyCallbacks(),k._registerOnCollectionChange(()=>{}))}function wn(k,P){k.forEach(ee=>{ee.registerOnValidatorChange&&ee.registerOnValidatorChange(P)})}function Bn(k,P){const ee=St(k);null!==P.validator?k.setValidators(Vt(ee,P.validator)):"function"==typeof ee&&k.setValidators([ee]);const L=At(k);null!==P.asyncValidator?k.setAsyncValidators(Vt(L,P.asyncValidator)):"function"==typeof L&&k.setAsyncValidators([L]);const de=()=>k.updateValueAndValidity();wn(P._rawValidators,de),wn(P._rawAsyncValidators,de)}function Ln(k,P){let ee=!1;if(null!==k){if(null!==P.validator){const de=St(k);if(Array.isArray(de)&&de.length>0){const Ht=de.filter(Gt=>Gt!==P.validator);Ht.length!==de.length&&(ee=!0,k.setValidators(Ht))}}if(null!==P.asyncValidator){const de=At(k);if(Array.isArray(de)&&de.length>0){const Ht=de.filter(Gt=>Gt!==P.asyncValidator);Ht.length!==de.length&&(ee=!0,k.setAsyncValidators(Ht))}}}const L=()=>{};return wn(P._rawValidators,L),wn(P._rawAsyncValidators,L),ee}function Ue(k,P){k._pendingDirty&&k.markAsDirty(),k.setValue(k._pendingValue,{emitModelToViewChange:!1}),P.viewToModelUpdate(k._pendingValue),k._pendingChange=!1}function ce(k,P){if(!k.hasOwnProperty("model"))return!1;const ee=k.model;return!!ee.isFirstChange()||!Object.is(P,ee.currentValue)}function Ie(k,P){if(!P)return null;let ee,L,de;return Array.isArray(P),P.forEach(Ht=>{Ht.constructor===qe?ee=Ht:function Ae(k){return Object.getPrototypeOf(k.constructor)===xe}(Ht)?L=Ht:de=Ht}),de||L||ee||null}function Qt(k,P){const ee=k.indexOf(P);ee>-1&&k.splice(ee,1)}function tr(k){return"object"==typeof k&&null!==k&&2===Object.keys(k).length&&"value"in k&&"disabled"in k}const U=class extends We{constructor(P=null,ee,L){super(He(ee),B(L,ee)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(P),this._setUpdateStrategy(ee),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),b(ee)&&(ee.nonNullable||ee.initialValueIsDefault)&&(this.defaultValue=tr(P)?P.value:P)}setValue(P,ee={}){this.value=this._pendingValue=P,this._onChange.length&&!1!==ee.emitModelToViewChange&&this._onChange.forEach(L=>L(this.value,!1!==ee.emitViewToModelChange)),this.updateValueAndValidity(ee)}patchValue(P,ee={}){this.setValue(P,ee)}reset(P=this.defaultValue,ee={}){this._applyFormState(P),this.markAsPristine(ee),this.markAsUntouched(ee),this.setValue(this.value,ee),this._pendingChange=!1}_updateValue(){}_anyControls(P){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(P){this._onChange.push(P)}_unregisterOnChange(P){Qt(this._onChange,P)}registerOnDisabledChange(P){this._onDisabledChange.push(P)}_unregisterOnDisabledChange(P){Qt(this._onDisabledChange,P)}_forEachChild(P){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(P){tr(P)?(this.value=this._pendingValue=P.value,P.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=P}},gn={provide:kn,useExisting:(0,l.Gpc)(()=>vr)},nr=(()=>Promise.resolve())();let vr=(()=>{var k;class P extends kn{constructor(L,de,Ht,Gt,Tr,zr){super(),this._changeDetectorRef=Tr,this.callSetDisabledState=zr,this.control=new U,this._registered=!1,this.name="",this.update=new l.vpe,this._parent=L,this._setValidators(de),this._setAsyncValidators(Ht),this.valueAccessor=Ie(0,Gt)}ngOnChanges(L){if(this._checkForErrors(),!this._registered||"name"in L){if(this._registered&&(this._checkName(),this.formDirective)){const de=L.name.previousValue;this.formDirective.removeControl({name:de,path:this._getPath(de)})}this._setUpControl()}"isDisabled"in L&&this._updateDisabled(L),ce(L,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Qe(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(L){nr.then(()=>{var de;this.control.setValue(L,{emitViewToModelChange:!1}),null===(de=this._changeDetectorRef)||void 0===de||de.markForCheck()})}_updateDisabled(L){const de=L.isDisabled.currentValue,Ht=0!==de&&(0,l.VuI)(de);nr.then(()=>{var Gt;Ht&&!this.control.disabled?this.control.disable():!Ht&&this.control.disabled&&this.control.enable(),null===(Gt=this._changeDetectorRef)||void 0===Gt||Gt.markForCheck()})}_getPath(L){return this._parent?It(L,this._parent):[L]}}return(k=P).\u0275fac=function(L){return new(L||k)(l.Y36(dn,9),l.Y36(Se,10),l.Y36(ge,10),l.Y36(Ke,10),l.Y36(l.sBO,8),l.Y36(Fn,8))},k.\u0275dir=l.lG2({type:k,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([gn]),l.qOj,l.TTD]}),P})(),wr=(()=>{var k;class P{}return(k=P).\u0275fac=function(L){return new(L||k)},k.\u0275dir=l.lG2({type:k,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),P})(),Te=(()=>{var k;class P{}return(k=P).\u0275fac=function(L){return new(L||k)},k.\u0275mod=l.oAB({type:k}),k.\u0275inj=l.cJS({}),P})();const yr=new l.OlP("NgModelWithFormControlWarning"),bo={provide:dn,useExisting:(0,l.Gpc)(()=>zo)};let zo=(()=>{var k;class P extends dn{constructor(L,de,Ht){super(),this.callSetDisabledState=Ht,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(L),this._setAsyncValidators(de)}ngOnChanges(L){this._checkFormPresent(),L.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ln(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(L){const de=this.form.get(L.path);return Qe(de,L,this.callSetDisabledState),de.updateValueAndValidity({emitEvent:!1}),this.directives.push(L),de}getControl(L){return this.form.get(L.path)}removeControl(L){zt(L.control||null,L,!1),function ht(k,P){const ee=k.indexOf(P);ee>-1&&k.splice(ee,1)}(this.directives,L)}addFormGroup(L){this._setUpFormContainer(L)}removeFormGroup(L){this._cleanUpFormContainer(L)}getFormGroup(L){return this.form.get(L.path)}addFormArray(L){this._setUpFormContainer(L)}removeFormArray(L){this._cleanUpFormContainer(L)}getFormArray(L){return this.form.get(L.path)}updateModel(L,de){this.form.get(L.path).setValue(de)}onSubmit(L){var de;return this.submitted=!0,function K(k,P){k._syncPendingControls(),P.forEach(ee=>{const L=ee.control;"submit"===L.updateOn&&L._pendingChange&&(ee.viewToModelUpdate(L._pendingValue),L._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(L),"dialog"===(null==L||null===(de=L.target)||void 0===de?void 0:de.method)}onReset(){this.resetForm()}resetForm(L=void 0){this.form.reset(L),this.submitted=!1}_updateDomValue(){this.directives.forEach(L=>{const de=L.control,Ht=this.form.get(L.path);de!==Ht&&(zt(de||null,L),(k=>k instanceof U)(Ht)&&(Qe(Ht,L,this.callSetDisabledState),L.control=Ht))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(L){const de=this.form.get(L.path);(function Et(k,P){Bn(k,P)})(de,L),de.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(L){if(this.form){const de=this.form.get(L.path);de&&function xt(k,P){return Ln(k,P)}(de,L)&&de.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Bn(this.form,this),this._oldForm&&Ln(this._oldForm,this)}_checkFormPresent(){}}return(k=P).\u0275fac=function(L){return new(L||k)(l.Y36(Se,10),l.Y36(ge,10),l.Y36(Fn,8))},k.\u0275dir=l.lG2({type:k,selectors:[["","formGroup",""]],hostBindings:function(L,de){1&L&&l.NdJ("submit",function(Gt){return de.onSubmit(Gt)})("reset",function(){return de.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([bo]),l.qOj,l.TTD]}),P})();const Ti={provide:kn,useExisting:(0,l.Gpc)(()=>Fr)};let Fr=(()=>{var k;class P extends kn{set isDisabled(L){}constructor(L,de,Ht,Gt,Tr){super(),this._ngModelWarningConfig=Tr,this._added=!1,this.name=null,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=L,this._setValidators(de),this._setAsyncValidators(Ht),this.valueAccessor=Ie(0,Gt)}ngOnChanges(L){this._added||this._setUpControl(),ce(L,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}get path(){return It(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(k=P)._ngModelWarningSentOnce=!1,k.\u0275fac=function(L){return new(L||k)(l.Y36(dn,13),l.Y36(Se,10),l.Y36(ge,10),l.Y36(Ke,10),l.Y36(yr,8))},k.\u0275dir=l.lG2({type:k,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([Ti]),l.qOj,l.TTD]}),P})();function Fs(k){return"number"==typeof k?k:parseFloat(k)}let ro=(()=>{var k;class P{constructor(){this._validator=he}ngOnChanges(L){if(this.inputName in L){const de=this.normalizeInput(L[this.inputName].currentValue);this._enabled=this.enabled(de),this._validator=this._enabled?this.createValidator(de):he,this._onChange&&this._onChange()}}validate(L){return this._validator(L)}registerOnValidatorChange(L){this._onChange=L}enabled(L){return null!=L}}return(k=P).\u0275fac=function(L){return new(L||k)},k.\u0275dir=l.lG2({type:k,features:[l.TTD]}),P})();const ma={provide:Se,useExisting:(0,l.Gpc)(()=>ds),multi:!0};let ds=(()=>{var k;class P extends ro{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=L=>Fs(L),this.createValidator=L=>ft(L)}}return(k=P).\u0275fac=(()=>{let ee;return function(de){return(ee||(ee=l.n5z(k)))(de||k)}})(),k.\u0275dir=l.lG2({type:k,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(L,de){2&L&&l.uIk("max",de._enabled?de.max:null)},inputs:{max:"max"},features:[l._Bn([ma]),l.qOj]}),P})();const Vs={provide:Se,useExisting:(0,l.Gpc)(()=>hs),multi:!0};let hs=(()=>{var k;class P extends ro{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=L=>Fs(L),this.createValidator=L=>Ve(L)}}return(k=P).\u0275fac=(()=>{let ee;return function(de){return(ee||(ee=l.n5z(k)))(de||k)}})(),k.\u0275dir=l.lG2({type:k,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(L,de){2&L&&l.uIk("min",de._enabled?de.min:null)},inputs:{min:"min"},features:[l._Bn([Vs]),l.qOj]}),P})();const qo={provide:Se,useExisting:(0,l.Gpc)(()=>Ko),multi:!0};let Ko=(()=>{var k;class P extends ro{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=L=>function Ki(k){return"number"==typeof k?k:parseInt(k,10)}(L),this.createValidator=L=>Xt(L)}}return(k=P).\u0275fac=(()=>{let ee;return function(de){return(ee||(ee=l.n5z(k)))(de||k)}})(),k.\u0275dir=l.lG2({type:k,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(L,de){2&L&&l.uIk("maxlength",de._enabled?de.maxlength:null)},inputs:{maxlength:"maxlength"},features:[l._Bn([qo]),l.qOj]}),P})();const Cs={provide:Se,useExisting:(0,l.Gpc)(()=>Rr),multi:!0};let Rr=(()=>{var k;class P extends ro{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=L=>L,this.createValidator=L=>tt(L)}}return(k=P).\u0275fac=(()=>{let ee;return function(de){return(ee||(ee=l.n5z(k)))(de||k)}})(),k.\u0275dir=l.lG2({type:k,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(L,de){2&L&&l.uIk("pattern",de._enabled?de.pattern:null)},inputs:{pattern:"pattern"},features:[l._Bn([Cs]),l.qOj]}),P})(),_i=(()=>{var k;class P{}return(k=P).\u0275fac=function(L){return new(L||k)},k.\u0275mod=l.oAB({type:k}),k.\u0275inj=l.cJS({imports:[Te]}),P})();class Zo extends We{constructor(P,ee,L){super(He(ee),B(L,ee)),this.controls=P,this._initObservables(),this._setUpdateStrategy(ee),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(P){return this.controls[this._adjustIndex(P)]}push(P,ee={}){this.controls.push(P),this._registerControl(P),this.updateValueAndValidity({emitEvent:ee.emitEvent}),this._onCollectionChange()}insert(P,ee,L={}){this.controls.splice(P,0,ee),this._registerControl(ee),this.updateValueAndValidity({emitEvent:L.emitEvent})}removeAt(P,ee={}){let L=this._adjustIndex(P);L<0&&(L=0),this.controls[L]&&this.controls[L]._registerOnCollectionChange(()=>{}),this.controls.splice(L,1),this.updateValueAndValidity({emitEvent:ee.emitEvent})}setControl(P,ee,L={}){let de=this._adjustIndex(P);de<0&&(de=0),this.controls[de]&&this.controls[de]._registerOnCollectionChange(()=>{}),this.controls.splice(de,1),ee&&(this.controls.splice(de,0,ee),this._registerControl(ee)),this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(P,ee={}){ie(this,0,P),P.forEach((L,de)=>{W(this,!1,de),this.at(de).setValue(L,{onlySelf:!0,emitEvent:ee.emitEvent})}),this.updateValueAndValidity(ee)}patchValue(P,ee={}){null!=P&&(P.forEach((L,de)=>{this.at(de)&&this.at(de).patchValue(L,{onlySelf:!0,emitEvent:ee.emitEvent})}),this.updateValueAndValidity(ee))}reset(P=[],ee={}){this._forEachChild((L,de)=>{L.reset(P[de],{onlySelf:!0,emitEvent:ee.emitEvent})}),this._updatePristine(ee),this._updateTouched(ee),this.updateValueAndValidity(ee)}getRawValue(){return this.controls.map(P=>P.getRawValue())}clear(P={}){this.controls.length<1||(this._forEachChild(ee=>ee._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:P.emitEvent}))}_adjustIndex(P){return P<0?P+this.length:P}_syncPendingControls(){let P=this.controls.reduce((ee,L)=>!!L._syncPendingControls()||ee,!1);return P&&this.updateValueAndValidity({onlySelf:!0}),P}_forEachChild(P){this.controls.forEach((ee,L)=>{P(ee,L)})}_updateValue(){this.value=this.controls.filter(P=>P.enabled||this.disabled).map(P=>P.value)}_anyControls(P){return this.controls.some(ee=>ee.enabled&&P(ee))}_setUpControls(){this._forEachChild(P=>this._registerControl(P))}_allControlsDisabled(){for(const P of this.controls)if(P.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(P){P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange)}_find(P){var ee;return null!==(ee=this.at(P))&&void 0!==ee?ee:null}}function $s(k){return!!k&&(void 0!==k.asyncValidators||void 0!==k.validators||void 0!==k.updateOn)}let Z=(()=>{var k;class P{constructor(){this.useNonNullable=!1}get nonNullable(){const L=new P;return L.useNonNullable=!0,L}group(L,de=null){const Ht=this._reduceControls(L);let Gt={};return $s(de)?Gt=de:null!==de&&(Gt.validators=de.validator,Gt.asyncValidators=de.asyncValidator),new Ce(Ht,Gt)}record(L,de=null){const Ht=this._reduceControls(L);return new Mt(Ht,de)}control(L,de,Ht){let Gt={};return this.useNonNullable?($s(de)?Gt=de:(Gt.validators=de,Gt.asyncValidators=Ht),new U(L,{...Gt,nonNullable:!0})):new U(L,de,Ht)}array(L,de,Ht){const Gt=L.map(Tr=>this._createControl(Tr));return new Zo(Gt,de,Ht)}_reduceControls(L){const de={};return Object.keys(L).forEach(Ht=>{de[Ht]=this._createControl(L[Ht])}),de}_createControl(L){return L instanceof U||L instanceof We?L:Array.isArray(L)?this.control(L[0],L.length>1?L[1]:null,L.length>2?L[2]:null):this.control(L)}}return(k=P).\u0275fac=function(L){return new(L||k)},k.\u0275prov=l.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),P})(),it=(()=>{var k;class P{static withConfig(L){var de;return{ngModule:P,providers:[{provide:Fn,useValue:null!==(de=L.callSetDisabledState)&&void 0!==de?de:mr}]}}}return(k=P).\u0275fac=function(L){return new(L||k)},k.\u0275mod=l.oAB({type:k}),k.\u0275inj=l.cJS({imports:[_i]}),P})(),Ut=(()=>{var k;class P{static withConfig(L){var de,Ht;return{ngModule:P,providers:[{provide:yr,useValue:null!==(de=L.warnOnNgModelWithFormControl)&&void 0!==de?de:"always"},{provide:Fn,useValue:null!==(Ht=L.callSetDisabledState)&&void 0!==Ht?Ht:mr}]}}}return(k=P).\u0275fac=function(L){return new(L||k)},k.\u0275mod=l.oAB({type:k}),k.\u0275inj=l.cJS({imports:[_i]}),P})()},6593:(ln,nt,w)=>{"use strict";w.d(nt,{Dx:()=>kn,b2:()=>qt,q6:()=>Vt});var l=w(9212),M=w(6814);class H extends M.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Q extends H{static makeCurrent(){(0,M.HT)(new Q)}onAndCancel(B,R,b){return B.addEventListener(R,b),()=>{B.removeEventListener(R,b)}}dispatchEvent(B,R){B.dispatchEvent(R)}remove(B){B.parentNode&&B.parentNode.removeChild(B)}createElement(B,R){return(R=R||this.getDefaultDocument()).createElement(B)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(B){return B.nodeType===Node.ELEMENT_NODE}isShadowRoot(B){return B instanceof DocumentFragment}getGlobalEventTarget(B,R){return"window"===R?window:"document"===R?B:"body"===R?B.body:null}getBaseHref(B){const R=function le(){return _e=_e||document.querySelector("base"),_e?_e.getAttribute("href"):null}();return null==R?null:function ve(te){pe=pe||document.createElement("a"),pe.setAttribute("href",te);const B=pe.pathname;return"/"===B.charAt(0)?B:`/${B}`}(R)}resetBaseElement(){_e=null}getUserAgent(){return window.navigator.userAgent}getCookie(B){return(0,M.Mx)(document.cookie,B)}}let pe,_e=null,ue=(()=>{var te;class B{build(){return new XMLHttpRequest}}return(te=B).\u0275fac=function(b){return new(b||te)},te.\u0275prov=l.Yz7({token:te,factory:te.\u0275fac}),B})();const fe=new l.OlP("EventManagerPlugins");let $e=(()=>{var te;class B{constructor(b,W){this._zone=W,this._eventNameToPlugin=new Map,b.forEach(ie=>{ie.manager=this}),this._plugins=b.slice().reverse()}addEventListener(b,W,ie){return this._findPluginFor(W).addEventListener(b,W,ie)}getZone(){return this._zone}_findPluginFor(b){let W=this._eventNameToPlugin.get(b);if(W)return W;if(W=this._plugins.find(We=>We.supports(b)),!W)throw new l.vHH(5101,!1);return this._eventNameToPlugin.set(b,W),W}}return(te=B).\u0275fac=function(b){return new(b||te)(l.LFG(fe),l.LFG(l.R0b))},te.\u0275prov=l.Yz7({token:te,factory:te.\u0275fac}),B})();class we{constructor(B){this._doc=B}}const xe="ng-app-id";let Ke=(()=>{var te;class B{constructor(b,W,ie,We={}){this.doc=b,this.appId=W,this.nonce=ie,this.platformId=We,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,M.PM)(We),this.resetHostNodes()}addStyles(b){for(const W of b)1===this.changeUsageCount(W,1)&&this.onStyleAdded(W)}removeStyles(b){for(const W of b)this.changeUsageCount(W,-1)<=0&&this.onStyleRemoved(W)}ngOnDestroy(){const b=this.styleNodesInDOM;b&&(b.forEach(W=>W.remove()),b.clear());for(const W of this.getAllStyles())this.onStyleRemoved(W);this.resetHostNodes()}addHost(b){this.hostNodes.add(b);for(const W of this.getAllStyles())this.addStyleToHost(b,W)}removeHost(b){this.hostNodes.delete(b)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(b){for(const W of this.hostNodes)this.addStyleToHost(W,b)}onStyleRemoved(b){var W;const ie=this.styleRef;null===(W=ie.get(b))||void 0===W||null===(W=W.elements)||void 0===W||W.forEach(We=>We.remove()),ie.delete(b)}collectServerRenderedStyles(){var b;const W=null===(b=this.doc.head)||void 0===b?void 0:b.querySelectorAll(`style[${xe}="${this.appId}"]`);if(null!=W&&W.length){const ie=new Map;return W.forEach(We=>{null!=We.textContent&&ie.set(We.textContent,We)}),ie}return null}changeUsageCount(b,W){const ie=this.styleRef;if(ie.has(b)){const We=ie.get(b);return We.usage+=W,We.usage}return ie.set(b,{usage:W,elements:[]}),W}getStyleElement(b,W){const ie=this.styleNodesInDOM,We=null==ie?void 0:ie.get(W);if((null==We?void 0:We.parentNode)===b)return ie.delete(W),We.removeAttribute(xe),We;{const Ce=this.doc.createElement("style");return this.nonce&&Ce.setAttribute("nonce",this.nonce),Ce.textContent=W,this.platformIsServer&&Ce.setAttribute(xe,this.appId),b.appendChild(Ce),Ce}}addStyleToHost(b,W){var ie;const We=this.getStyleElement(b,W),Ce=this.styleRef,Ge=null===(ie=Ce.get(W))||void 0===ie?void 0:ie.elements;Ge?Ge.push(We):Ce.set(W,{elements:[We],usage:1})}resetHostNodes(){const b=this.hostNodes;b.clear(),b.add(this.doc.head)}}return(te=B).\u0275fac=function(b){return new(b||te)(l.LFG(M.K0),l.LFG(l.AFp),l.LFG(l.Ojb,8),l.LFG(l.Lbi))},te.\u0275prov=l.Yz7({token:te,factory:te.\u0275fac}),B})();const rt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Be=/%COMP%/g,je=new l.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function ge(te,B){return B.map(R=>R.replace(Be,te))}let X=(()=>{var te;class B{constructor(b,W,ie,We,Ce,Ge,Dt,gt=null){this.eventManager=b,this.sharedStylesHost=W,this.appId=ie,this.removeStylesOnCompDestroy=We,this.doc=Ce,this.platformId=Ge,this.ngZone=Dt,this.nonce=gt,this.rendererByCompId=new Map,this.platformIsServer=(0,M.PM)(Ge),this.defaultRenderer=new ke(b,Ce,Dt,this.platformIsServer)}createRenderer(b,W){if(!b||!W)return this.defaultRenderer;this.platformIsServer&&W.encapsulation===l.ifc.ShadowDom&&(W={...W,encapsulation:l.ifc.Emulated});const ie=this.getOrCreateRenderer(b,W);return ie instanceof cn?ie.applyToHost(b):ie instanceof Wt&&ie.applyStyles(),ie}getOrCreateRenderer(b,W){const ie=this.rendererByCompId;let We=ie.get(W.id);if(!We){const Ce=this.doc,Ge=this.ngZone,Dt=this.eventManager,gt=this.sharedStylesHost,Mt=this.removeStylesOnCompDestroy,rn=this.platformIsServer;switch(W.encapsulation){case l.ifc.Emulated:We=new cn(Dt,gt,W,this.appId,Mt,Ce,Ge,rn);break;case l.ifc.ShadowDom:return new yt(Dt,gt,b,W,Ce,Ge,this.nonce,rn);default:We=new Wt(Dt,gt,W,Mt,Ce,Ge,rn)}ie.set(W.id,We)}return We}ngOnDestroy(){this.rendererByCompId.clear()}}return(te=B).\u0275fac=function(b){return new(b||te)(l.LFG($e),l.LFG(Ke),l.LFG(l.AFp),l.LFG(je),l.LFG(M.K0),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(l.Ojb))},te.\u0275prov=l.Yz7({token:te,factory:te.\u0275fac}),B})();class ke{constructor(B,R,b,W){this.eventManager=B,this.doc=R,this.ngZone=b,this.platformIsServer=W,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(B,R){return R?this.doc.createElementNS(rt[R]||R,B):this.doc.createElement(B)}createComment(B){return this.doc.createComment(B)}createText(B){return this.doc.createTextNode(B)}appendChild(B,R){(lt(B)?B.content:B).appendChild(R)}insertBefore(B,R,b){B&&(lt(B)?B.content:B).insertBefore(R,b)}removeChild(B,R){B&&B.removeChild(R)}selectRootElement(B,R){let b="string"==typeof B?this.doc.querySelector(B):B;if(!b)throw new l.vHH(-5104,!1);return R||(b.textContent=""),b}parentNode(B){return B.parentNode}nextSibling(B){return B.nextSibling}setAttribute(B,R,b,W){if(W){R=W+":"+R;const ie=rt[W];ie?B.setAttributeNS(ie,R,b):B.setAttribute(R,b)}else B.setAttribute(R,b)}removeAttribute(B,R,b){if(b){const W=rt[b];W?B.removeAttributeNS(W,R):B.removeAttribute(`${b}:${R}`)}else B.removeAttribute(R)}addClass(B,R){B.classList.add(R)}removeClass(B,R){B.classList.remove(R)}setStyle(B,R,b,W){W&(l.JOm.DashCase|l.JOm.Important)?B.style.setProperty(R,b,W&l.JOm.Important?"important":""):B.style[R]=b}removeStyle(B,R,b){b&l.JOm.DashCase?B.style.removeProperty(R):B.style[R]=""}setProperty(B,R,b){null!=B&&(B[R]=b)}setValue(B,R){B.nodeValue=R}listen(B,R,b){if("string"==typeof B&&!(B=(0,M.q)().getGlobalEventTarget(this.doc,B)))throw new Error(`Unsupported event target ${B} for event ${R}`);return this.eventManager.addEventListener(B,R,this.decoratePreventDefault(b))}decoratePreventDefault(B){return R=>{if("__ngUnwrap__"===R)return B;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>B(R)):B(R))&&R.preventDefault()}}}function lt(te){return"TEMPLATE"===te.tagName&&void 0!==te.content}class yt extends ke{constructor(B,R,b,W,ie,We,Ce,Ge){super(B,ie,We,Ge),this.sharedStylesHost=R,this.hostEl=b,this.shadowRoot=b.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Dt=ge(W.id,W.styles);for(const gt of Dt){const Mt=document.createElement("style");Ce&&Mt.setAttribute("nonce",Ce),Mt.textContent=gt,this.shadowRoot.appendChild(Mt)}}nodeOrShadowRoot(B){return B===this.hostEl?this.shadowRoot:B}appendChild(B,R){return super.appendChild(this.nodeOrShadowRoot(B),R)}insertBefore(B,R,b){return super.insertBefore(this.nodeOrShadowRoot(B),R,b)}removeChild(B,R){return super.removeChild(this.nodeOrShadowRoot(B),R)}parentNode(B){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(B)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Wt extends ke{constructor(B,R,b,W,ie,We,Ce,Ge){super(B,ie,We,Ce),this.sharedStylesHost=R,this.removeStylesOnCompDestroy=W,this.styles=Ge?ge(Ge,b.styles):b.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class cn extends Wt{constructor(B,R,b,W,ie,We,Ce,Ge){const Dt=W+"-"+b.id;super(B,R,b,ie,We,Ce,Ge,Dt),this.contentAttr=function Xe(te){return"_ngcontent-%COMP%".replace(Be,te)}(Dt),this.hostAttr=function Se(te){return"_nghost-%COMP%".replace(Be,te)}(Dt)}applyToHost(B){this.applyStyles(),this.setAttribute(B,this.hostAttr,"")}createElement(B,R){const b=super.createElement(B,R);return super.setAttribute(b,this.contentAttr,""),b}}let Xt=(()=>{var te;class B extends we{constructor(b){super(b)}supports(b){return!0}addEventListener(b,W,ie){return b.addEventListener(W,ie,!1),()=>this.removeEventListener(b,W,ie)}removeEventListener(b,W,ie){return b.removeEventListener(W,ie)}}return(te=B).\u0275fac=function(b){return new(b||te)(l.LFG(M.K0))},te.\u0275prov=l.Yz7({token:te,factory:te.\u0275fac}),B})();const tt=["alt","control","meta","shift"],he={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ne={alt:te=>te.altKey,control:te=>te.ctrlKey,meta:te=>te.metaKey,shift:te=>te.shiftKey};let Re=(()=>{var te;class B extends we{constructor(b){super(b)}supports(b){return null!=B.parseEventName(b)}addEventListener(b,W,ie){const We=B.parseEventName(W),Ce=B.eventCallback(We.fullKey,ie,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,M.q)().onAndCancel(b,We.domEventName,Ce))}static parseEventName(b){const W=b.toLowerCase().split("."),ie=W.shift();if(0===W.length||"keydown"!==ie&&"keyup"!==ie)return null;const We=B._normalizeKey(W.pop());let Ce="",Ge=W.indexOf("code");if(Ge>-1&&(W.splice(Ge,1),Ce="code."),tt.forEach(gt=>{const Mt=W.indexOf(gt);Mt>-1&&(W.splice(Mt,1),Ce+=gt+".")}),Ce+=We,0!=W.length||0===We.length)return null;const Dt={};return Dt.domEventName=ie,Dt.fullKey=Ce,Dt}static matchEventFullKeyCode(b,W){let ie=he[b.key]||b.key,We="";return W.indexOf("code.")>-1&&(ie=b.code,We="code."),!(null==ie||!ie)&&(ie=ie.toLowerCase()," "===ie?ie="space":"."===ie&&(ie="dot"),tt.forEach(Ce=>{Ce!==ie&&(0,ne[Ce])(b)&&(We+=Ce+".")}),We+=ie,We===W)}static eventCallback(b,W,ie){return We=>{B.matchEventFullKeyCode(We,b)&&ie.runGuarded(()=>W(We))}}static _normalizeKey(b){return"esc"===b?"escape":b}}return(te=B).\u0275fac=function(b){return new(b||te)(l.LFG(M.K0))},te.\u0275prov=l.Yz7({token:te,factory:te.\u0275fac}),B})();const Vt=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:M.bD},{provide:l.g9A,useValue:function on(){Q.makeCurrent()},multi:!0},{provide:M.K0,useFactory:function $t(){return(0,l.RDi)(document),document},deps:[]}]),St=new l.OlP(""),At=[{provide:l.rWj,useClass:class Ye{addToWindow(B){l.dqk.getAngularTestability=(b,W=!0)=>{const ie=B.findTestabilityInTree(b,W);if(null==ie)throw new l.vHH(5103,!1);return ie},l.dqk.getAllAngularTestabilities=()=>B.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>B.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(b=>{const W=l.dqk.getAllAngularTestabilities();let ie=W.length,We=!1;const Ce=function(Ge){We=We||Ge,ie--,0==ie&&b(We)};W.forEach(Ge=>{Ge.whenStable(Ce)})})}findTestabilityInTree(B,R,b){if(null==R)return null;const W=B.getTestability(R);return null!=W?W:b?(0,M.q)().isShadowRoot(R)?this.findTestabilityInTree(B,R.host,!0):this.findTestabilityInTree(B,R.parentElement,!0):null}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],kt=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function en(){return new l.qLn},deps:[]},{provide:fe,useClass:Xt,multi:!0,deps:[M.K0,l.R0b,l.Lbi]},{provide:fe,useClass:Re,multi:!0,deps:[M.K0]},X,Ke,$e,{provide:l.FYo,useExisting:X},{provide:M.JF,useClass:ue,deps:[]},[]];let qt=(()=>{var te;class B{constructor(b){}static withServerTransition(b){return{ngModule:B,providers:[{provide:l.AFp,useValue:b.appId}]}}}return(te=B).\u0275fac=function(b){return new(b||te)(l.LFG(St,12))},te.\u0275mod=l.oAB({type:te}),te.\u0275inj=l.cJS({providers:[...kt,...At],imports:[M.ez,l.hGG]}),B})(),kn=(()=>{var te;class B{constructor(b){this._doc=b}getTitle(){return this._doc.title}setTitle(b){this._doc.title=b||""}}return(te=B).\u0275fac=function(b){return new(b||te)(l.LFG(M.K0))},te.\u0275prov=l.Yz7({token:te,factory:function(b){let W=null;return W=b?new b:function dn(){return new kn((0,l.LFG)(M.K0))}(),W},providedIn:"root"}),B})();typeof window<"u"&&window},3213:(ln,nt,w)=>{"use strict";w.d(nt,{gz:()=>_r,y6:()=>wr,OD:()=>Ie,eC:()=>$t,wm:()=>gr,wN:()=>Jn,F0:()=>oo,rH:()=>vo,Bz:()=>Lo,Hx:()=>er});var l=w(9212),M=w(5592),H=w(4674),_e=w(2459),le=w(2096),pe=w(5619),ve=w(2572),Ye=w(6973),ue=w(5211),fe=w(4911),$e=w(8407),we=w(8504),xe=w(6232),Ke=w(3168),rt=w(8645),Be=w(7394),Le=w(6814),ze=w(7398),dt=w(4664),qe=w(8180),je=w(7921),Xe=w(2181),Se=w(1631),ge=w(1374),X=w(6328),ke=w(9397),Ve=w(4829),ft=w(8251),lt=w(9360);function yt(y){return(0,lt.e)((S,O)=>{let ae,T=null,F=!1;T=S.subscribe((0,ft.x)(O,void 0,void 0,be=>{ae=(0,Ve.Xf)(y(be,yt(y)(S))),T?(T.unsubscribe(),T=null,ae.subscribe(O)):F=!0})),F&&(T.unsubscribe(),T=null,ae.subscribe(O))})}var Wt=w(6699),cn=w(3572);function Xt(y){return y<=0?()=>xe.E:(0,lt.e)((S,O)=>{let T=[];S.subscribe((0,ft.x)(O,F=>{T.push(F),y<T.length&&T.shift()},()=>{for(const F of T)O.next(F);O.complete()},void 0,()=>{T=null}))})}var tt=w(3026),he=w(2737),Re=w(975),Ee=w(4716),at=w(6196),pt=w(2420),on=w(7537),en=w(6593);const $t="primary",Cn=Symbol("RouteTitle");class Vt{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const O=this.params[S];return Array.isArray(O)?O[0]:O}return null}getAll(S){if(this.has(S)){const O=this.params[S];return Array.isArray(O)?O:[O]}return[]}get keys(){return Object.keys(this.params)}}function St(y){return new Vt(y)}function At(y,S,O){const T=O.path.split("/");if(T.length>y.length||"full"===O.pathMatch&&(S.hasChildren()||T.length<y.length))return null;const F={};for(let ae=0;ae<T.length;ae++){const be=T[ae],bt=y[ae];if(be.startsWith(":"))F[be.substring(1)]=bt;else if(be!==bt.path)return null}return{consumed:y.slice(0,T.length),posParams:F}}function qt(y,S){const O=y?An(y):void 0,T=S?An(S):void 0;if(!O||!T||O.length!=T.length)return!1;let F;for(let ae=0;ae<O.length;ae++)if(F=O[ae],!Nn(y[F],S[F]))return!1;return!0}function An(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}function Nn(y,S){if(Array.isArray(y)&&Array.isArray(S)){if(y.length!==S.length)return!1;const O=[...y].sort(),T=[...S].sort();return O.every((F,ae)=>T[ae]===F)}return y===S}function Zn(y){return y.length>0?y[y.length-1]:null}function dn(y){return function Q(y){return!!y&&(y instanceof M.y||(0,H.m)(y.lift)&&(0,H.m)(y.subscribe))}(y)?y:(0,l.QGY)(y)?(0,_e.D)(Promise.resolve(y)):(0,le.of)(y)}const kn={exact:function qn(y,S,O){if(!fn(y.segments,S.segments)||!Mn(y.segments,S.segments,O)||y.numberOfChildren!==S.numberOfChildren)return!1;for(const T in S.children)if(!y.children[T]||!qn(y.children[T],S.children[T],O))return!1;return!0},subset:br},En={exact:function Yn(y,S){return qt(y,S)},subset:function jn(y,S){return Object.keys(S).length<=Object.keys(y).length&&Object.keys(S).every(O=>Nn(y[O],S[O]))},ignored:()=>!0};function Dr(y,S,O){return kn[O.paths](y.root,S.root,O.matrixParams)&&En[O.queryParams](y.queryParams,S.queryParams)&&!("exact"===O.fragment&&y.fragment!==S.fragment)}function br(y,S,O){return Cr(y,S,S.segments,O)}function Cr(y,S,O,T){if(y.segments.length>O.length){const F=y.segments.slice(0,O.length);return!(!fn(F,O)||S.hasChildren()||!Mn(F,O,T))}if(y.segments.length===O.length){if(!fn(y.segments,O)||!Mn(y.segments,O,T))return!1;for(const F in S.children)if(!y.children[F]||!br(y.children[F],S.children[F],T))return!1;return!0}{const F=O.slice(0,y.segments.length),ae=O.slice(y.segments.length);return!!(fn(y.segments,F)&&Mn(y.segments,F,T)&&y.children[$t])&&Cr(y.children[$t],S,ae,T)}}function Mn(y,S,O){return S.every((T,F)=>En[O](y[F].parameters,T.parameters))}class rr{constructor(S=new xn([],{}),O={},T=null){this.root=S,this.queryParams=O,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return Ur.serialize(this)}}class xn{constructor(S,O){this.segments=S,this.children=O,this.parent=null,Object.values(O).forEach(T=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ur(this)}}class Hr{constructor(S,O){this.path=S,this.parameters=O}get parameterMap(){return this._parameterMap||(this._parameterMap=St(this.parameters)),this._parameterMap}toString(){return hr(this)}}function fn(y,S){return y.length===S.length&&y.every((O,T)=>O.path===S[T].path)}let er=(()=>{var y;class S{}return(y=S).\u0275fac=function(T){return new(T||y)},y.\u0275prov=l.Yz7({token:y,factory:()=>new Nr,providedIn:"root"}),S})();class Nr{parse(S){const O=new Dt(S);return new rr(O.parseRootSegment(),O.parseQueryParams(),O.parseFragment())}serialize(S){const O=`/${Dn(S.root,!0)}`,T=function te(y){const S=Object.keys(y).map(O=>{const T=y[O];return Array.isArray(T)?T.map(F=>`${kr(O)}=${kr(F)}`).join("&"):`${kr(O)}=${kr(T)}`}).filter(O=>!!O);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${O}${T}${"string"==typeof S.fragment?`#${function Vn(y){return encodeURI(y)}(S.fragment)}`:""}`}}const Ur=new Nr;function ur(y){return y.segments.map(S=>hr(S)).join("/")}function Dn(y,S){if(!y.hasChildren())return ur(y);if(S){const O=y.children[$t]?Dn(y.children[$t],!1):"",T=[];return Object.entries(y.children).forEach(([F,ae])=>{F!==$t&&T.push(`${F}:${Dn(ae,!1)}`)}),T.length>0?`${O}(${T.join("//")})`:O}{const O=function bn(y,S){let O=[];return Object.entries(y.children).forEach(([T,F])=>{T===$t&&(O=O.concat(S(F,T)))}),Object.entries(y.children).forEach(([T,F])=>{T!==$t&&(O=O.concat(S(F,T)))}),O}(y,(T,F)=>F===$t?[Dn(y.children[$t],!1)]:[`${F}:${Dn(T,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[$t]?`${ur(y)}/${O[0]}`:`${ur(y)}/(${O.join("//")})`}}function Qn(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kr(y){return Qn(y).replace(/%3B/gi,";")}function Hn(y){return Qn(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lr(y){return decodeURIComponent(y)}function Ir(y){return Lr(y.replace(/\+/g,"%20"))}function hr(y){return`${Hn(y.path)}${function He(y){return Object.keys(y).map(S=>`;${Hn(S)}=${Hn(y[S])}`).join("")}(y.parameters)}`}const B=/^[^\/()?;#]+/;function R(y){const S=y.match(B);return S?S[0]:""}const b=/^[^\/()?;=#]+/,ie=/^[^=?&#]+/,Ce=/^[^&#]+/;class Dt{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xn([],{}):new xn([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let O={};this.peekStartsWith("/(")&&(this.capture("/"),O=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(S.length>0||Object.keys(O).length>0)&&(T[$t]=new xn(S,O)),T}parseSegment(){const S=R(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(S),new Hr(Lr(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const O=function W(y){const S=y.match(b);return S?S[0]:""}(this.remaining);if(!O)return;this.capture(O);let T="";if(this.consumeOptional("=")){const F=R(this.remaining);F&&(T=F,this.capture(T))}S[Lr(O)]=Lr(T)}parseQueryParam(S){const O=function We(y){const S=y.match(ie);return S?S[0]:""}(this.remaining);if(!O)return;this.capture(O);let T="";if(this.consumeOptional("=")){const be=function Ge(y){const S=y.match(Ce);return S?S[0]:""}(this.remaining);be&&(T=be,this.capture(T))}const F=Ir(O),ae=Ir(T);if(S.hasOwnProperty(F)){let be=S[F];Array.isArray(be)||(be=[be],S[F]=be),be.push(ae)}else S[F]=ae}parseParens(S){const O={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=R(this.remaining),F=this.remaining[T.length];if("/"!==F&&")"!==F&&";"!==F)throw new l.vHH(4010,!1);let ae;T.indexOf(":")>-1?(ae=T.slice(0,T.indexOf(":")),this.capture(ae),this.capture(":")):S&&(ae=$t);const be=this.parseChildren();O[ae]=1===Object.keys(be).length?be[$t]:new xn([],be),this.consumeOptional("//")}return O}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new l.vHH(4011,!1)}}function gt(y){return y.segments.length>0?new xn([],{[$t]:y}):y}function Mt(y){const S={};for(const T of Object.keys(y.children)){const ae=Mt(y.children[T]);if(T===$t&&0===ae.segments.length&&ae.hasChildren())for(const[be,bt]of Object.entries(ae.children))S[be]=bt;else(ae.segments.length>0||ae.hasChildren())&&(S[T]=ae)}return function rn(y){if(1===y.numberOfChildren&&y.children[$t]){const S=y.children[$t];return new xn(y.segments.concat(S.segments),S.children)}return y}(new xn(y.segments,S))}function Fn(y){return y instanceof rr}function It(y){var S;let O;const ae=gt(function T(be){const bt={};for(const Pt of be.children){const Un=T(Pt);bt[Pt.outlet]=Un}const _n=new xn(be.url,bt);return be===y&&(O=_n),_n}(y.root));return null!==(S=O)&&void 0!==S?S:ae}function Qe(y,S,O,T){let F=y;for(;F.parent;)F=F.parent;if(0===S.length)return ir(F,F,F,O,T);const ae=function Kr(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new Ln(!0,0,y);let S=0,O=!1;const T=y.reduce((F,ae,be)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const bt={};return Object.entries(ae.outlets).forEach(([_n,Pt])=>{bt[_n]="string"==typeof Pt?Pt.split("/"):Pt}),[...F,{outlets:bt}]}if(ae.segmentPath)return[...F,ae.segmentPath]}return"string"!=typeof ae?[...F,ae]:0===be?(ae.split("/").forEach((bt,_n)=>{0==_n&&"."===bt||(0==_n&&""===bt?O=!0:".."===bt?S++:""!=bt&&F.push(bt))}),F):[...F,ae]},[]);return new Ln(O,S,T)}(S);if(ae.toRoot())return ir(F,F,new xn([],{}),O,T);const be=function Ue(y,S,O){if(y.isAbsolute)return new st(S,!0,0);if(!O)return new st(S,!1,NaN);if(null===O.parent)return new st(O,!0,0);const T=zt(y.commands[0])?0:1;return function wt(y,S,O){let T=y,F=S,ae=O;for(;ae>F;){if(ae-=F,T=T.parent,!T)throw new l.vHH(4005,!1);F=T.segments.length}return new st(T,!1,F-ae)}(O,O.segments.length-1+T,y.numberOfDoubleDots)}(ae,F,y),bt=be.processChildren?Kt(be.segmentGroup,be.index,ae.commands):xt(be.segmentGroup,be.index,ae.commands);return ir(F,be.segmentGroup,bt,O,T)}function zt(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function wn(y){return"object"==typeof y&&null!=y&&y.outlets}function ir(y,S,O,T,F){let be,ae={};T&&Object.entries(T).forEach(([_n,Pt])=>{ae[_n]=Array.isArray(Pt)?Pt.map(Un=>`${Un}`):`${Pt}`}),be=y===S?O:Bn(y,S,O);const bt=gt(Mt(be));return new rr(bt,ae,F)}function Bn(y,S,O){const T={};return Object.entries(y.children).forEach(([F,ae])=>{T[F]=ae===S?O:Bn(ae,S,O)}),new xn(y.segments,T)}class Ln{constructor(S,O,T){if(this.isAbsolute=S,this.numberOfDoubleDots=O,this.commands=T,S&&T.length>0&&zt(T[0]))throw new l.vHH(4003,!1);const F=T.find(wn);if(F&&F!==Zn(T))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class st{constructor(S,O,T){this.segmentGroup=S,this.processChildren=O,this.index=T}}function xt(y,S,O){if(y||(y=new xn([],{})),0===y.segments.length&&y.hasChildren())return Kt(y,S,O);const T=function Tn(y,S,O){let T=0,F=S;const ae={match:!1,pathIndex:0,commandIndex:0};for(;F<y.segments.length;){if(T>=O.length)return ae;const be=y.segments[F],bt=O[T];if(wn(bt))break;const _n=`${bt}`,Pt=T<O.length-1?O[T+1]:null;if(F>0&&void 0===_n)break;if(_n&&Pt&&"object"==typeof Pt&&void 0===Pt.outlets){if(!ce(_n,Pt,be))return ae;T+=2}else{if(!ce(_n,{},be))return ae;T++}F++}return{match:!0,pathIndex:F,commandIndex:T}}(y,S,O),F=O.slice(T.commandIndex);if(T.match&&T.pathIndex<y.segments.length){const ae=new xn(y.segments.slice(0,T.pathIndex),{});return ae.children[$t]=new xn(y.segments.slice(T.pathIndex),y.children),Kt(ae,0,F)}return T.match&&0===F.length?new xn(y.segments,{}):T.match&&!y.hasChildren()?pn(y,S,O):T.match?Kt(y,0,F):pn(y,S,O)}function Kt(y,S,O){if(0===O.length)return new xn(y.segments,{});{const T=function Et(y){return wn(y[0])?y[0].outlets:{[$t]:y}}(O),F={};if(Object.keys(T).some(ae=>ae!==$t)&&y.children[$t]&&1===y.numberOfChildren&&0===y.children[$t].segments.length){const ae=Kt(y.children[$t],S,O);return new xn(y.segments,ae.children)}return Object.entries(T).forEach(([ae,be])=>{"string"==typeof be&&(be=[be]),null!==be&&(F[ae]=xt(y.children[ae],S,be))}),Object.entries(y.children).forEach(([ae,be])=>{void 0===T[ae]&&(F[ae]=be)}),new xn(y.segments,F)}}function pn(y,S,O){const T=y.segments.slice(0,S);let F=0;for(;F<O.length;){const ae=O[F];if(wn(ae)){const _n=mn(ae.outlets);return new xn(T,_n)}if(0===F&&zt(O[0])){T.push(new Hr(y.segments[S].path,Kn(O[0]))),F++;continue}const be=wn(ae)?ae.outlets[$t]:`${ae}`,bt=F<O.length-1?O[F+1]:null;be&&bt&&zt(bt)?(T.push(new Hr(be,Kn(bt))),F+=2):(T.push(new Hr(be,{})),F++)}return new xn(T,{})}function mn(y){const S={};return Object.entries(y).forEach(([O,T])=>{"string"==typeof T&&(T=[T]),null!==T&&(S[O]=pn(new xn([],{}),0,T))}),S}function Kn(y){const S={};return Object.entries(y).forEach(([O,T])=>S[O]=`${T}`),S}function ce(y,S,O){return y==O.path&&qt(S,O.parameters)}const Ae="imperative";class K{constructor(S,O){this.id=S,this.url=O}}class Ie extends K{constructor(S,O,T="imperative",F=null){super(S,O),this.type=0,this.navigationTrigger=T,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ht extends K{constructor(S,O,T){super(S,O),this.urlAfterRedirects=T,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class mt extends K{constructor(S,O,T,F){super(S,O),this.reason=T,this.code=F,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Je extends K{constructor(S,O,T,F){super(S,O),this.reason=T,this.code=F,this.type=16}}class Ct extends K{constructor(S,O,T,F){super(S,O),this.error=T,this.target=F,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tn extends K{constructor(S,O,T,F){super(S,O),this.urlAfterRedirects=T,this.state=F,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qt extends K{constructor(S,O,T,F){super(S,O),this.urlAfterRedirects=T,this.state=F,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tr extends K{constructor(S,O,T,F,ae){super(S,O),this.urlAfterRedirects=T,this.state=F,this.shouldActivate=ae,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class U extends K{constructor(S,O,T,F){super(S,O),this.urlAfterRedirects=T,this.state=F,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J extends K{constructor(S,O,T,F){super(S,O),this.urlAfterRedirects=T,this.state=F,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pe{constructor(S){this.route=S,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class et{constructor(S){this.route=S,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Rt{constructor(S){this.snapshot=S,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vt{constructor(S){this.snapshot=S,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zt{constructor(S){this.snapshot=S,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class un{constructor(S){this.snapshot=S,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nn{constructor(S,O,T){this.routerEvent=S,this.position=O,this.anchor=T,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class jt{}class gn{constructor(S){this.url=S}}class vr{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new wr,this.attachRef=null}}let wr=(()=>{var y;class S{constructor(){this.contexts=new Map}onChildOutletCreated(T,F){const ae=this.getOrCreateContext(T);ae.outlet=F,this.contexts.set(T,ae)}onChildOutletDestroyed(T){const F=this.getContext(T);F&&(F.outlet=null,F.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let F=this.getContext(T);return F||(F=new vr,this.contexts.set(T,F)),F}getContext(T){return this.contexts.get(T)||null}}return(y=S).\u0275fac=function(T){return new(T||y)},y.\u0275prov=l.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),S})();class ai{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const O=this.pathFromRoot(S);return O.length>1?O[O.length-2]:null}children(S){const O=I(S,this._root);return O?O.children.map(T=>T.value):[]}firstChild(S){const O=I(S,this._root);return O&&O.children.length>0?O.children[0].value:null}siblings(S){const O=me(S,this._root);return O.length<2?[]:O[O.length-2].children.map(F=>F.value).filter(F=>F!==S)}pathFromRoot(S){return me(S,this._root).map(O=>O.value)}}function I(y,S){if(y===S.value)return S;for(const O of S.children){const T=I(y,O);if(T)return T}return null}function me(y,S){if(y===S.value)return[S];for(const O of S.children){const T=me(y,O);if(T.length)return T.unshift(S),T}return[]}class x{constructor(S,O){this.value=S,this.children=O}toString(){return`TreeNode(${this.value})`}}function Te(y){const S={};return y&&y.children.forEach(O=>S[O.value.outlet]=O),S}class ut extends ai{constructor(S,O){super(S),this.snapshot=O,bo(this,S)}toString(){return this.snapshot.toString()}}function pr(y,S){const O=function jr(y,S){const be=new Ui([],{},{},"",{},$t,S,null,{});return new eo("",new x(be,[]))}(0,S),T=new pe.X([new Hr("",{})]),F=new pe.X({}),ae=new pe.X({}),be=new pe.X({}),bt=new pe.X(""),_n=new _r(T,F,be,bt,ae,$t,S,O.root);return _n.snapshot=O.root,new ut(new x(_n,[]),O)}class _r{constructor(S,O,T,F,ae,be,bt,_n){var Pt,Un;this.urlSubject=S,this.paramsSubject=O,this.queryParamsSubject=T,this.fragmentSubject=F,this.dataSubject=ae,this.outlet=be,this.component=bt,this._futureSnapshot=_n,this.title=null!==(Pt=null===(Un=this.dataSubject)||void 0===Un?void 0:Un.pipe((0,ze.U)(Ar=>Ar[Cn])))&&void 0!==Pt?Pt:(0,le.of)(void 0),this.url=S,this.params=O,this.queryParams=T,this.fragment=F,this.data=ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ze.U)(S=>St(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ze.U)(S=>St(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yr(y,S,O="emptyOnly"){var T;let F;const{routeConfig:ae}=y;var be;return F=null===S||"always"!==O&&""!==(null==ae?void 0:ae.path)&&(S.component||null!==(T=S.routeConfig)&&void 0!==T&&T.loadComponent)?{params:y.params,data:y.data,resolve:{...y.data,...null!==(be=y._resolvedData)&&void 0!==be?be:{}}}:{params:{...S.params,...y.params},data:{...S.data,...y.data},resolve:{...y.data,...S.data,...null==ae?void 0:ae.data,...y._resolvedData}},ae&&lo(ae)&&(F.resolve[Cn]=ae.title),F}class Ui{get title(){var S;return null===(S=this.data)||void 0===S?void 0:S[Cn]}constructor(S,O,T,F,ae,be,bt,_n,Pt){this.url=S,this.params=O,this.queryParams=T,this.fragment=F,this.data=ae,this.outlet=be,this.component=bt,this.routeConfig=_n,this._resolve=Pt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=St(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=St(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class eo extends ai{constructor(S,O){super(O),this.url=S,bo(this,O)}toString(){return zo(this._root)}}function bo(y,S){S.value._routerState=y,S.children.forEach(O=>bo(y,O))}function zo(y){const S=y.children.length>0?` { ${y.children.map(zo).join(", ")} } `:"";return`${y.value}${S}`}function Qs(y){if(y.snapshot){const S=y.snapshot,O=y._futureSnapshot;y.snapshot=O,qt(S.queryParams,O.queryParams)||y.queryParamsSubject.next(O.queryParams),S.fragment!==O.fragment&&y.fragmentSubject.next(O.fragment),qt(S.params,O.params)||y.paramsSubject.next(O.params),function kt(y,S){if(y.length!==S.length)return!1;for(let O=0;O<y.length;++O)if(!qt(y[O],S[O]))return!1;return!0}(S.url,O.url)||y.urlSubject.next(O.url),qt(S.data,O.data)||y.dataSubject.next(O.data)}else y.snapshot=y._futureSnapshot,y.dataSubject.next(y._futureSnapshot.data)}function Wo(y,S){const O=qt(y.params,S.params)&&function cr(y,S){return fn(y,S)&&y.every((O,T)=>qt(O.parameters,S[T].parameters))}(y.url,S.url);return O&&!(!y.parent!=!S.parent)&&(!y.parent||Wo(y.parent,S.parent))}function lo(y){return"string"==typeof y.title||null===y.title}let go=(()=>{var y;class S{constructor(){this.activated=null,this._activatedRoute=null,this.name=$t,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(wr),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb),this.inputBinder=(0,l.f3M)(Ti,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(T){if(T.name){const{firstChange:F,previousValue:ae}=T.name;if(F)return;this.isTrackedInParentContexts(ae)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ae)),this.initializeOutletWithName()}}ngOnDestroy(){var T;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(T=this.inputBinder)||void 0===T||T.unsubscribeFromRouteData(this)}isTrackedInParentContexts(T){var F;return(null===(F=this.parentContexts.getContext(T))||void 0===F?void 0:F.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const T=this.parentContexts.getContext(this.name);null!=T&&T.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,!1);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,F){var ae;this.activated=T,this._activatedRoute=F,this.location.insert(T.hostView),null===(ae=this.inputBinder)||void 0===ae||ae.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,F){var ae;if(this.isActivated)throw new l.vHH(4013,!1);this._activatedRoute=T;const be=this.location,_n=T.snapshot.component,Pt=this.parentContexts.getOrCreateContext(this.name).children,Un=new uo(T,Pt,be.injector);this.activated=be.createComponent(_n,{index:be.length,injector:Un,environmentInjector:null!=F?F:this.environmentInjector}),this.changeDetector.markForCheck(),null===(ae=this.inputBinder)||void 0===ae||ae.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(y=S).\u0275fac=function(T){return new(T||y)},y.\u0275dir=l.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),S})();class uo{constructor(S,O,T){this.route=S,this.childContexts=O,this.parent=T}get(S,O){return S===_r?this.route:S===wr?this.childContexts:this.parent.get(S,O)}}const Ti=new l.OlP("");let Fr=(()=>{var y;class S{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(T){this.unsubscribeFromRouteData(T),this.subscribeToRouteData(T)}unsubscribeFromRouteData(T){var F;null===(F=this.outletDataSubscriptions.get(T))||void 0===F||F.unsubscribe(),this.outletDataSubscriptions.delete(T)}subscribeToRouteData(T){const{activatedRoute:F}=T,ae=(0,ve.a)([F.queryParams,F.params,F.data]).pipe((0,dt.w)(([be,bt,_n],Pt)=>(_n={...be,...bt,..._n},0===Pt?(0,le.of)(_n):Promise.resolve(_n)))).subscribe(be=>{if(!T.isActivated||!T.activatedComponentRef||T.activatedRoute!==F||null===F.component)return void this.unsubscribeFromRouteData(T);const bt=(0,l.qFp)(F.component);if(bt)for(const{templateName:_n}of bt.inputs)T.activatedComponentRef.setInput(_n,be[_n]);else this.unsubscribeFromRouteData(T)});this.outletDataSubscriptions.set(T,ae)}}return(y=S).\u0275fac=function(T){return new(T||y)},y.\u0275prov=l.Yz7({token:y,factory:y.\u0275fac}),S})();function mo(y,S,O){if(O&&y.shouldReuseRoute(S.value,O.value.snapshot)){const T=O.value;T._futureSnapshot=S.value;const F=function Go(y,S,O){return S.children.map(T=>{for(const F of O.children)if(y.shouldReuseRoute(T.value,F.value.snapshot))return mo(y,T,F);return mo(y,T)})}(y,S,O);return new x(T,F)}{if(y.shouldAttach(S.value)){const ae=y.retrieve(S.value);if(null!==ae){const be=ae.route;return be.value._futureSnapshot=S.value,be.children=S.children.map(bt=>mo(y,bt)),be}}const T=function no(y){return new _r(new pe.X(y.url),new pe.X(y.params),new pe.X(y.queryParams),new pe.X(y.fragment),new pe.X(y.data),y.outlet,y.component,y)}(S.value),F=S.children.map(ae=>mo(y,ae));return new x(T,F)}}const Yo="ngNavigationCancelingError";function ts(y,S){const{redirectTo:O,navigationBehaviorOptions:T}=Fn(S)?{redirectTo:S,navigationBehaviorOptions:void 0}:S,F=Js(!1,0,S);return F.url=O,F.navigationBehaviorOptions=T,F}function Js(y,S,O){const T=new Error("NavigationCancelingError: "+(y||""));return T[Yo]=!0,T.cancellationCode=S,O&&(T.url=O),T}function ta(y){return y&&y[Yo]}let Mo=(()=>{var y;class S{}return(y=S).\u0275fac=function(T){return new(T||y)},y.\u0275cmp=l.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(T,F){1&T&&l._UZ(0,"router-outlet")},dependencies:[go],encapsulation:2}),S})();function ji(y){const S=y.children&&y.children.map(ji),O=S?{...y,children:S}:{...y};return!O.component&&!O.loadComponent&&(S||O.loadChildren)&&O.outlet&&O.outlet!==$t&&(O.component=Mo),O}function pi(y){return y.outlet||$t}function Oo(y){var S;if(!y)return null;if(null!==(S=y.routeConfig)&&void 0!==S&&S._injector)return y.routeConfig._injector;for(let O=y.parent;O;O=O.parent){const T=O.routeConfig;if(null!=T&&T._loadedInjector)return T._loadedInjector;if(null!=T&&T._injector)return T._injector}return null}class di{constructor(S,O,T,F,ae){this.routeReuseStrategy=S,this.futureState=O,this.currState=T,this.forwardEvent=F,this.inputBindingEnabled=ae}activate(S){const O=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(O,T,S),Qs(this.futureState.root),this.activateChildRoutes(O,T,S)}deactivateChildRoutes(S,O,T){const F=Te(O);S.children.forEach(ae=>{const be=ae.value.outlet;this.deactivateRoutes(ae,F[be],T),delete F[be]}),Object.values(F).forEach(ae=>{this.deactivateRouteAndItsChildren(ae,T)})}deactivateRoutes(S,O,T){const F=S.value,ae=O?O.value:null;if(F===ae)if(F.component){const be=T.getContext(F.outlet);be&&this.deactivateChildRoutes(S,O,be.children)}else this.deactivateChildRoutes(S,O,T);else ae&&this.deactivateRouteAndItsChildren(O,T)}deactivateRouteAndItsChildren(S,O){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,O):this.deactivateRouteAndOutlet(S,O)}detachAndStoreRouteSubtree(S,O){const T=O.getContext(S.value.outlet),F=T&&S.value.component?T.children:O,ae=Te(S);for(const be of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[be],F);if(T&&T.outlet){const be=T.outlet.detach(),bt=T.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:be,route:S,contexts:bt})}}deactivateRouteAndOutlet(S,O){const T=O.getContext(S.value.outlet),F=T&&S.value.component?T.children:O,ae=Te(S);for(const be of Object.keys(ae))this.deactivateRouteAndItsChildren(ae[be],F);T&&(T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated()),T.attachRef=null,T.route=null)}activateChildRoutes(S,O,T){const F=Te(O);S.children.forEach(ae=>{this.activateRoutes(ae,F[ae.value.outlet],T),this.forwardEvent(new un(ae.value.snapshot))}),S.children.length&&this.forwardEvent(new vt(S.value.snapshot))}activateRoutes(S,O,T){const F=S.value,ae=O?O.value:null;if(Qs(F),F===ae)if(F.component){const be=T.getOrCreateContext(F.outlet);this.activateChildRoutes(S,O,be.children)}else this.activateChildRoutes(S,O,T);else if(F.component){const be=T.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const bt=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),be.children.onOutletReAttached(bt.contexts),be.attachRef=bt.componentRef,be.route=bt.route.value,be.outlet&&be.outlet.attach(bt.componentRef,bt.route.value),Qs(bt.route.value),this.activateChildRoutes(S,null,be.children)}else{const bt=Oo(F.snapshot);be.attachRef=null,be.route=F,be.injector=bt,be.outlet&&be.outlet.activateWith(F,be.injector),this.activateChildRoutes(S,null,be.children)}}else this.activateChildRoutes(S,null,T)}}class qo{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class Ko{constructor(S,O){this.component=S,this.route=O}}function Cs(y,S,O){const T=y._root;return vi(T,S?S._root:null,O,[T.value])}function hi(y,S){const O=Symbol(),T=S.get(y,O);return T===O?"function"!=typeof y||(0,l.Z0I)(y)?S.get(y):y:T}function vi(y,S,O,T,F={canDeactivateChecks:[],canActivateChecks:[]}){const ae=Te(S);return y.children.forEach(be=>{(function Si(y,S,O,T,F={canDeactivateChecks:[],canActivateChecks:[]}){const ae=y.value,be=S?S.value:null,bt=O?O.getContext(y.value.outlet):null;if(be&&ae.routeConfig===be.routeConfig){const _n=function _i(y,S,O){if("function"==typeof O)return O(y,S);switch(O){case"pathParamsChange":return!fn(y.url,S.url);case"pathParamsOrQueryParamsChange":return!fn(y.url,S.url)||!qt(y.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wo(y,S)||!qt(y.queryParams,S.queryParams);default:return!Wo(y,S)}}(be,ae,ae.routeConfig.runGuardsAndResolvers);_n?F.canActivateChecks.push(new qo(T)):(ae.data=be.data,ae._resolvedData=be._resolvedData),vi(y,S,ae.component?bt?bt.children:null:O,T,F),_n&&bt&&bt.outlet&&bt.outlet.isActivated&&F.canDeactivateChecks.push(new Ko(bt.outlet.component,be))}else be&&Zo(S,bt,F),F.canActivateChecks.push(new qo(T)),vi(y,null,ae.component?bt?bt.children:null:O,T,F)})(be,ae[be.value.outlet],O,T.concat([be.value]),F),delete ae[be.value.outlet]}),Object.entries(ae).forEach(([be,bt])=>Zo(bt,O.getContext(be),F)),F}function Zo(y,S,O){const T=Te(y),F=y.value;Object.entries(T).forEach(([ae,be])=>{Zo(be,F.component?S?S.children.getContext(ae):null:S,O)}),O.canDeactivateChecks.push(new Ko(F.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,F))}function Hi(y){return"function"==typeof y}function k(y){return y instanceof Ye.K||"EmptyError"===(null==y?void 0:y.name)}const P=Symbol("INITIAL_VALUE");function ee(){return(0,dt.w)(y=>(0,ve.a)(y.map(S=>S.pipe((0,qe.q)(1),(0,je.O)(P)))).pipe((0,ze.U)(S=>{for(const O of S)if(!0!==O){if(O===P)return P;if(!1===O||O instanceof rr)return O}return!0}),(0,Xe.h)(S=>S!==P),(0,qe.q)(1)))}function Ri(y){return(0,$e.z)((0,ke.b)(S=>{if(Fn(S))throw ts(0,S)}),(0,ze.U)(S=>!0===S))}class Qr{constructor(S){this.segmentGroup=S||null}}class co extends Error{constructor(S){super(),this.urlTree=S}}function Pi(y){return(0,we._)(new Qr(y))}class va{constructor(S,O){this.urlSerializer=S,this.urlTree=O}noMatchError(S){return new l.vHH(4002,!1)}lineralizeSegments(S,O){let T=[],F=O.root;for(;;){if(T=T.concat(F.segments),0===F.numberOfChildren)return(0,le.of)(T);if(F.numberOfChildren>1||!F.children[$t])return(0,we._)(new l.vHH(4e3,!1));F=F.children[$t]}}applyRedirectCommands(S,O,T){const F=this.applyRedirectCreateUrlTree(O,this.urlSerializer.parse(O),S,T);if(O.startsWith("/"))throw new co(F);return F}applyRedirectCreateUrlTree(S,O,T,F){const ae=this.createSegmentGroup(S,O.root,T,F);return new rr(ae,this.createQueryParams(O.queryParams,this.urlTree.queryParams),O.fragment)}createQueryParams(S,O){const T={};return Object.entries(S).forEach(([F,ae])=>{if("string"==typeof ae&&ae.startsWith(":")){const bt=ae.substring(1);T[F]=O[bt]}else T[F]=ae}),T}createSegmentGroup(S,O,T,F){const ae=this.createSegments(S,O.segments,T,F);let be={};return Object.entries(O.children).forEach(([bt,_n])=>{be[bt]=this.createSegmentGroup(S,_n,T,F)}),new xn(ae,be)}createSegments(S,O,T,F){return O.map(ae=>ae.path.startsWith(":")?this.findPosParam(S,ae,F):this.findOrReturn(ae,T))}findPosParam(S,O,T){const F=T[O.path.substring(1)];if(!F)throw new l.vHH(4001,!1);return F}findOrReturn(S,O){let T=0;for(const F of O){if(F.path===S.path)return O.splice(T),F;T++}return S}}const bs={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function io(y,S,O,T,F){const ae=_a(y,S,O);return ae.matched?(T=function ns(y,S){var O;return y.providers&&!y._injector&&(y._injector=(0,l.MMx)(y.providers,S,`Route: ${y.path}`)),null!==(O=y._injector)&&void 0!==O?O:S}(S,T),function Gr(y,S,O,T){const F=S.canMatch;if(!F||0===F.length)return(0,le.of)(!0);const ae=F.map(be=>{const bt=hi(be,y);return dn(function Fe(y){return y&&Hi(y.canMatch)}(bt)?bt.canMatch(S,O):y.runInContext(()=>bt(S,O)))});return(0,le.of)(ae).pipe(ee(),Ri())}(T,S,O).pipe((0,ze.U)(be=>!0===be?ae:{...bs}))):(0,le.of)(ae)}function _a(y,S,O){var T,F;if(""===S.path)return"full"===S.pathMatch&&(y.hasChildren()||O.length>0)?{...bs}:{matched:!0,consumedSegments:[],remainingSegments:O,parameters:{},positionalParamSegments:{}};const be=(S.matcher||At)(O,y,S);if(!be)return{...bs};const bt={};Object.entries(null!==(T=be.posParams)&&void 0!==T?T:{}).forEach(([Pt,Un])=>{bt[Pt]=Un.path});const _n=be.consumed.length>0?{...bt,...be.consumed[be.consumed.length-1].parameters}:bt;return{matched:!0,consumedSegments:be.consumed,remainingSegments:O.slice(be.consumed.length),parameters:_n,positionalParamSegments:null!==(F=be.posParams)&&void 0!==F?F:{}}}function zi(y,S,O,T){return O.length>0&&function Zi(y,S,O){return O.some(T=>ho(y,S,T)&&pi(T)!==$t)}(y,O,T)?{segmentGroup:new xn(S,Yr(T,new xn(O,y.children))),slicedSegments:[]}:0===O.length&&function Oi(y,S,O){return O.some(T=>ho(y,S,T))}(y,O,T)?{segmentGroup:new xn(y.segments,Mi(y,0,O,T,y.children)),slicedSegments:O}:{segmentGroup:new xn(y.segments,y.children),slicedSegments:O}}function Mi(y,S,O,T,F){const ae={};for(const be of T)if(ho(y,O,be)&&!F[pi(be)]){const bt=new xn([],{});ae[pi(be)]=bt}return{...F,...ae}}function Yr(y,S){const O={};O[$t]=S;for(const T of y)if(""===T.path&&pi(T)!==$t){const F=new xn([],{});O[pi(T)]=F}return O}function ho(y,S,O){return(!(y.hasChildren()||S.length>0)||"full"!==O.pathMatch)&&""===O.path}class Wi{}class is{constructor(S,O,T,F,ae,be,bt){this.injector=S,this.configLoader=O,this.rootComponentType=T,this.config=F,this.urlTree=ae,this.paramsInheritanceStrategy=be,this.urlSerializer=bt,this.applyRedirects=new va(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(S){return new l.vHH(4002,!1)}recognize(){const S=zi(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(S).pipe((0,ze.U)(O=>{const T=new Ui([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$t,this.rootComponentType,null,{}),F=new x(T,O),ae=new eo("",F),be=function mr(y,S,O=null,T=null){return Qe(It(y),S,O,T)}(T,[],this.urlTree.queryParams,this.urlTree.fragment);return be.queryParams=this.urlTree.queryParams,ae.url=this.urlSerializer.serialize(be),this.inheritParamsAndData(ae._root,null),{state:ae,tree:be}}))}match(S){return this.processSegmentGroup(this.injector,this.config,S,$t).pipe(yt(T=>{if(T instanceof co)return this.urlTree=T.urlTree,this.match(T.urlTree.root);throw T instanceof Qr?this.noMatchError(T):T}))}inheritParamsAndData(S,O){const T=S.value,F=yr(T,O,this.paramsInheritanceStrategy);T.params=Object.freeze(F.params),T.data=Object.freeze(F.data),S.children.forEach(ae=>this.inheritParamsAndData(ae,T))}processSegmentGroup(S,O,T,F){return 0===T.segments.length&&T.hasChildren()?this.processChildren(S,O,T):this.processSegment(S,O,T,T.segments,F,!0).pipe((0,ze.U)(ae=>ae instanceof x?[ae]:[]))}processChildren(S,O,T){const F=[];for(const ae of Object.keys(T.children))"primary"===ae?F.unshift(ae):F.push(ae);return(0,_e.D)(F).pipe((0,X.b)(ae=>{const be=T.children[ae],bt=function rs(y,S){const O=y.filter(T=>pi(T)===S);return O.push(...y.filter(T=>pi(T)!==S)),O}(O,ae);return this.processSegmentGroup(S,bt,be,ae)}),(0,Wt.R)((ae,be)=>(ae.push(...be),ae)),(0,cn.d)(null),function ne(y,S){const O=arguments.length>=2;return T=>T.pipe(y?(0,Xe.h)((F,ae)=>y(F,ae,T)):he.y,Xt(1),O?(0,cn.d)(S):(0,tt.T)(()=>new Ye.K))}(),(0,Se.z)(ae=>{if(null===ae)return Pi(T);const be=ra(ae);return function wo(y){y.sort((S,O)=>S.value.outlet===$t?-1:O.value.outlet===$t?1:S.value.outlet.localeCompare(O.value.outlet))}(be),(0,le.of)(be)}))}processSegment(S,O,T,F,ae,be){return(0,_e.D)(O).pipe((0,X.b)(bt=>{var _n;return this.processSegmentAgainstRoute(null!==(_n=bt._injector)&&void 0!==_n?_n:S,O,bt,T,F,ae,be).pipe(yt(Pt=>{if(Pt instanceof Qr)return(0,le.of)(null);throw Pt}))}),(0,ge.P)(bt=>!!bt),yt(bt=>{if(k(bt))return function na(y,S,O){return 0===S.length&&!y.children[O]}(T,F,ae)?(0,le.of)(new Wi):Pi(T);throw bt}))}processSegmentAgainstRoute(S,O,T,F,ae,be,bt){return function ps(y,S,O,T){return!!(pi(y)===T||T!==$t&&ho(S,O,y))&&("**"===y.path||_a(S,y,O).matched)}(T,F,ae,be)?void 0===T.redirectTo?this.matchSegmentAgainstRoute(S,F,T,ae,be):this.allowRedirects&&bt?this.expandSegmentAgainstRouteUsingRedirect(S,F,O,T,ae,be):Pi(F):Pi(F)}expandSegmentAgainstRouteUsingRedirect(S,O,T,F,ae,be){const{matched:bt,consumedSegments:_n,positionalParamSegments:Pt,remainingSegments:Un}="**"===F.path?ol(ae):_a(O,F,ae);if(!bt)return Pi(O);F.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Ar=this.applyRedirects.applyRedirectCommands(_n,F.redirectTo,Pt);return this.applyRedirects.lineralizeSegments(F,Ar).pipe((0,Se.z)(Di=>this.processSegment(S,T,O,Di.concat(Un),be,!1)))}matchSegmentAgainstRoute(S,O,T,F,ae){let be;return"**"===T.path?(be=(0,le.of)(ol(F)),O.children={}):be=io(O,T,F,S),be.pipe((0,dt.w)(bt=>{var _n;return bt.matched?(S=null!==(_n=T._injector)&&void 0!==_n?_n:S,this.getChildConfig(S,T,F).pipe((0,dt.w)(({routes:Pt})=>{var Un,Ar,Di;const li=null!==(Un=T._loadedInjector)&&void 0!==Un?Un:S,{consumedSegments:ni,remainingSegments:Qo,parameters:fi}=bt,ul=new Ui(ni,fi,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function ya(y){return y.data||{}}(T),pi(T),null!==(Ar=null!==(Di=T.component)&&void 0!==Di?Di:T._loadedComponent)&&void 0!==Ar?Ar:null,T,function Pl(y){return y.resolve||{}}(T)),{segmentGroup:Da,slicedSegments:cl}=zi(O,ni,Qo,Pt);if(0===cl.length&&Da.hasChildren())return this.processChildren(li,Pt,Da).pipe((0,ze.U)(Ca=>null===Ca?null:new x(ul,Ca)));if(0===Pt.length&&0===cl.length)return(0,le.of)(new x(ul,[]));const _u=pi(T)===ae;return this.processSegment(li,Pt,Da,cl,_u?$t:ae,!0).pipe((0,ze.U)(Ca=>new x(ul,Ca instanceof x?[Ca]:[])))}))):Pi(O)}))}getChildConfig(S,O,T){return O.children?(0,le.of)({routes:O.children,injector:S}):O.loadChildren?void 0!==O._loadedRoutes?(0,le.of)({routes:O._loadedRoutes,injector:O._loadedInjector}):function Fi(y,S,O,T){const F=S.canLoad;if(void 0===F||0===F.length)return(0,le.of)(!0);const ae=F.map(be=>{const bt=hi(be,y);return dn(function $s(y){return y&&Hi(y.canLoad)}(bt)?bt.canLoad(S,O):y.runInContext(()=>bt(S,O)))});return(0,le.of)(ae).pipe(ee(),Ri())}(S,O,T).pipe((0,Se.z)(F=>F?this.configLoader.loadChildren(S,O).pipe((0,ke.b)(ae=>{O._loadedRoutes=ae.routes,O._loadedInjector=ae.injector})):function sr(y){return(0,we._)(Js(!1,3))}())):(0,le.of)({routes:[],injector:S})}}function Xi(y){const S=y.value.routeConfig;return S&&""===S.path}function ra(y){const S=[],O=new Set;for(const T of y){if(!Xi(T)){S.push(T);continue}const F=S.find(ae=>T.value.routeConfig===ae.value.routeConfig);void 0!==F?(F.children.push(...T.children),O.add(F)):S.push(T)}for(const T of O){const F=ra(T.children);S.push(new x(T.value,F))}return S.filter(T=>!O.has(T))}function ol(y){return{matched:!0,parameters:y.length>0?Zn(y).parameters:{},consumedSegments:y,remainingSegments:[],positionalParamSegments:{}}}function hu(y,S){return(0,Se.z)(O=>{const{targetSnapshot:T,guards:{canActivateChecks:F}}=O;if(!F.length)return(0,le.of)(O);const ae=F.map(Pt=>Pt.route),be=new Set(ae),bt=C(ae[0].parent).slice(1);let _n=0;return(0,_e.D)(bt).pipe((0,X.b)(Pt=>be.has(Pt)?function j(y,S,O,T){const F=y.routeConfig,ae=y._resolve;return void 0!==(null==F?void 0:F.title)&&!lo(F)&&(ae[Cn]=F.title),function Ne(y,S,O,T){const F=An(y);if(0===F.length)return(0,le.of)({});const ae={};return(0,_e.D)(F).pipe((0,Se.z)(be=>function $(y,S,O,T){var F;const ae=null!==(F=Oo(S))&&void 0!==F?F:T,be=hi(y,ae);return dn(be.resolve?be.resolve(S,O):ae.runInContext(()=>be(S,O)))}(y[be],S,O,T).pipe((0,ge.P)(),(0,ke.b)(bt=>{ae[be]=bt}))),Xt(1),(0,Re.h)(ae),yt(be=>k(be)?xe.E:(0,we._)(be)))}(ae,y,S,T).pipe((0,ze.U)(be=>(y._resolvedData=be,y.data=yr(y,y.parent,O).resolve,null)))}(Pt,T,y,S):(Pt.data=yr(Pt,Pt.parent,y).resolve,(0,le.of)(void 0))),(0,ke.b)(()=>_n++),Xt(1),(0,Se.z)(Pt=>_n===bt.length?(0,le.of)(O):xe.E))})}function C(y){const S=y.children.map(O=>C(O)).flat();return[y,...S]}function De(y){return(0,dt.w)(S=>{const O=y(S);return O?(0,_e.D)(O).pipe((0,ze.U)(()=>S)):(0,le.of)(S)})}let Ze=(()=>{var y;class S{buildTitle(T){let F,ae=T.root;for(;void 0!==ae;){var be;F=null!==(be=this.getResolvedTitleForRoute(ae))&&void 0!==be?be:F,ae=ae.children.find(bt=>bt.outlet===$t)}return F}getResolvedTitleForRoute(T){return T.data[Cn]}}return(y=S).\u0275fac=function(T){return new(T||y)},y.\u0275prov=l.Yz7({token:y,factory:()=>(0,l.f3M)(Yt),providedIn:"root"}),S})(),Yt=(()=>{var y;class S extends Ze{constructor(T){super(),this.title=T}updateTitle(T){const F=this.buildTitle(T);void 0!==F&&this.title.setTitle(F)}}return(y=S).\u0275fac=function(T){return new(T||y)(l.LFG(en.Dx))},y.\u0275prov=l.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),S})();const yn=new l.OlP("",{providedIn:"root",factory:()=>({})}),Pr=new l.OlP("ROUTES");let xr=(()=>{var y;class S{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,le.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const F=dn(T.loadComponent()).pipe((0,ze.U)(ei),(0,ke.b)(be=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=be}),(0,Ee.x)(()=>{this.componentLoaders.delete(T)})),ae=new Ke.c(F,()=>new rt.x).pipe((0,at.x)());return this.componentLoaders.set(T,ae),ae}loadChildren(T,F){if(this.childrenLoaders.get(F))return this.childrenLoaders.get(F);if(F._loadedRoutes)return(0,le.of)({routes:F._loadedRoutes,injector:F._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(F);const be=function Jr(y,S,O,T){return dn(y.loadChildren()).pipe((0,ze.U)(ei),(0,Se.z)(F=>F instanceof l.YKP||Array.isArray(F)?(0,le.of)(F):(0,_e.D)(S.compileModuleAsync(F))),(0,ze.U)(F=>{T&&T(y);let ae,be,bt=!1;return Array.isArray(F)?(be=F,!0):(ae=F.create(O).injector,be=ae.get(Pr,[],{optional:!0,self:!0}).flat()),{routes:be.map(ji),injector:ae}}))}(F,this.compiler,T,this.onLoadEndListener).pipe((0,Ee.x)(()=>{this.childrenLoaders.delete(F)})),bt=new Ke.c(be,()=>new rt.x).pipe((0,at.x)());return this.childrenLoaders.set(F,bt),bt}}return(y=S).\u0275fac=function(T){return new(T||y)},y.\u0275prov=l.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),S})();function ei(y){return function or(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let Mr=(()=>{var y;class S{}return(y=S).\u0275fac=function(T){return new(T||y)},y.\u0275prov=l.Yz7({token:y,factory:()=>(0,l.f3M)(wi),providedIn:"root"}),S})(),wi=(()=>{var y;class S{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,F){return T}}return(y=S).\u0275fac=function(T){return new(T||y)},y.\u0275prov=l.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),S})();const Xo=new l.OlP(""),sn=new l.OlP("");function gi(y,S,O){const T=y.get(sn),F=y.get(Le.K0);return y.get(l.R0b).runOutsideAngular(()=>{if(!F.startViewTransition||T.skipNextTransition)return T.skipNextTransition=!1,Promise.resolve();let ae;const be=new Promise(Pt=>{ae=Pt}),bt=F.startViewTransition(()=>(ae(),function $i(y){return new Promise(S=>{(0,l.T8G)(S,{injector:y})})}(y))),{onViewTransitionCreated:_n}=T;return _n&&(0,l.r_H)(y,()=>_n({transition:bt,from:S,to:O})),be})}let ko=(()=>{var y;class S{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new rt.x,this.transitionAbortSubject=new rt.x,this.configLoader=(0,l.f3M)(xr),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(er),this.rootContexts=(0,l.f3M)(wr),this.location=(0,l.f3M)(Le.Ye),this.inputBindingEnabled=null!==(0,l.f3M)(Ti,{optional:!0}),this.titleStrategy=(0,l.f3M)(Ze),this.options=(0,l.f3M)(yn,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,l.f3M)(Mr),this.createViewTransition=(0,l.f3M)(Xo,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,le.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ae=>this.events.next(new et(ae)),this.configLoader.onLoadStartListener=ae=>this.events.next(new Pe(ae))}complete(){var T;null===(T=this.transitions)||void 0===T||T.complete()}handleNavigationRequest(T){var F;const ae=++this.navigationId;null===(F=this.transitions)||void 0===F||F.next({...this.transitions.value,...T,id:ae})}setupNavigations(T,F,ae){return this.transitions=new pe.X({id:0,currentUrlTree:F,currentRawUrl:F,extractedUrl:this.urlHandlingStrategy.extract(F),urlAfterRedirects:this.urlHandlingStrategy.extract(F),rawUrl:F,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ae,restoredState:null,currentSnapshot:ae.snapshot,targetSnapshot:null,currentRouterState:ae,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Xe.h)(be=>0!==be.id),(0,ze.U)(be=>({...be,extractedUrl:this.urlHandlingStrategy.extract(be.rawUrl)})),(0,dt.w)(be=>{this.currentTransition=be;let bt=!1,_n=!1;return(0,le.of)(be).pipe((0,ke.b)(Pt=>{this.currentNavigation={id:Pt.id,initialUrl:Pt.rawUrl,extractedUrl:Pt.extractedUrl,trigger:Pt.source,extras:Pt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,dt.w)(Pt=>{var Un;const Ar=!T.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),Di=null!==(Un=Pt.extras.onSameUrlNavigation)&&void 0!==Un?Un:T.onSameUrlNavigation;if(!Ar&&"reload"!==Di){const li="";return this.events.next(new Je(Pt.id,this.urlSerializer.serialize(Pt.rawUrl),li,0)),Pt.resolve(null),xe.E}if(this.urlHandlingStrategy.shouldProcessUrl(Pt.rawUrl))return(0,le.of)(Pt).pipe((0,dt.w)(li=>{var ni,Qo;const fi=null===(ni=this.transitions)||void 0===ni?void 0:ni.getValue();return this.events.next(new Ie(li.id,this.urlSerializer.serialize(li.extractedUrl),li.source,li.restoredState)),fi!==(null===(Qo=this.transitions)||void 0===Qo?void 0:Qo.getValue())?xe.E:Promise.resolve(li)}),function ws(y,S,O,T,F,ae){return(0,Se.z)(be=>function Va(y,S,O,T,F,ae,be="emptyOnly"){return new is(y,S,O,T,F,be,ae).recognize()}(y,S,O,T,be.extractedUrl,F,ae).pipe((0,ze.U)(({state:bt,tree:_n})=>({...be,targetSnapshot:bt,urlAfterRedirects:_n}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,T.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,ke.b)(li=>{be.targetSnapshot=li.targetSnapshot,be.urlAfterRedirects=li.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:li.urlAfterRedirects};const ni=new tn(li.id,this.urlSerializer.serialize(li.extractedUrl),this.urlSerializer.serialize(li.urlAfterRedirects),li.targetSnapshot);this.events.next(ni)}));if(Ar&&this.urlHandlingStrategy.shouldProcessUrl(Pt.currentRawUrl)){const{id:li,extractedUrl:ni,source:Qo,restoredState:fi,extras:ul}=Pt,Da=new Ie(li,this.urlSerializer.serialize(ni),Qo,fi);this.events.next(Da);const cl=pr(0,this.rootComponentType).snapshot;return this.currentTransition=be={...Pt,targetSnapshot:cl,urlAfterRedirects:ni,extras:{...ul,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ni,(0,le.of)(be)}{const li="";return this.events.next(new Je(Pt.id,this.urlSerializer.serialize(Pt.extractedUrl),li,1)),Pt.resolve(null),xe.E}}),(0,ke.b)(Pt=>{const Un=new Qt(Pt.id,this.urlSerializer.serialize(Pt.extractedUrl),this.urlSerializer.serialize(Pt.urlAfterRedirects),Pt.targetSnapshot);this.events.next(Un)}),(0,ze.U)(Pt=>(this.currentTransition=be={...Pt,guards:Cs(Pt.targetSnapshot,Pt.currentSnapshot,this.rootContexts)},be)),function L(y,S){return(0,Se.z)(O=>{const{targetSnapshot:T,currentSnapshot:F,guards:{canActivateChecks:ae,canDeactivateChecks:be}}=O;return 0===be.length&&0===ae.length?(0,le.of)({...O,guardsResult:!0}):function de(y,S,O,T){return(0,_e.D)(y).pipe((0,Se.z)(F=>function dr(y,S,O,T,F){const ae=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,le.of)(!0);const be=ae.map(bt=>{var _n;const Pt=null!==(_n=Oo(S))&&void 0!==_n?_n:F,Un=hi(bt,Pt);return dn(function ye(y){return y&&Hi(y.canDeactivate)}(Un)?Un.canDeactivate(y,S,O,T):Pt.runInContext(()=>Un(y,S,O,T))).pipe((0,ge.P)())});return(0,le.of)(be).pipe(ee())}(F.component,F.route,O,S,T)),(0,ge.P)(F=>!0!==F,!0))}(be,T,F,y).pipe((0,Se.z)(bt=>bt&&function fs(y){return"boolean"==typeof y}(bt)?function Ht(y,S,O,T){return(0,_e.D)(S).pipe((0,X.b)(F=>(0,ue.z)(function Tr(y,S){return null!==y&&S&&S(new Rt(y)),(0,le.of)(!0)}(F.route.parent,T),function Gt(y,S){return null!==y&&S&&S(new Zt(y)),(0,le.of)(!0)}(F.route,T),function ui(y,S,O){const T=S[S.length-1],ae=S.slice(0,S.length-1).reverse().map(be=>function Rr(y){const S=y.routeConfig?y.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:y,guards:S}:null}(be)).filter(be=>null!==be).map(be=>(0,fe.P)(()=>{const bt=be.guards.map(_n=>{var Pt;const Un=null!==(Pt=Oo(be.node))&&void 0!==Pt?Pt:O,Ar=hi(_n,Un);return dn(function G(y){return y&&Hi(y.canActivateChild)}(Ar)?Ar.canActivateChild(T,y):Un.runInContext(()=>Ar(T,y))).pipe((0,ge.P)())});return(0,le.of)(bt).pipe(ee())}));return(0,le.of)(ae).pipe(ee())}(y,F.path,O),function zr(y,S,O){const T=S.routeConfig?S.routeConfig.canActivate:null;if(!T||0===T.length)return(0,le.of)(!0);const F=T.map(ae=>(0,fe.P)(()=>{var be;const bt=null!==(be=Oo(S))&&void 0!==be?be:O,_n=hi(ae,bt);return dn(function Z(y){return y&&Hi(y.canActivate)}(_n)?_n.canActivate(S,y):bt.runInContext(()=>_n(S,y))).pipe((0,ge.P)())}));return(0,le.of)(F).pipe(ee())}(y,F.route,O))),(0,ge.P)(F=>!0!==F,!0))}(T,ae,y,S):(0,le.of)(bt)),(0,ze.U)(bt=>({...O,guardsResult:bt})))})}(this.environmentInjector,Pt=>this.events.next(Pt)),(0,ke.b)(Pt=>{if(be.guardsResult=Pt.guardsResult,Fn(Pt.guardsResult))throw ts(0,Pt.guardsResult);const Un=new tr(Pt.id,this.urlSerializer.serialize(Pt.extractedUrl),this.urlSerializer.serialize(Pt.urlAfterRedirects),Pt.targetSnapshot,!!Pt.guardsResult);this.events.next(Un)}),(0,Xe.h)(Pt=>!!Pt.guardsResult||(this.cancelNavigationTransition(Pt,"",3),!1)),De(Pt=>{if(Pt.guards.canActivateChecks.length)return(0,le.of)(Pt).pipe((0,ke.b)(Un=>{const Ar=new U(Un.id,this.urlSerializer.serialize(Un.extractedUrl),this.urlSerializer.serialize(Un.urlAfterRedirects),Un.targetSnapshot);this.events.next(Ar)}),(0,dt.w)(Un=>{let Ar=!1;return(0,le.of)(Un).pipe(hu(this.paramsInheritanceStrategy,this.environmentInjector),(0,ke.b)({next:()=>Ar=!0,complete:()=>{Ar||this.cancelNavigationTransition(Un,"",2)}}))}),(0,ke.b)(Un=>{const Ar=new J(Un.id,this.urlSerializer.serialize(Un.extractedUrl),this.urlSerializer.serialize(Un.urlAfterRedirects),Un.targetSnapshot);this.events.next(Ar)}))}),De(Pt=>{const Un=Ar=>{var Di;const li=[];null!==(Di=Ar.routeConfig)&&void 0!==Di&&Di.loadComponent&&!Ar.routeConfig._loadedComponent&&li.push(this.configLoader.loadComponent(Ar.routeConfig).pipe((0,ke.b)(ni=>{Ar.component=ni}),(0,ze.U)(()=>{})));for(const ni of Ar.children)li.push(...Un(ni));return li};return(0,ve.a)(Un(Pt.targetSnapshot.root)).pipe((0,cn.d)(),(0,qe.q)(1))}),De(()=>this.afterPreactivation()),(0,dt.w)(()=>{var Pt;const{currentSnapshot:Un,targetSnapshot:Ar}=be,Di=null===(Pt=this.createViewTransition)||void 0===Pt?void 0:Pt.call(this,this.environmentInjector,Un.root,Ar.root);return Di?(0,_e.D)(Di).pipe((0,ze.U)(()=>be)):(0,le.of)(be)}),(0,ze.U)(Pt=>{const Un=function to(y,S,O){const T=mo(y,S._root,O?O._root:void 0);return new ut(T,S)}(T.routeReuseStrategy,Pt.targetSnapshot,Pt.currentRouterState);return this.currentTransition=be={...Pt,targetRouterState:Un},this.currentNavigation.targetRouterState=Un,be}),(0,ke.b)(()=>{this.events.next(new jt)}),((y,S,O,T)=>(0,ze.U)(F=>(new di(S,F.targetRouterState,F.currentRouterState,O,T).activate(y),F)))(this.rootContexts,T.routeReuseStrategy,Pt=>this.events.next(Pt),this.inputBindingEnabled),(0,qe.q)(1),(0,ke.b)({next:Pt=>{var Un;bt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ht(Pt.id,this.urlSerializer.serialize(Pt.extractedUrl),this.urlSerializer.serialize(Pt.urlAfterRedirects))),null===(Un=this.titleStrategy)||void 0===Un||Un.updateTitle(Pt.targetRouterState.snapshot),Pt.resolve(!0)},complete:()=>{bt=!0}}),function Ft(y){return(0,lt.e)((S,O)=>{(0,Ve.Xf)(y).subscribe((0,ft.x)(O,()=>O.complete(),pt.Z)),!O.closed&&S.subscribe(O)})}(this.transitionAbortSubject.pipe((0,ke.b)(Pt=>{throw Pt}))),(0,Ee.x)(()=>{var Pt;bt||_n||this.cancelNavigationTransition(be,"",1),(null===(Pt=this.currentNavigation)||void 0===Pt?void 0:Pt.id)===be.id&&(this.currentNavigation=null)}),yt(Pt=>{if(_n=!0,ta(Pt))this.events.next(new mt(be.id,this.urlSerializer.serialize(be.extractedUrl),Pt.message,Pt.cancellationCode)),function ea(y){return ta(y)&&Fn(y.url)}(Pt)?this.events.next(new gn(Pt.url)):be.resolve(!1);else{var Un;this.events.next(new Ct(be.id,this.urlSerializer.serialize(be.extractedUrl),Pt,null!==(Un=be.targetSnapshot)&&void 0!==Un?Un:void 0));try{be.resolve(T.errorHandler(Pt))}catch(Ar){be.reject(Ar)}}return xe.E}))}))}cancelNavigationTransition(T,F,ae){const be=new mt(T.id,this.urlSerializer.serialize(T.extractedUrl),F,ae);this.events.next(be),T.resolve(!1)}isUpdatingInternalState(){var T,F;return(null===(T=this.currentTransition)||void 0===T?void 0:T.extractedUrl.toString())!==(null===(F=this.currentTransition)||void 0===F?void 0:F.currentUrlTree.toString())}isUpdatedBrowserUrl(){var T,F;return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==(null===(T=this.currentTransition)||void 0===T?void 0:T.extractedUrl.toString())&&!(null!==(F=this.currentTransition)&&void 0!==F&&F.extras.skipLocationChange)}}return(y=S).\u0275fac=function(T){return new(T||y)},y.\u0275prov=l.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),S})();function zn(y){return y!==Ae}let Jn=(()=>{var y;class S{}return(y=S).\u0275fac=function(T){return new(T||y)},y.\u0275prov=l.Yz7({token:y,factory:()=>(0,l.f3M)($n),providedIn:"root"}),S})();class ia{shouldDetach(S){return!1}store(S,O){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,O){return S.routeConfig===O.routeConfig}}let $n=(()=>{var y;class S extends ia{}return(y=S).\u0275fac=(()=>{let O;return function(F){return(O||(O=l.n5z(y)))(F||y)}})(),y.\u0275prov=l.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),S})(),Ot=(()=>{var y;class S{}return(y=S).\u0275fac=function(T){return new(T||y)},y.\u0275prov=l.Yz7({token:y,factory:()=>(0,l.f3M)(vn),providedIn:"root"}),S})(),vn=(()=>{var y;class S extends Ot{constructor(){super(...arguments),this.location=(0,l.f3M)(Le.Ye),this.urlSerializer=(0,l.f3M)(er),this.options=(0,l.f3M)(yn,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,l.f3M)(Mr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new rr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=pr(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var T,F;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(T=null===(F=this.restoredState())||void 0===F?void 0:F.\u0275routerPageId)&&void 0!==T?T:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(T){return this.location.subscribe(F=>{"popstate"===F.type&&T(F.url,F.state)})}handleRouterEvent(T,F){if(T instanceof Ie)this.stateMemento=this.createStateMemento();else if(T instanceof Je)this.rawUrlTree=F.initialUrl;else if(T instanceof tn){if("eager"===this.urlUpdateStrategy&&!F.extras.skipLocationChange){const ae=this.urlHandlingStrategy.merge(F.finalUrl,F.initialUrl);this.setBrowserUrl(ae,F)}}else T instanceof jt?(this.currentUrlTree=F.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(F.finalUrl,F.initialUrl),this.routerState=F.targetRouterState,"deferred"===this.urlUpdateStrategy&&(F.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,F))):T instanceof mt&&(3===T.code||2===T.code)?this.restoreHistory(F):T instanceof Ct?this.restoreHistory(F,!0):T instanceof ht&&(this.lastSuccessfulId=T.id,this.currentPageId=this.browserPageId)}setBrowserUrl(T,F){const ae=this.urlSerializer.serialize(T);if(this.location.isCurrentPathEqualTo(ae)||F.extras.replaceUrl){const bt={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId)};this.location.replaceState(ae,"",bt)}else{const be={...F.extras.state,...this.generateNgRouterState(F.id,this.browserPageId+1)};this.location.go(ae,"",be)}}restoreHistory(T,F=!1){if("computed"===this.canceledNavigationResolution){const be=this.currentPageId-this.browserPageId;0!==be?this.location.historyGo(be):this.currentUrlTree===T.finalUrl&&0===be&&(this.resetState(T),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){var F;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(F=T.finalUrl)&&void 0!==F?F:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(T,F){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:F}:{navigationId:T}}}return(y=S).\u0275fac=(()=>{let O;return function(F){return(O||(O=l.n5z(y)))(F||y)}})(),y.\u0275prov=l.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),S})();var Ni=function(y){return y[y.COMPLETE=0]="COMPLETE",y[y.FAILED=1]="FAILED",y[y.REDIRECTING=2]="REDIRECTING",y}(Ni||{});function yi(y,S){y.events.pipe((0,Xe.h)(O=>O instanceof ht||O instanceof mt||O instanceof Ct||O instanceof Je),(0,ze.U)(O=>O instanceof ht||O instanceof Je?Ni.COMPLETE:O instanceof mt&&(0===O.code||1===O.code)?Ni.REDIRECTING:Ni.FAILED),(0,Xe.h)(O=>O!==Ni.REDIRECTING),(0,qe.q)(1)).subscribe(()=>{S()})}function nc(y){throw y}const Ml={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let oo=(()=>{var y;class S{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var T,F;this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,l.f3M)(l.c2e),this.stateManager=(0,l.f3M)(Ot),this.options=(0,l.f3M)(yn,{optional:!0})||{},this.pendingTasks=(0,l.f3M)(l.HDt),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,l.f3M)(ko),this.urlSerializer=(0,l.f3M)(er),this.location=(0,l.f3M)(Le.Ye),this.urlHandlingStrategy=(0,l.f3M)(Mr),this._events=new rt.x,this.errorHandler=this.options.errorHandler||nc,this.navigated=!1,this.routeReuseStrategy=(0,l.f3M)(Jn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(T=null===(F=(0,l.f3M)(Pr,{optional:!0}))||void 0===F?void 0:F.flat())&&void 0!==T?T:[],this.componentInputBindingEnabled=!!(0,l.f3M)(Ti,{optional:!0}),this.eventsSubscription=new Be.w0,this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:ae=>{this.console.warn(ae)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const T=this.navigationTransitions.events.subscribe(F=>{try{const ae=this.navigationTransitions.currentTransition,be=this.navigationTransitions.currentNavigation;if(null!==ae&&null!==be)if(this.stateManager.handleRouterEvent(F,be),F instanceof mt&&0!==F.code&&1!==F.code)this.navigated=!0;else if(F instanceof ht)this.navigated=!0;else if(F instanceof gn){const bt=this.urlHandlingStrategy.merge(F.url,ae.currentRawUrl),_n={skipLocationChange:ae.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||zn(ae.source)};this.scheduleNavigation(bt,Ae,null,_n,{resolve:ae.resolve,reject:ae.reject,promise:ae.promise})}(function Ia(y){return!(y instanceof jt||y instanceof gn)})(F)&&this._events.next(F)}catch(ae){this.navigationTransitions.transitionAbortSubject.next(ae)}});this.eventsSubscription.add(T)}resetRootComponentType(T){this.routerState.root.component=T,this.navigationTransitions.rootComponentType=T}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ae,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((T,F)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(T,"popstate",F)},0)}))}navigateToSyncWithBrowser(T,F,ae){const be={replaceUrl:!0},bt=null!=ae&&ae.navigationId?ae:null;if(ae){const Pt={...ae};delete Pt.navigationId,delete Pt.\u0275routerPageId,0!==Object.keys(Pt).length&&(be.state=Pt)}const _n=this.parseUrl(T);this.scheduleNavigation(_n,F,bt,be)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(T){this.config=T.map(ji),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(T,F={}){const{relativeTo:ae,queryParams:be,fragment:bt,queryParamsHandling:_n,preserveFragment:Pt}=F,Un=Pt?this.currentUrlTree.fragment:bt;let Di,Ar=null;switch(_n){case"merge":Ar={...this.currentUrlTree.queryParams,...be};break;case"preserve":Ar=this.currentUrlTree.queryParams;break;default:Ar=be||null}null!==Ar&&(Ar=this.removeEmptyProps(Ar));try{Di=It(ae?ae.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof T[0]||!T[0].startsWith("/"))&&(T=[]),Di=this.currentUrlTree.root}return Qe(Di,T,Ar,null!=Un?Un:null)}navigateByUrl(T,F={skipLocationChange:!1}){const ae=Fn(T)?T:this.parseUrl(T),be=this.urlHandlingStrategy.merge(ae,this.rawUrlTree);return this.scheduleNavigation(be,Ae,null,F)}navigate(T,F={skipLocationChange:!1}){return function Ea(y){for(let S=0;S<y.length;S++)if(null==y[S])throw new l.vHH(4008,!1)}(T),this.navigateByUrl(this.createUrlTree(T,F),F)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){try{return this.urlSerializer.parse(T)}catch{return this.urlSerializer.parse("/")}}isActive(T,F){let ae;if(ae=!0===F?{...Ml}:!1===F?{...fo}:F,Fn(T))return Dr(this.currentUrlTree,T,ae);const be=this.parseUrl(T);return Dr(this.currentUrlTree,be,ae)}removeEmptyProps(T){return Object.keys(T).reduce((F,ae)=>{const be=T[ae];return null!=be&&(F[ae]=be),F},{})}scheduleNavigation(T,F,ae,be,bt){if(this.disposed)return Promise.resolve(!1);let _n,Pt,Un;bt?(_n=bt.resolve,Pt=bt.reject,Un=bt.promise):Un=new Promise((Di,li)=>{_n=Di,Pt=li});const Ar=this.pendingTasks.add();return yi(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Ar))}),this.navigationTransitions.handleNavigationRequest({source:F,restoredState:ae,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:T,extras:be,resolve:_n,reject:Pt,promise:Un,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Un.catch(Di=>Promise.reject(Di))}}return(y=S).\u0275fac=function(T){return new(T||y)},y.\u0275prov=l.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),S})(),vo=(()=>{var y;class S{constructor(T,F,ae,be,bt,_n){var Pt;this.router=T,this.route=F,this.tabIndexAttribute=ae,this.renderer=be,this.el=bt,this.locationStrategy=_n,this.href=null,this.commands=null,this.onChanges=new rt.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const Un=null===(Pt=bt.nativeElement.tagName)||void 0===Pt?void 0:Pt.toLowerCase();this.isAnchorElement="a"===Un||"area"===Un,this.isAnchorElement?this.subscription=T.events.subscribe(Ar=>{Ar instanceof ht&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(T){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",T)}ngOnChanges(T){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(T){null!=T?(this.commands=Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(T,F,ae,be,bt){return!!(null===this.urlTree||this.isAnchorElement&&(0!==T||F||ae||be||bt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){var T;null===(T=this.subscription)||void 0===T||T.unsubscribe()}updateHref(){var T;this.href=null!==this.urlTree&&this.locationStrategy?null===(T=this.locationStrategy)||void 0===T?void 0:T.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const F=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",F)}applyAttributeValue(T,F){const ae=this.renderer,be=this.el.nativeElement;null!==F?ae.setAttribute(be,T,F):ae.removeAttribute(be,T)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(y=S).\u0275fac=function(T){return new(T||y)(l.Y36(oo),l.Y36(_r),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Le.S$))},y.\u0275dir=l.lG2({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(T,F){1&T&&l.NdJ("click",function(be){return F.onClick(be.button,be.ctrlKey,be.shiftKey,be.altKey,be.metaKey)}),2&T&&l.uIk("target",F.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",l.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",l.VuI],replaceUrl:["replaceUrl","replaceUrl",l.VuI],routerLink:"routerLink"},standalone:!0,features:[l.Xq5,l.TTD]}),S})();class fu{}let gr=(()=>{var y;class S{preload(T,F){return F().pipe(yt(()=>(0,le.of)(null)))}}return(y=S).\u0275fac=function(T){return new(T||y)},y.\u0275prov=l.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),S})(),xl=(()=>{var y;class S{constructor(T,F,ae,be,bt){this.router=T,this.injector=ae,this.preloadingStrategy=be,this.loader=bt}setUpPreloading(){this.subscription=this.router.events.pipe((0,Xe.h)(T=>T instanceof ht),(0,X.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,F){const ae=[];for(const Pt of F){var be,bt;Pt.providers&&!Pt._injector&&(Pt._injector=(0,l.MMx)(Pt.providers,T,`Route: ${Pt.path}`));const Un=null!==(be=Pt._injector)&&void 0!==be?be:T,Ar=null!==(bt=Pt._loadedInjector)&&void 0!==bt?bt:Un;var _n;(Pt.loadChildren&&!Pt._loadedRoutes&&void 0===Pt.canLoad||Pt.loadComponent&&!Pt._loadedComponent)&&ae.push(this.preloadConfig(Un,Pt)),(Pt.children||Pt._loadedRoutes)&&ae.push(this.processRoutes(Ar,null!==(_n=Pt.children)&&void 0!==_n?_n:Pt._loadedRoutes))}return(0,_e.D)(ae).pipe((0,on.J)())}preloadConfig(T,F){return this.preloadingStrategy.preload(F,()=>{let ae;ae=F.loadChildren&&void 0===F.canLoad?this.loader.loadChildren(T,F):(0,le.of)(null);const be=ae.pipe((0,Se.z)(bt=>{var _n;return null===bt?(0,le.of)(void 0):(F._loadedRoutes=bt.routes,F._loadedInjector=bt.injector,this.processRoutes(null!==(_n=bt.injector)&&void 0!==_n?_n:T,bt.routes))}));if(F.loadComponent&&!F._loadedComponent){const bt=this.loader.loadComponent(F);return(0,_e.D)([be,bt]).pipe((0,on.J)())}return be})}}return(y=S).\u0275fac=function(T){return new(T||y)(l.LFG(oo),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(fu),l.LFG(xr))},y.\u0275prov=l.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),S})();const Ei=new l.OlP("");let ar=(()=>{var y;class S{constructor(T,F,ae,be,bt={}){this.urlSerializer=T,this.transitions=F,this.viewportScroller=ae,this.zone=be,this.options=bt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},bt.scrollPositionRestoration=bt.scrollPositionRestoration||"disabled",bt.anchorScrolling=bt.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof Ie?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof ht?(this.lastId=T.id,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.urlAfterRedirects).fragment)):T instanceof Je&&0===T.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof nn&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,F){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new nn(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))})},0)})}ngOnDestroy(){var T,F;null===(T=this.routerEventsSubscription)||void 0===T||T.unsubscribe(),null===(F=this.scrollEventsSubscription)||void 0===F||F.unsubscribe()}}return(y=S).\u0275fac=function(T){l.$Z()},y.\u0275prov=l.Yz7({token:y,factory:y.\u0275fac}),S})();function os(y,S){return{\u0275kind:y,\u0275providers:S}}function As(){const y=(0,l.f3M)(l.zs3);return S=>{var O,T;const F=y.get(l.z2F);if(S!==F.components[0])return;const ae=y.get(oo),be=y.get(ic);1===y.get(Ss)&&ae.initialNavigation(),null===(O=y.get(pu,null,l.XFs.Optional))||void 0===O||O.setUpPreloading(),null===(T=y.get(Ei,null,l.XFs.Optional))||void 0===T||T.init(),ae.resetRootComponentType(F.componentTypes[0]),be.closed||(be.next(),be.complete(),be.unsubscribe())}}const ic=new l.OlP("",{factory:()=>new rt.x}),Ss=new l.OlP("",{providedIn:"root",factory:()=>1}),pu=new l.OlP("");function Ao(y){return os(0,[{provide:pu,useExisting:xl},{provide:fu,useExisting:y}])}function al(y){return os(9,[{provide:Xo,useValue:gi},{provide:sn,useValue:{skipNextTransition:!(null==y||!y.skipInitialTransition),...y}}])}const Us=new l.OlP("ROUTER_FORROOT_GUARD"),_o=[Le.Ye,{provide:er,useClass:Nr},oo,wr,{provide:_r,useFactory:function Wr(y){return y.routerState.root},deps:[oo]},xr,[]];let Lo=(()=>{var y;class S{constructor(T){}static forRoot(T,F){return{ngModule:S,providers:[_o,[],{provide:Pr,multi:!0,useValue:T},{provide:Us,useFactory:Ta,deps:[[oo,new l.FiY,new l.tp0]]},{provide:yn,useValue:F||{}},null!=F&&F.useHash?{provide:Le.S$,useClass:Le.Do}:{provide:Le.S$,useClass:Le.b0},{provide:Ei,useFactory:()=>{const y=(0,l.f3M)(Le.EM),S=(0,l.f3M)(l.R0b),O=(0,l.f3M)(yn),T=(0,l.f3M)(ko),F=(0,l.f3M)(er);return O.scrollOffset&&y.setOffset(O.scrollOffset),new ar(F,T,y,S,O)}},null!=F&&F.preloadingStrategy?Ao(F.preloadingStrategy).\u0275providers:[],null!=F&&F.initialNavigation?ll(F):[],null!=F&&F.bindToComponentInputs?os(8,[Fr,{provide:Ti,useExisting:Fr}]).\u0275providers:[],null!=F&&F.enableViewTransitions?al().\u0275providers:[],[{provide:so,useFactory:As},{provide:l.tb,multi:!0,useExisting:so}]]}}static forChild(T){return{ngModule:S,providers:[{provide:Pr,multi:!0,useValue:T}]}}}return(y=S).\u0275fac=function(T){return new(T||y)(l.LFG(Us,8))},y.\u0275mod=l.oAB({type:y}),y.\u0275inj=l.cJS({}),S})();function Ta(y){return"guarded"}function ll(y){return["disabled"===y.initialNavigation?os(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const S=(0,l.f3M)(oo);return()=>{S.setUpLocationChangeListener()}}},{provide:Ss,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?os(2,[{provide:Ss,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:S=>{const O=S.get(Le.V_,Promise.resolve());return()=>O.then(()=>new Promise(T=>{const F=S.get(oo),ae=S.get(ic);yi(F,()=>{T(!0)}),S.get(ko).afterPreactivation=()=>(T(!0),ae.closed?(0,le.of)(void 0):ae),F.initialNavigation()}))}}]).\u0275providers:[]]}const so=new l.OlP("")},3106:(ln,nt,w)=>{"use strict";w.d(nt,{Z:()=>Ke});var l=w(9058),M=w(4537),H=w(534),Q=w(7879);class _e{constructor(Be,Le){this._delegate=Be,this.firebase=Le,(0,H._addComponent)(Be,new M.wA("app-compat",()=>this,"PUBLIC")),this.container=Be.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Be){this._delegate.automaticDataCollectionEnabled=Be}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Be=>{this._delegate.checkDestroyed(),Be()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(Be,Le=H._DEFAULT_ENTRY_NAME){var ze;this._delegate.checkDestroyed();const dt=this._delegate.container.getProvider(Be);return!dt.isInitialized()&&"EXPLICIT"===(null===(ze=dt.getComponent())||void 0===ze?void 0:ze.instantiationMode)&&dt.initialize(),dt.getImmediate({identifier:Le})}_removeServiceInstance(Be,Le=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Be).clearInstance(Le)}_addComponent(Be){(0,H._addComponent)(this._delegate,Be)}_addOrOverwriteComponent(Be){(0,H._addOrOverwriteComponent)(this._delegate,Be)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ue=function Ye(){const rt=function ve(rt){const Be={},Le={__esModule:!0,initializeApp:function qe(ge,X={}){const ke=H.initializeApp(ge,X);if((0,l.r3)(Be,ke.name))return Be[ke.name];const Ve=new rt(ke,Le);return Be[ke.name]=Ve,Ve},app:dt,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function Xe(ge){const X=ge.name,ke=X.replace("-compat","");if(H._registerComponent(ge)&&"PUBLIC"===ge.type){const Ve=(ft=dt())=>{if("function"!=typeof ft[ke])throw pe.create("invalid-app-argument",{appName:X});return ft[ke]()};void 0!==ge.serviceProps&&(0,l.ZB)(Ve,ge.serviceProps),Le[ke]=Ve,rt.prototype[ke]=function(...ft){return this._getService.bind(this,X).apply(this,ge.multipleInstances?ft:[])}}return"PUBLIC"===ge.type?Le[ke]:null},removeApp:function ze(ge){delete Be[ge]},useAsService:function Se(ge,X){return"serverAuth"===X?null:X},modularAPIs:H}};function dt(ge){if(!(0,l.r3)(Be,ge=ge||H._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:ge});return Be[ge]}return Le.default=Le,Object.defineProperty(Le,"apps",{get:function je(){return Object.keys(Be).map(ge=>Be[ge])}}),dt.App=rt,Le}(_e);return rt.INTERNAL=Object.assign(Object.assign({},rt.INTERNAL),{createFirebaseNamespace:Ye,extendNamespace:function Be(Le){(0,l.ZB)(rt,Le)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),rt}(),fe=new Q.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){fe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const rt=self.firebase.SDK_VERSION;rt&&rt.indexOf("LITE")>=0&&fe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ke=ue;!function xe(rt){(0,H.registerVersion)("@firebase/app-compat","0.2.23",rt)}()},534:(ln,nt,w)=>{"use strict";w.r(nt),w.d(nt,{FirebaseError:()=>Q.ZR,SDK_VERSION:()=>Nr,_DEFAULT_ENTRY_NAME:()=>Yn,_addComponent:()=>Cr,_addOrOverwriteComponent:()=>Mn,_apps:()=>jn,_clearComponents:()=>cr,_components:()=>br,_getProvider:()=>xn,_registerComponent:()=>rr,_removeServiceInstance:()=>Hr,deleteApp:()=>Qn,getApp:()=>ur,getApps:()=>Dn,initializeApp:()=>Ur,onLog:()=>Hn,registerVersion:()=>Vn,setLogLevel:()=>Lr});var l=w(5861),M=w(4537),H=w(7879),Q=w(9058);const _e=(It,Qe)=>Qe.some(zt=>It instanceof zt);let le,pe;const ue=new WeakMap,fe=new WeakMap,$e=new WeakMap,we=new WeakMap,xe=new WeakMap;let Be={get(It,Qe,zt){if(It instanceof IDBTransaction){if("done"===Qe)return fe.get(It);if("objectStoreNames"===Qe)return It.objectStoreNames||$e.get(It);if("store"===Qe)return zt.objectStoreNames[1]?void 0:zt.objectStore(zt.objectStoreNames[0])}return qe(It[Qe])},set:(It,Qe,zt)=>(It[Qe]=zt,!0),has:(It,Qe)=>It instanceof IDBTransaction&&("done"===Qe||"store"===Qe)||Qe in It};function dt(It){return"function"==typeof It?function ze(It){return It!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ye(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(It)?function(...Qe){return It.apply(je(this),Qe),qe(ue.get(this))}:function(...Qe){return qe(It.apply(je(this),Qe))}:function(Qe,...zt){const wn=It.call(je(this),Qe,...zt);return $e.set(wn,Qe.sort?Qe.sort():[Qe]),qe(wn)}}(It):(It instanceof IDBTransaction&&function rt(It){if(fe.has(It))return;const Qe=new Promise((zt,wn)=>{const ir=()=>{It.removeEventListener("complete",Bn),It.removeEventListener("error",Ln),It.removeEventListener("abort",Ln)},Bn=()=>{zt(),ir()},Ln=()=>{wn(It.error||new DOMException("AbortError","AbortError")),ir()};It.addEventListener("complete",Bn),It.addEventListener("error",Ln),It.addEventListener("abort",Ln)});fe.set(It,Qe)}(It),_e(It,function ve(){return le||(le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(It,Be):It)}function qe(It){if(It instanceof IDBRequest)return function Ke(It){const Qe=new Promise((zt,wn)=>{const ir=()=>{It.removeEventListener("success",Bn),It.removeEventListener("error",Ln)},Bn=()=>{zt(qe(It.result)),ir()},Ln=()=>{wn(It.error),ir()};It.addEventListener("success",Bn),It.addEventListener("error",Ln)});return Qe.then(zt=>{zt instanceof IDBCursor&&ue.set(zt,It)}).catch(()=>{}),xe.set(Qe,It),Qe}(It);if(we.has(It))return we.get(It);const Qe=dt(It);return Qe!==It&&(we.set(It,Qe),xe.set(Qe,It)),Qe}const je=It=>xe.get(It),ge=["get","getKey","getAll","getAllKeys","count"],X=["put","add","delete","clear"],ke=new Map;function Ve(It,Qe){if(!(It instanceof IDBDatabase)||Qe in It||"string"!=typeof Qe)return;if(ke.get(Qe))return ke.get(Qe);const zt=Qe.replace(/FromIndex$/,""),wn=Qe!==zt,ir=X.includes(zt);if(!(zt in(wn?IDBIndex:IDBObjectStore).prototype)||!ir&&!ge.includes(zt))return;const Bn=function(){var Ln=(0,l.Z)(function*(Kr,...st){const Ue=this.transaction(Kr,ir?"readwrite":"readonly");let wt=Ue.store;return wn&&(wt=wt.index(st.shift())),(yield Promise.all([wt[zt](...st),ir&&Ue.done]))[0]});return function(st){return Ln.apply(this,arguments)}}();return ke.set(Qe,Bn),Bn}!function Le(It){Be=It(Be)}(It=>({...It,get:(Qe,zt,wn)=>Ve(Qe,zt)||It.get(Qe,zt,wn),has:(Qe,zt)=>!!Ve(Qe,zt)||It.has(Qe,zt)}));class ft{constructor(Qe){this.container=Qe}getPlatformInfoString(){return this.container.getProviders().map(zt=>{if(function lt(It){const Qe=It.getComponent();return"VERSION"===(null==Qe?void 0:Qe.type)}(zt)){const wn=zt.getImmediate();return`${wn.library}/${wn.version}`}return null}).filter(zt=>zt).join(" ")}}const yt="@firebase/app",cn=new H.Yd("@firebase/app"),Yn="[DEFAULT]",qn={[yt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},jn=new Map,br=new Map;function Cr(It,Qe){try{It.container.addComponent(Qe)}catch(zt){cn.debug(`Component ${Qe.name} failed to register with FirebaseApp ${It.name}`,zt)}}function Mn(It,Qe){It.container.addOrOverwriteComponent(Qe)}function rr(It){const Qe=It.name;if(br.has(Qe))return cn.debug(`There were multiple attempts to register component ${Qe}.`),!1;br.set(Qe,It);for(const zt of jn.values())Cr(zt,It);return!0}function xn(It,Qe){const zt=It.container.getProvider("heartbeat").getImmediate({optional:!0});return zt&&zt.triggerHeartbeat(),It.container.getProvider(Qe)}function Hr(It,Qe,zt=Yn){xn(It,Qe).clearInstance(zt)}function cr(){br.clear()}const bn=new Q.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class er{constructor(Qe,zt,wn){this._isDeleted=!1,this._options=Object.assign({},Qe),this._config=Object.assign({},zt),this._name=zt.name,this._automaticDataCollectionEnabled=zt.automaticDataCollectionEnabled,this._container=wn,this.container.addComponent(new M.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Qe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Qe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Qe){this._isDeleted=Qe}checkDestroyed(){if(this.isDeleted)throw bn.create("app-deleted",{appName:this._name})}}const Nr="10.6.0";function Ur(It,Qe={}){let zt=It;"object"!=typeof Qe&&(Qe={name:Qe});const wn=Object.assign({name:Yn,automaticDataCollectionEnabled:!1},Qe),ir=wn.name;if("string"!=typeof ir||!ir)throw bn.create("bad-app-name",{appName:String(ir)});if(zt||(zt=(0,Q.aH)()),!zt)throw bn.create("no-options");const Bn=jn.get(ir);if(Bn){if((0,Q.vZ)(zt,Bn.options)&&(0,Q.vZ)(wn,Bn.config))return Bn;throw bn.create("duplicate-app",{appName:ir})}const Ln=new M.H0(ir);for(const st of br.values())Ln.addComponent(st);const Kr=new er(zt,wn,Ln);return jn.set(ir,Kr),Kr}function ur(It=Yn){const Qe=jn.get(It);if(!Qe&&It===Yn&&(0,Q.aH)())return Ur();if(!Qe)throw bn.create("no-app",{appName:It});return Qe}function Dn(){return Array.from(jn.values())}function Qn(It){return kr.apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(It){const Qe=It.name;jn.has(Qe)&&(jn.delete(Qe),yield Promise.all(It.container.getProviders().map(zt=>zt.delete())),It.isDeleted=!0)})).apply(this,arguments)}function Vn(It,Qe,zt){var wn;let ir=null!==(wn=qn[It])&&void 0!==wn?wn:It;zt&&(ir+=`-${zt}`);const Bn=ir.match(/\s|\//),Ln=Qe.match(/\s|\//);if(Bn||Ln){const Kr=[`Unable to register library "${ir}" with version "${Qe}":`];return Bn&&Kr.push(`library name "${ir}" contains illegal characters (whitespace or "/")`),Bn&&Ln&&Kr.push("and"),Ln&&Kr.push(`version name "${Qe}" contains illegal characters (whitespace or "/")`),void cn.warn(Kr.join(" "))}rr(new M.wA(`${ir}-version`,()=>({library:ir,version:Qe}),"VERSION"))}function Hn(It,Qe){if(null!==It&&"function"!=typeof It)throw bn.create("invalid-log-argument");(0,H.Am)(It,Qe)}function Lr(It){(0,H.Ub)(It)}const Ir="firebase-heartbeat-database",hr=1,He="firebase-heartbeat-store";let te=null;function B(){return te||(te=function Xe(It,Qe,{blocked:zt,upgrade:wn,blocking:ir,terminated:Bn}={}){const Ln=indexedDB.open(It,Qe),Kr=qe(Ln);return wn&&Ln.addEventListener("upgradeneeded",st=>{wn(qe(Ln.result),st.oldVersion,st.newVersion,qe(Ln.transaction),st)}),zt&&Ln.addEventListener("blocked",st=>zt(st.oldVersion,st.newVersion,st)),Kr.then(st=>{Bn&&st.addEventListener("close",()=>Bn()),ir&&st.addEventListener("versionchange",Ue=>ir(Ue.oldVersion,Ue.newVersion,Ue))}).catch(()=>{}),Kr}(Ir,hr,{upgrade:(It,Qe)=>{0===Qe&&It.createObjectStore(He)}}).catch(It=>{throw bn.create("idb-open",{originalErrorMessage:It.message})})),te}function b(){return(b=(0,l.Z)(function*(It){try{return yield(yield B()).transaction(He).objectStore(He).get(We(It))}catch(Qe){if(Qe instanceof Q.ZR)cn.warn(Qe.message);else{const zt=bn.create("idb-get",{originalErrorMessage:null==Qe?void 0:Qe.message});cn.warn(zt.message)}}})).apply(this,arguments)}function W(It,Qe){return ie.apply(this,arguments)}function ie(){return(ie=(0,l.Z)(function*(It,Qe){try{const wn=(yield B()).transaction(He,"readwrite");yield wn.objectStore(He).put(Qe,We(It)),yield wn.done}catch(zt){if(zt instanceof Q.ZR)cn.warn(zt.message);else{const wn=bn.create("idb-set",{originalErrorMessage:null==zt?void 0:zt.message});cn.warn(wn.message)}}})).apply(this,arguments)}function We(It){return`${It.name}!${It.options.appId}`}class Dt{constructor(Qe){this.container=Qe,this._heartbeatsCache=null;const zt=this.container.getProvider("app").getImmediate();this._storage=new rn(zt),this._heartbeatsCachePromise=this._storage.read().then(wn=>(this._heartbeatsCache=wn,wn))}triggerHeartbeat(){var Qe=this;return(0,l.Z)(function*(){var zt;const ir=Qe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Bn=gt();if(null==(null===(zt=Qe._heartbeatsCache)||void 0===zt?void 0:zt.heartbeats)&&(Qe._heartbeatsCache=yield Qe._heartbeatsCachePromise),Qe._heartbeatsCache.lastSentHeartbeatDate!==Bn&&!Qe._heartbeatsCache.heartbeats.some(Ln=>Ln.date===Bn))return Qe._heartbeatsCache.heartbeats.push({date:Bn,agent:ir}),Qe._heartbeatsCache.heartbeats=Qe._heartbeatsCache.heartbeats.filter(Ln=>{const Kr=new Date(Ln.date).valueOf();return Date.now()-Kr<=2592e6}),Qe._storage.overwrite(Qe._heartbeatsCache)})()}getHeartbeatsHeader(){var Qe=this;return(0,l.Z)(function*(){var zt;if(null===Qe._heartbeatsCache&&(yield Qe._heartbeatsCachePromise),null==(null===(zt=Qe._heartbeatsCache)||void 0===zt?void 0:zt.heartbeats)||0===Qe._heartbeatsCache.heartbeats.length)return"";const wn=gt(),{heartbeatsToSend:ir,unsentEntries:Bn}=function Mt(It,Qe=1024){const zt=[];let wn=It.slice();for(const ir of It){const Bn=zt.find(Ln=>Ln.agent===ir.agent);if(Bn){if(Bn.dates.push(ir.date),Fn(zt)>Qe){Bn.dates.pop();break}}else if(zt.push({agent:ir.agent,dates:[ir.date]}),Fn(zt)>Qe){zt.pop();break}wn=wn.slice(1)}return{heartbeatsToSend:zt,unsentEntries:wn}}(Qe._heartbeatsCache.heartbeats),Ln=(0,Q.L)(JSON.stringify({version:2,heartbeats:ir}));return Qe._heartbeatsCache.lastSentHeartbeatDate=wn,Bn.length>0?(Qe._heartbeatsCache.heartbeats=Bn,yield Qe._storage.overwrite(Qe._heartbeatsCache)):(Qe._heartbeatsCache.heartbeats=[],Qe._storage.overwrite(Qe._heartbeatsCache)),Ln})()}}function gt(){return(new Date).toISOString().substring(0,10)}class rn{constructor(Qe){this.app=Qe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,Q.hl)()&&(0,Q.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Qe=this;return(0,l.Z)(function*(){return(yield Qe._canUseIndexedDBPromise)&&(yield function R(It){return b.apply(this,arguments)}(Qe.app))||{heartbeats:[]}})()}overwrite(Qe){var zt=this;return(0,l.Z)(function*(){var wn;if(yield zt._canUseIndexedDBPromise){const Bn=yield zt.read();return W(zt.app,{lastSentHeartbeatDate:null!==(wn=Qe.lastSentHeartbeatDate)&&void 0!==wn?wn:Bn.lastSentHeartbeatDate,heartbeats:Qe.heartbeats})}})()}add(Qe){var zt=this;return(0,l.Z)(function*(){var wn;if(yield zt._canUseIndexedDBPromise){const Bn=yield zt.read();return W(zt.app,{lastSentHeartbeatDate:null!==(wn=Qe.lastSentHeartbeatDate)&&void 0!==wn?wn:Bn.lastSentHeartbeatDate,heartbeats:[...Bn.heartbeats,...Qe.heartbeats]})}})()}}function Fn(It){return(0,Q.L)(JSON.stringify({version:2,heartbeats:It})).length}!function mr(It){rr(new M.wA("platform-logger",Qe=>new ft(Qe),"PRIVATE")),rr(new M.wA("heartbeat",Qe=>new Dt(Qe),"PRIVATE")),Vn(yt,"0.9.23",It),Vn(yt,"0.9.23","esm2017"),Vn("fire-js","")}("")},4537:(ln,nt,w)=>{"use strict";w.d(nt,{H0:()=>ve,wA:()=>H});var l=w(5861),M=w(9058);class H{constructor(ue,fe,$e){this.name=ue,this.instanceFactory=fe,this.type=$e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ue){return this.instantiationMode=ue,this}setMultipleInstances(ue){return this.multipleInstances=ue,this}setServiceProps(ue){return this.serviceProps=ue,this}setInstanceCreatedCallback(ue){return this.onInstanceCreated=ue,this}}const Q="[DEFAULT]";class _e{constructor(ue,fe){this.name=ue,this.container=fe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ue){const fe=this.normalizeInstanceIdentifier(ue);if(!this.instancesDeferred.has(fe)){const $e=new M.BH;if(this.instancesDeferred.set(fe,$e),this.isInitialized(fe)||this.shouldAutoInitialize())try{const we=this.getOrInitializeService({instanceIdentifier:fe});we&&$e.resolve(we)}catch{}}return this.instancesDeferred.get(fe).promise}getImmediate(ue){var fe;const $e=this.normalizeInstanceIdentifier(null==ue?void 0:ue.identifier),we=null!==(fe=null==ue?void 0:ue.optional)&&void 0!==fe&&fe;if(!this.isInitialized($e)&&!this.shouldAutoInitialize()){if(we)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:$e})}catch(xe){if(we)return null;throw xe}}getComponent(){return this.component}setComponent(ue){if(ue.name!==this.name)throw Error(`Mismatching Component ${ue.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ue,this.shouldAutoInitialize()){if(function pe(Ye){return"EAGER"===Ye.instantiationMode}(ue))try{this.getOrInitializeService({instanceIdentifier:Q})}catch{}for(const[fe,$e]of this.instancesDeferred.entries()){const we=this.normalizeInstanceIdentifier(fe);try{const xe=this.getOrInitializeService({instanceIdentifier:we});$e.resolve(xe)}catch{}}}}clearInstance(ue=Q){this.instancesDeferred.delete(ue),this.instancesOptions.delete(ue),this.instances.delete(ue)}delete(){var ue=this;return(0,l.Z)(function*(){const fe=Array.from(ue.instances.values());yield Promise.all([...fe.filter($e=>"INTERNAL"in $e).map($e=>$e.INTERNAL.delete()),...fe.filter($e=>"_delete"in $e).map($e=>$e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ue=Q){return this.instances.has(ue)}getOptions(ue=Q){return this.instancesOptions.get(ue)||{}}initialize(ue={}){const{options:fe={}}=ue,$e=this.normalizeInstanceIdentifier(ue.instanceIdentifier);if(this.isInitialized($e))throw Error(`${this.name}(${$e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const we=this.getOrInitializeService({instanceIdentifier:$e,options:fe});for(const[xe,Ke]of this.instancesDeferred.entries())$e===this.normalizeInstanceIdentifier(xe)&&Ke.resolve(we);return we}onInit(ue,fe){var $e;const we=this.normalizeInstanceIdentifier(fe),xe=null!==($e=this.onInitCallbacks.get(we))&&void 0!==$e?$e:new Set;xe.add(ue),this.onInitCallbacks.set(we,xe);const Ke=this.instances.get(we);return Ke&&ue(Ke,we),()=>{xe.delete(ue)}}invokeOnInitCallbacks(ue,fe){const $e=this.onInitCallbacks.get(fe);if($e)for(const we of $e)try{we(ue,fe)}catch{}}getOrInitializeService({instanceIdentifier:ue,options:fe={}}){let $e=this.instances.get(ue);if(!$e&&this.component&&($e=this.component.instanceFactory(this.container,{instanceIdentifier:(Ye=ue,Ye===Q?void 0:Ye),options:fe}),this.instances.set(ue,$e),this.instancesOptions.set(ue,fe),this.invokeOnInitCallbacks($e,ue),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ue,$e)}catch{}var Ye;return $e||null}normalizeInstanceIdentifier(ue=Q){return this.component?this.component.multipleInstances?ue:Q:ue}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(ue){this.name=ue,this.providers=new Map}addComponent(ue){const fe=this.getProvider(ue.name);if(fe.isComponentSet())throw new Error(`Component ${ue.name} has already been registered with ${this.name}`);fe.setComponent(ue)}addOrOverwriteComponent(ue){this.getProvider(ue.name).isComponentSet()&&this.providers.delete(ue.name),this.addComponent(ue)}getProvider(ue){if(this.providers.has(ue))return this.providers.get(ue);const fe=new _e(ue,this);return this.providers.set(ue,fe),fe}getProviders(){return Array.from(this.providers.values())}}},7879:(ln,nt,w)=>{"use strict";w.d(nt,{Am:()=>Ye,Ub:()=>ve,Yd:()=>pe,in:()=>M});const l=[];var M=function(ue){return ue[ue.DEBUG=0]="DEBUG",ue[ue.VERBOSE=1]="VERBOSE",ue[ue.INFO=2]="INFO",ue[ue.WARN=3]="WARN",ue[ue.ERROR=4]="ERROR",ue[ue.SILENT=5]="SILENT",ue}(M||{});const H={debug:M.DEBUG,verbose:M.VERBOSE,info:M.INFO,warn:M.WARN,error:M.ERROR,silent:M.SILENT},Q=M.INFO,_e={[M.DEBUG]:"log",[M.VERBOSE]:"log",[M.INFO]:"info",[M.WARN]:"warn",[M.ERROR]:"error"},le=(ue,fe,...$e)=>{if(fe<ue.logLevel)return;const we=(new Date).toISOString(),xe=_e[fe];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${fe})`);console[xe](`[${we}]  ${ue.name}:`,...$e)};class pe{constructor(fe){this.name=fe,this._logLevel=Q,this._logHandler=le,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(fe){if(!(fe in M))throw new TypeError(`Invalid value "${fe}" assigned to \`logLevel\``);this._logLevel=fe}setLogLevel(fe){this._logLevel="string"==typeof fe?H[fe]:fe}get logHandler(){return this._logHandler}set logHandler(fe){if("function"!=typeof fe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=fe}get userLogHandler(){return this._userLogHandler}set userLogHandler(fe){this._userLogHandler=fe}debug(...fe){this._userLogHandler&&this._userLogHandler(this,M.DEBUG,...fe),this._logHandler(this,M.DEBUG,...fe)}log(...fe){this._userLogHandler&&this._userLogHandler(this,M.VERBOSE,...fe),this._logHandler(this,M.VERBOSE,...fe)}info(...fe){this._userLogHandler&&this._userLogHandler(this,M.INFO,...fe),this._logHandler(this,M.INFO,...fe)}warn(...fe){this._userLogHandler&&this._userLogHandler(this,M.WARN,...fe),this._logHandler(this,M.WARN,...fe)}error(...fe){this._userLogHandler&&this._userLogHandler(this,M.ERROR,...fe),this._logHandler(this,M.ERROR,...fe)}}function ve(ue){l.forEach(fe=>{fe.setLogLevel(ue)})}function Ye(ue,fe){for(const $e of l){let we=null;fe&&fe.level&&(we=H[fe.level]),$e.userLogHandler=null===ue?null:(xe,Ke,...rt)=>{const Be=rt.map(Le=>{if(null==Le)return null;if("string"==typeof Le)return Le;if("number"==typeof Le||"boolean"==typeof Le)return Le.toString();if(Le instanceof Error)return Le.message;try{return JSON.stringify(Le)}catch{return null}}).filter(Le=>Le).join(" ");Ke>=(null!=we?we:xe.logLevel)&&ue({level:M[Ke].toLowerCase(),message:Be,args:rt,type:xe.name})}}}},5472:(ln,nt,w)=>{"use strict";w.d(nt,{y4:()=>rr,De:()=>jn,dy:()=>br,oU:()=>wn,ki:()=>hr,O1:()=>st,d8:()=>Hn,jP:()=>Mt,UN:()=>Ue,r4:()=>mn,SH:()=>En,xs:()=>Kn,t4:()=>Zn,j:()=>ir,H:()=>Bn,bk:()=>Et,DN:()=>It,Wn:()=>wt,vk:()=>xt});var l=w(5861),M=w(9212),H=w(3213),Q=w(6814);class _e{constructor(){this.m=new Map}reset(Ae){this.m=new Map(Object.entries(Ae))}get(Ae,K){const Ie=this.m.get(Ae);return void 0!==Ie?Ie:K}getBoolean(Ae,K=!1){const Ie=this.m.get(Ae);return void 0===Ie?K:"string"==typeof Ie?"true"===Ie:!!Ie}getNumber(Ae,K){const Ie=parseFloat(this.m.get(Ae));return isNaN(Ie)?void 0!==K?K:NaN:Ie}set(Ae,K){this.m.set(Ae,K)}}const le=new _e,we=ce=>Ke(ce),Ke=(ce=window)=>{if(typeof ce>"u")return[];ce.Ionic=ce.Ionic||{};let Ae=ce.Ionic.platforms;return null==Ae&&(Ae=ce.Ionic.platforms=rt(ce),Ae.forEach(K=>ce.document.documentElement.classList.add(`plt-${K}`))),Ae},rt=ce=>{const Ae=le.get("platform");return Object.keys(Xt).filter(K=>{const Ie=null==Ae?void 0:Ae[K];return"function"==typeof Ie?Ie(ce):Xt[K](ce)})},Le=ce=>!!(Wt(ce,/iPad/i)||Wt(ce,/Macintosh/i)&&ge(ce)),qe=ce=>Wt(ce,/android|sink/i),ge=ce=>cn(ce,"(any-pointer:coarse)"),ke=ce=>Ve(ce)||ft(ce),Ve=ce=>!!(ce.cordova||ce.phonegap||ce.PhoneGap),ft=ce=>{const Ae=ce.Capacitor;return!(null==Ae||!Ae.isNative)},Wt=(ce,Ae)=>Ae.test(ce.navigator.userAgent),cn=(ce,Ae)=>{var K;return null===(K=ce.matchMedia)||void 0===K?void 0:K.call(ce,Ae).matches},Xt={ipad:Le,iphone:ce=>Wt(ce,/iPhone/i),ios:ce=>Wt(ce,/iPhone|iPod/i)||Le(ce),android:qe,phablet:ce=>{const Ae=ce.innerWidth,K=ce.innerHeight,Ie=Math.min(Ae,K),ht=Math.max(Ae,K);return Ie>390&&Ie<520&&ht>620&&ht<800},tablet:ce=>{const Ae=ce.innerWidth,K=ce.innerHeight,Ie=Math.min(Ae,K),ht=Math.max(Ae,K);return Le(ce)||(ce=>qe(ce)&&!Wt(ce,/mobile/i))(ce)||Ie>460&&Ie<820&&ht>780&&ht<1400},cordova:Ve,capacitor:ft,electron:ce=>Wt(ce,/electron/i),pwa:ce=>{var Ae;return!!(null!==(Ae=ce.matchMedia)&&void 0!==Ae&&Ae.call(ce,"(display-mode: standalone)").matches||ce.navigator.standalone)},mobile:ge,mobileweb:ce=>ge(ce)&&!ke(ce),desktop:ce=>!ge(ce),hybrid:ke};var Re=w(191),Ee=w(3630),at=w(8645),pt=w(2438),Ft=w(5619),on=w(2572),en=w(2096),$t=w(7582),Cn=w(2181),Vt=w(4664),St=w(3997),At=w(95);const kt=["tabsInner"];let Zn=(()=>{class ce{constructor(K,Ie){this.doc=K,this.backButton=new at.x,this.keyboardDidShow=new at.x,this.keyboardDidHide=new at.x,this.pause=new at.x,this.resume=new at.x,this.resize=new at.x,Ie.run(()=>{var ht;let mt;this.win=K.defaultView,this.backButton.subscribeWithPriority=function(Je,Ct){return this.subscribe(tn=>tn.register(Je,Qt=>Ie.run(()=>Ct(Qt))))},kn(this.pause,K,"pause",Ie),kn(this.resume,K,"resume",Ie),kn(this.backButton,K,"ionBackButton",Ie),kn(this.resize,this.win,"resize",Ie),kn(this.keyboardDidShow,this.win,"ionKeyboardDidShow",Ie),kn(this.keyboardDidHide,this.win,"ionKeyboardDidHide",Ie),this._readyPromise=new Promise(Je=>{mt=Je}),null!==(ht=this.win)&&void 0!==ht&&ht.cordova?K.addEventListener("deviceready",()=>{mt("cordova")},{once:!0}):mt("dom")})}is(K){return((ce,Ae)=>("string"==typeof ce&&(Ae=ce,ce=void 0),we(ce).includes(Ae)))(this.win,K)}platforms(){return we(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(K){return dn(this.win.location.href,K)}isLandscape(){return!this.isPortrait()}isPortrait(){var K,Ie;return null===(K=(Ie=this.win).matchMedia)||void 0===K?void 0:K.call(Ie,"(orientation: portrait)").matches}testUserAgent(K){const Ie=this.win.navigator;return!!(null!=Ie&&Ie.userAgent&&Ie.userAgent.indexOf(K)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return ce.\u0275fac=function(K){return new(K||ce)(M.LFG(Q.K0),M.LFG(M.R0b))},ce.\u0275prov=M.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();const dn=(ce,Ae)=>{Ae=Ae.replace(/[[\]\\]/g,"\\$&");const Ie=new RegExp("[\\?&]"+Ae+"=([^&#]*)").exec(ce);return Ie?decodeURIComponent(Ie[1].replace(/\+/g," ")):null},kn=(ce,Ae,K,Ie)=>{Ae&&Ae.addEventListener(K,ht=>{Ie.run(()=>{ce.next(null!=ht?ht.detail:void 0)})})};let En=(()=>{class ce{constructor(K,Ie,ht,mt){this.location=Ie,this.serializer=ht,this.router=mt,this.direction=Yn,this.animated=qn,this.guessDirection="forward",this.lastNavId=-1,mt&&mt.events.subscribe(Je=>{if(Je instanceof H.OD){const Ct=Je.restoredState?Je.restoredState.navigationId:Je.id;this.guessDirection=Ct<this.lastNavId?"back":"forward",this.guessAnimation=Je.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?Je.id:Ct}}),K.backButton.subscribeWithPriority(0,Je=>{this.pop(),Je()})}navigateForward(K,Ie={}){return this.setDirection("forward",Ie.animated,Ie.animationDirection,Ie.animation),this.navigate(K,Ie)}navigateBack(K,Ie={}){return this.setDirection("back",Ie.animated,Ie.animationDirection,Ie.animation),this.navigate(K,Ie)}navigateRoot(K,Ie={}){return this.setDirection("root",Ie.animated,Ie.animationDirection,Ie.animation),this.navigate(K,Ie)}back(K={animated:!0,animationDirection:"back"}){return this.setDirection("back",K.animated,K.animationDirection,K.animation),this.location.back()}pop(){var K=this;return(0,l.Z)(function*(){let Ie=K.topOutlet;for(;Ie;){if(yield Ie.pop())return!0;Ie=Ie.parentOutlet}return!1})()}setDirection(K,Ie,ht,mt){this.direction=K,this.animated=Dr(K,Ie,ht),this.animationBuilder=mt}setTopOutlet(K){this.topOutlet=K}consumeTransition(){let Ie,K="root";const ht=this.animationBuilder;return"auto"===this.direction?(K=this.guessDirection,Ie=this.guessAnimation):(Ie=this.animated,K=this.direction),this.direction=Yn,this.animated=qn,this.animationBuilder=void 0,{direction:K,animation:Ie,animationBuilder:ht}}navigate(K,Ie){if(Array.isArray(K))return this.router.navigate(K,Ie);{const ht=this.serializer.parse(K.toString());return void 0!==Ie.queryParams&&(ht.queryParams={...Ie.queryParams}),void 0!==Ie.fragment&&(ht.fragment=Ie.fragment),this.router.navigateByUrl(ht,Ie)}}}return ce.\u0275fac=function(K){return new(K||ce)(M.LFG(Zn),M.LFG(Q.Ye),M.LFG(H.Hx),M.LFG(H.F0,8))},ce.\u0275prov=M.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();const Dr=(ce,Ae,K)=>{if(!1!==Ae){if(void 0!==K)return K;if("forward"===ce||"back"===ce)return ce;if("root"===ce&&!0===Ae)return"forward"}},Yn="auto",qn=void 0;let jn=(()=>{class ce{get(K,Ie){const ht=Cr();return ht?ht.get(K,Ie):null}getBoolean(K,Ie){const ht=Cr();return!!ht&&ht.getBoolean(K,Ie)}getNumber(K,Ie){const ht=Cr();return ht?ht.getNumber(K,Ie):0}}return ce.\u0275fac=function(K){return new(K||ce)},ce.\u0275prov=M.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})();const br=new M.OlP("USERCONFIG"),Cr=()=>{if(typeof window<"u"){const ce=window.Ionic;if(null!=ce&&ce.config)return ce.config}return null};class Mn{constructor(Ae={}){this.data=Ae}get(Ae){return this.data[Ae]}}let rr=(()=>{class ce{constructor(){this.zone=(0,M.f3M)(M.R0b),this.applicationRef=(0,M.f3M)(M.z2F)}create(K,Ie,ht){return new xn(K,Ie,this.applicationRef,this.zone,ht)}}return ce.\u0275fac=function(K){return new(K||ce)},ce.\u0275prov=M.Yz7({token:ce,factory:ce.\u0275fac}),ce})();class xn{constructor(Ae,K,Ie,ht,mt){this.environmentInjector=Ae,this.injector=K,this.applicationRef=Ie,this.zone=ht,this.elementReferenceKey=mt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(Ae,K,Ie,ht){return this.zone.run(()=>new Promise(mt=>{const Je={...Ie};void 0!==this.elementReferenceKey&&(Je[this.elementReferenceKey]=Ae),mt(Hr(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,Ae,K,Je,ht,this.elementReferenceKey))}))}removeViewFromDom(Ae,K){return this.zone.run(()=>new Promise(Ie=>{const ht=this.elRefMap.get(K);if(ht){ht.destroy(),this.elRefMap.delete(K);const mt=this.elEventsMap.get(K);mt&&(mt(),this.elEventsMap.delete(K))}Ie()}))}}const Hr=(ce,Ae,K,Ie,ht,mt,Je,Ct,tn,Qt,tr)=>{const U=M.zs3.create({providers:er(tn),parent:K}),J=(0,M.LMc)(Ct,{environmentInjector:Ae,elementInjector:U}),Pe=J.instance,et=J.location.nativeElement;if(tn&&(tr&&void 0!==Pe[tr]&&console.error(`[Ionic Error]: ${tr} is a reserved property when using ${Je.tagName.toLowerCase()}. Rename or remove the "${tr}" property from ${Ct.name}.`),Object.assign(Pe,tn)),Qt)for(const vt of Qt)et.classList.add(vt);const Rt=fn(ce,Pe,et);return Je.appendChild(et),Ie.attachView(J.hostView),ht.set(et,J),mt.set(et,Rt),et},cr=[Re.L,Re.a,Re.b,Re.c,Re.d],fn=(ce,Ae,K)=>ce.run(()=>{const Ie=cr.filter(ht=>"function"==typeof Ae[ht]).map(ht=>{const mt=Je=>Ae[ht](Je.detail);return K.addEventListener(ht,mt),()=>K.removeEventListener(ht,mt)});return()=>Ie.forEach(ht=>ht())}),bn=new M.OlP("NavParamsToken"),er=ce=>[{provide:bn,useValue:ce},{provide:Mn,useFactory:Nr,deps:[bn]}],Nr=ce=>new Mn(ce),Ur=(ce,Ae)=>{const K=ce.prototype;Ae.forEach(Ie=>{Object.defineProperty(K,Ie,{get(){return this.el[Ie]},set(ht){this.z.runOutsideAngular(()=>this.el[Ie]=ht)}})})},ur=(ce,Ae)=>{const K=ce.prototype;Ae.forEach(Ie=>{K[Ie]=function(){const ht=arguments;return this.z.runOutsideAngular(()=>this.el[Ie].apply(this.el,ht))}})},Dn=(ce,Ae,K)=>{K.forEach(Ie=>ce[Ie]=(0,pt.R)(Ae,Ie))};function Qn(ce){return function(K){const{defineCustomElementFn:Ie,inputs:ht,methods:mt}=ce;return void 0!==Ie&&Ie(),ht&&Ur(K,ht),mt&&ur(K,mt),K}}const kr=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Vn=["present","dismiss","onDidDismiss","onWillDismiss"];let Hn=(()=>{let ce=class{constructor(K,Ie,ht){this.z=ht,this.isCmpOpen=!1,this.el=Ie.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,K.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,K.detectChanges()}),Dn(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return ce.\u0275fac=function(K){return new(K||ce)(M.Y36(M.sBO),M.Y36(M.SBq),M.Y36(M.R0b))},ce.\u0275dir=M.lG2({type:ce,selectors:[["ion-popover"]],contentQueries:function(K,Ie,ht){if(1&K&&M.Suo(ht,M.Rgc,5),2&K){let mt;M.iGM(mt=M.CRH())&&(Ie.template=mt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}}),ce=(0,$t.gn)([Qn({inputs:kr,methods:Vn})],ce),ce})();const Lr=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Ir=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let hr=(()=>{let ce=class{constructor(K,Ie,ht){this.z=ht,this.isCmpOpen=!1,this.el=Ie.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,K.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,K.detectChanges()}),Dn(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}};return ce.\u0275fac=function(K){return new(K||ce)(M.Y36(M.sBO),M.Y36(M.SBq),M.Y36(M.R0b))},ce.\u0275dir=M.lG2({type:ce,selectors:[["ion-modal"]],contentQueries:function(K,Ie,ht){if(1&K&&M.Suo(ht,M.Rgc,5),2&K){let mt;M.iGM(mt=M.CRH())&&(Ie.template=mt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}}),ce=(0,$t.gn)([Qn({inputs:Lr,methods:Ir})],ce),ce})();const te=(ce,Ae)=>((ce=ce.filter(K=>K.stackId!==Ae.stackId)).push(Ae),ce),b=(ce,Ae)=>{const K=ce.createUrlTree(["."],{relativeTo:Ae});return ce.serializeUrl(K)},W=(ce,Ae)=>!Ae||ce.stackId!==Ae.stackId,ie=(ce,Ae)=>{if(!ce)return;const K=We(Ae);for(let Ie=0;Ie<K.length;Ie++){if(Ie>=ce.length)return K[Ie];if(K[Ie]!==ce[Ie])return}},We=ce=>ce.split("/").map(Ae=>Ae.trim()).filter(Ae=>""!==Ae),Ce=ce=>{ce&&(ce.ref.destroy(),ce.unlistenEvents())};class Ge{constructor(Ae,K,Ie,ht,mt,Je){this.containerEl=K,this.router=Ie,this.navCtrl=ht,this.zone=mt,this.location=Je,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==Ae?We(Ae):void 0}createView(Ae,K){var Ie;const ht=b(this.router,K),mt=null==Ae||null===(Ie=Ae.location)||void 0===Ie?void 0:Ie.nativeElement,Je=fn(this.zone,Ae.instance,mt);return{id:this.nextId++,stackId:ie(this.tabsPrefix,ht),unlistenEvents:Je,element:mt,ref:Ae,url:ht}}getExistingView(Ae){const K=b(this.router,Ae),Ie=this.views.find(ht=>ht.url===K);return Ie&&Ie.ref.changeDetectorRef.reattach(),Ie}setActive(Ae){var K,Ie;const ht=this.navCtrl.consumeTransition();let{direction:mt,animation:Je,animationBuilder:Ct}=ht;const tn=this.activeView,Qt=W(Ae,tn);Qt&&(mt="back",Je=void 0);const tr=this.views.slice();let U;const J=this.router;J.getCurrentNavigation?U=J.getCurrentNavigation():null!==(K=J.navigations)&&void 0!==K&&K.value&&(U=J.navigations.value),null!==(Ie=U)&&void 0!==Ie&&null!==(Ie=Ie.extras)&&void 0!==Ie&&Ie.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Pe=this.views.includes(Ae),et=this.insertView(Ae,mt);Pe||Ae.ref.changeDetectorRef.detectChanges();const Rt=Ae.animationBuilder;return void 0===Ct&&"back"===mt&&!Qt&&void 0!==Rt&&(Ct=Rt),tn&&(tn.animationBuilder=Ct),this.zone.runOutsideAngular(()=>this.wait(()=>(tn&&tn.ref.changeDetectorRef.detach(),Ae.ref.changeDetectorRef.reattach(),this.transition(Ae,tn,Je,this.canGoBack(1),!1,Ct).then(()=>Dt(Ae,et,tr,this.location,this.zone)).then(()=>({enteringView:Ae,direction:mt,animation:Je,tabSwitch:Qt})))))}canGoBack(Ae,K=this.getActiveStackId()){return this.getStack(K).length>Ae}pop(Ae,K=this.getActiveStackId()){return this.zone.run(()=>{const Ie=this.getStack(K);if(Ie.length<=Ae)return Promise.resolve(!1);const ht=Ie[Ie.length-Ae-1];let mt=ht.url;const Je=ht.savedData;if(Je){var Ct;const Qt=Je.get("primary");null!=Qt&&null!==(Ct=Qt.route)&&void 0!==Ct&&null!==(Ct=Ct._routerState)&&void 0!==Ct&&Ct.snapshot.url&&(mt=Qt.route._routerState.snapshot.url)}const{animationBuilder:tn}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(mt,{...ht.savedExtras,animation:tn}).then(()=>!0)})}startBackTransition(){const Ae=this.activeView;if(Ae){const K=this.getStack(Ae.stackId),Ie=K[K.length-2],ht=Ie.animationBuilder;return this.wait(()=>this.transition(Ie,Ae,"back",this.canGoBack(2),!0,ht))}return Promise.resolve()}endBackTransition(Ae){Ae?(this.skipTransition=!0,this.pop(1)):this.activeView&&gt(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(Ae){const K=this.getStack(Ae);return K.length>0?K[K.length-1]:void 0}getRootUrl(Ae){const K=this.getStack(Ae);return K.length>0?K[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Ce),this.activeView=void 0,this.views=[]}getStack(Ae){return this.views.filter(K=>K.stackId===Ae)}insertView(Ae,K){return this.activeView=Ae,this.views=((ce,Ae,K)=>"root"===K?te(ce,Ae):"forward"===K?((ce,Ae)=>(ce.indexOf(Ae)>=0?ce=ce.filter(Ie=>Ie.stackId!==Ae.stackId||Ie.id<=Ae.id):ce.push(Ae),ce))(ce,Ae):((ce,Ae)=>ce.indexOf(Ae)>=0?ce.filter(Ie=>Ie.stackId!==Ae.stackId||Ie.id<=Ae.id):te(ce,Ae))(ce,Ae))(this.views,Ae,K),this.views.slice()}transition(Ae,K,Ie,ht,mt,Je){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(K===Ae)return Promise.resolve(!1);const Ct=Ae?Ae.element:void 0,tn=K?K.element:void 0,Qt=this.containerEl;return Ct&&Ct!==tn&&(Ct.classList.add("ion-page"),Ct.classList.add("ion-page-invisible"),Ct.parentElement!==Qt&&Qt.appendChild(Ct),Qt.commit)?Qt.commit(Ct,tn,{duration:void 0===Ie?0:void 0,direction:Ie,showGoBack:ht,progressAnimation:mt,animationBuilder:Je}):Promise.resolve(!1)}wait(Ae){var K=this;return(0,l.Z)(function*(){void 0!==K.runningTask&&(yield K.runningTask,K.runningTask=void 0);const Ie=K.runningTask=Ae();return Ie.finally(()=>K.runningTask=void 0),Ie})()}}const Dt=(ce,Ae,K,Ie,ht)=>"function"==typeof requestAnimationFrame?new Promise(mt=>{requestAnimationFrame(()=>{gt(ce,Ae,K,Ie,ht),mt()})}):Promise.resolve(),gt=(ce,Ae,K,Ie,ht)=>{ht.run(()=>K.filter(mt=>!Ae.includes(mt)).forEach(Ce)),Ae.forEach(mt=>{const Ct=Ie.path().split("?")[0].split("#")[0];if(mt!==ce&&mt.url!==Ct){const tn=mt.element;tn.setAttribute("aria-hidden","true"),tn.classList.add("ion-page-hidden"),mt.ref.changeDetectorRef.detach()}})};let Mt=(()=>{class ce{constructor(K,Ie,ht,mt,Je,Ct,tn,Qt){this.parentOutlet=Qt,this.activatedView=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Ft.X(null),this.activated=null,this._activatedRoute=null,this.name=H.eC,this.stackWillChange=new M.vpe,this.stackDidChange=new M.vpe,this.activateEvents=new M.vpe,this.deactivateEvents=new M.vpe,this.parentContexts=(0,M.f3M)(H.y6),this.location=(0,M.f3M)(M.s_b),this.environmentInjector=(0,M.f3M)(M.lqb),this.inputBinder=(0,M.f3M)(Fn,{optional:!0}),this.supportsBindingToComponentInputs=!0,this.config=(0,M.f3M)(jn),this.navCtrl=(0,M.f3M)(En),this.nativeEl=mt.nativeElement,this.name=K||H.eC,this.tabsPrefix="true"===Ie?b(Je,tn):void 0,this.stackCtrl=new Ge(this.tabsPrefix,this.nativeEl,Je,this.navCtrl,Ct,ht),this.parentContexts.onChildOutletCreated(this.name,this)}get activatedComponentRef(){return this.activated}set animation(K){this.nativeEl.animation=K}set animated(K){this.nativeEl.animated=K}set swipeGesture(K){this._swipeGesture=K,this.nativeEl.swipeHandler=K?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:Ie=>this.stackCtrl.endBackTransition(Ie)}:void 0}ngOnDestroy(){var K;this.stackCtrl.destroy(),null===(K=this.inputBinder)||void 0===K||K.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const K=this.getContext();null!=K&&K.route&&this.activateWith(K.route,K.injector)}new Promise(K=>(0,Ee.c)(this.nativeEl,K)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(K,Ie){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const Ie=this.getContext();this.activatedView.savedData=new Map(Ie.children.contexts);const ht=this.activatedView.savedData.get("primary");if(ht&&Ie.route&&(ht.route={...Ie.route}),this.activatedView.savedExtras={},Ie.route){const mt=Ie.route.snapshot;this.activatedView.savedExtras.queryParams=mt.queryParams,this.activatedView.savedExtras.fragment=mt.fragment}}const K=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(K)}}activateWith(K,Ie){var ht;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=K;let mt,Je=this.stackCtrl.getExistingView(K);if(Je){mt=this.activated=Je.ref;const Qt=Je.savedData;Qt&&(this.getContext().children.contexts=Qt),this.updateActivatedRouteProxy(mt.instance,K)}else{var Ct;const Qt=K._futureSnapshot,tr=this.parentContexts.getOrCreateContext(this.name).children,U=new Ft.X(null),J=this.createActivatedRouteProxy(U,K),Pe=new rn(J,tr,this.location.injector),et=null!==(Ct=Qt.routeConfig.component)&&void 0!==Ct?Ct:Qt.component;mt=this.activated=this.location.createComponent(et,{index:this.location.length,injector:Pe,environmentInjector:null!=Ie?Ie:this.environmentInjector}),U.next(mt.instance),Je=this.stackCtrl.createView(this.activated,K),this.proxyMap.set(mt.instance,J),this.currentActivatedRoute$.next({component:mt.instance,activatedRoute:K})}null===(ht=this.inputBinder)||void 0===ht||ht.bindActivatedRouteToOutletComponent(this),this.activatedView=Je,this.navCtrl.setTopOutlet(this);const tn=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:Je,tabSwitch:W(Je,tn)}),this.stackCtrl.setActive(Je).then(Qt=>{this.activateEvents.emit(mt.instance),this.stackDidChange.emit(Qt)})}canGoBack(K=1,Ie){return this.stackCtrl.canGoBack(K,Ie)}pop(K=1,Ie){return this.stackCtrl.pop(K,Ie)}getLastUrl(K){const Ie=this.stackCtrl.getLastUrl(K);return Ie?Ie.url:void 0}getLastRouteView(K){return this.stackCtrl.getLastUrl(K)}getRootView(K){return this.stackCtrl.getRootUrl(K)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(K,Ie){const ht=new H.gz;return ht._futureSnapshot=Ie._futureSnapshot,ht._routerState=Ie._routerState,ht.snapshot=Ie.snapshot,ht.outlet=Ie.outlet,ht.component=Ie.component,ht._paramMap=this.proxyObservable(K,"paramMap"),ht._queryParamMap=this.proxyObservable(K,"queryParamMap"),ht.url=this.proxyObservable(K,"url"),ht.params=this.proxyObservable(K,"params"),ht.queryParams=this.proxyObservable(K,"queryParams"),ht.fragment=this.proxyObservable(K,"fragment"),ht.data=this.proxyObservable(K,"data"),ht}proxyObservable(K,Ie){return K.pipe((0,Cn.h)(ht=>!!ht),(0,Vt.w)(ht=>this.currentActivatedRoute$.pipe((0,Cn.h)(mt=>null!==mt&&mt.component===ht),(0,Vt.w)(mt=>mt&&mt.activatedRoute[Ie]),(0,St.x)())))}updateActivatedRouteProxy(K,Ie){const ht=this.proxyMap.get(K);if(!ht)throw new Error("Could not find activated route proxy for view");ht._futureSnapshot=Ie._futureSnapshot,ht._routerState=Ie._routerState,ht.snapshot=Ie.snapshot,ht.outlet=Ie.outlet,ht.component=Ie.component,this.currentActivatedRoute$.next({component:K,activatedRoute:Ie})}}return ce.\u0275fac=function(K){return new(K||ce)(M.$8M("name"),M.$8M("tabs"),M.Y36(Q.Ye),M.Y36(M.SBq),M.Y36(H.F0),M.Y36(M.R0b),M.Y36(H.gz),M.Y36(ce,12))},ce.\u0275dir=M.lG2({type:ce,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),ce})();class rn{constructor(Ae,K,Ie){this.route=Ae,this.childContexts=K,this.parent=Ie}get(Ae,K){return Ae===H.gz?this.route:Ae===H.y6?this.childContexts:this.parent.get(Ae,K)}}const Fn=new M.OlP("");let mr=(()=>{class ce{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(K){this.unsubscribeFromRouteData(K),this.subscribeToRouteData(K)}unsubscribeFromRouteData(K){var Ie;null===(Ie=this.outletDataSubscriptions.get(K))||void 0===Ie||Ie.unsubscribe(),this.outletDataSubscriptions.delete(K)}subscribeToRouteData(K){const{activatedRoute:Ie}=K,ht=(0,on.a)([Ie.queryParams,Ie.params,Ie.data]).pipe((0,Vt.w)(([mt,Je,Ct],tn)=>(Ct={...mt,...Je,...Ct},0===tn?(0,en.of)(Ct):Promise.resolve(Ct)))).subscribe(mt=>{if(!K.isActivated||!K.activatedComponentRef||K.activatedRoute!==Ie||null===Ie.component)return void this.unsubscribeFromRouteData(K);const Je=(0,M.qFp)(Ie.component);if(Je)for(const{templateName:Ct}of Je.inputs)K.activatedComponentRef.setInput(Ct,mt[Ct]);else this.unsubscribeFromRouteData(K)});this.outletDataSubscriptions.set(K,ht)}}return ce.\u0275fac=function(K){return new(K||ce)},ce.\u0275prov=M.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const It=()=>({provide:Fn,useFactory:Qe,deps:[H.F0]});function Qe(ce){return null!=ce&&ce.componentInputBindingEnabled?new mr:null}const zt=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let wn=(()=>{let ce=class{constructor(K,Ie,ht,mt,Je,Ct){this.routerOutlet=K,this.navCtrl=Ie,this.config=ht,this.r=mt,this.z=Je,Ct.detach(),this.el=this.r.nativeElement}onClick(K){var Ie;const ht=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(Ie=this.routerOutlet)&&void 0!==Ie&&Ie.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),K.preventDefault()):null!=ht&&(this.navCtrl.navigateBack(ht,{animation:this.routerAnimation}),K.preventDefault())}};return ce.\u0275fac=function(K){return new(K||ce)(M.Y36(Mt,8),M.Y36(En),M.Y36(jn),M.Y36(M.SBq),M.Y36(M.R0b),M.Y36(M.sBO))},ce.\u0275dir=M.lG2({type:ce,hostBindings:function(K,Ie){1&K&&M.NdJ("click",function(mt){return Ie.onClick(mt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}}),ce=(0,$t.gn)([Qn({inputs:zt})],ce),ce})(),ir=(()=>{class ce{constructor(K,Ie,ht,mt,Je){this.locationStrategy=K,this.navCtrl=Ie,this.elementRef=ht,this.router=mt,this.routerLink=Je,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var K;if(null!==(K=this.routerLink)&&void 0!==K&&K.urlTree){const Ie=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=Ie}}onClick(K){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),K.preventDefault()}}return ce.\u0275fac=function(K){return new(K||ce)(M.Y36(Q.S$),M.Y36(En),M.Y36(M.SBq),M.Y36(H.F0),M.Y36(H.rH,8))},ce.\u0275dir=M.lG2({type:ce,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(K,Ie){1&K&&M.NdJ("click",function(mt){return Ie.onClick(mt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[M.TTD]}),ce})(),Bn=(()=>{class ce{constructor(K,Ie,ht,mt,Je){this.locationStrategy=K,this.navCtrl=Ie,this.elementRef=ht,this.router=mt,this.routerLink=Je,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var K;if(null!==(K=this.routerLink)&&void 0!==K&&K.urlTree){const Ie=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=Ie}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return ce.\u0275fac=function(K){return new(K||ce)(M.Y36(Q.S$),M.Y36(En),M.Y36(M.SBq),M.Y36(H.F0),M.Y36(H.rH,8))},ce.\u0275dir=M.lG2({type:ce,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(K,Ie){1&K&&M.NdJ("click",function(){return Ie.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[M.TTD]}),ce})();const Ln=["animated","animation","root","rootParams","swipeGesture"],Kr=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let st=(()=>{let ce=class{constructor(K,Ie,ht,mt,Je,Ct){this.z=Je,Ct.detach(),this.el=K.nativeElement,K.nativeElement.delegate=mt.create(Ie,ht),Dn(this,this.el,["ionNavDidChange","ionNavWillChange"])}};return ce.\u0275fac=function(K){return new(K||ce)(M.Y36(M.SBq),M.Y36(M.lqb),M.Y36(M.zs3),M.Y36(rr),M.Y36(M.R0b),M.Y36(M.sBO))},ce.\u0275dir=M.lG2({type:ce,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}}),ce=(0,$t.gn)([Qn({inputs:Ln,methods:Kr})],ce),ce})(),Ue=(()=>{class ce{constructor(K){this.navCtrl=K,this.ionTabsWillChange=new M.vpe,this.ionTabsDidChange=new M.vpe,this.tabBarSlot="bottom"}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:K,tabSwitch:Ie}){const ht=K.stackId;Ie&&void 0!==ht&&this.ionTabsWillChange.emit({tab:ht})}onStackDidChange({enteringView:K,tabSwitch:Ie}){const ht=K.stackId;Ie&&void 0!==ht&&(this.tabBar&&(this.tabBar.selectedTab=ht),this.ionTabsDidChange.emit({tab:ht}))}select(K){const Ie="string"==typeof K,ht=Ie?K:K.detail.tab,mt=this.outlet.getActiveStackId()===ht,Je=`${this.outlet.tabsPrefix}/${ht}`;if(Ie||K.stopPropagation(),mt){const Ct=this.outlet.getActiveStackId(),tn=this.outlet.getLastRouteView(Ct);if((null==tn?void 0:tn.url)===Je)return;const Qt=this.outlet.getRootView(ht);return this.navCtrl.navigateRoot(Je,{...Qt&&Je===Qt.url&&Qt.savedExtras,animated:!0,animationDirection:"back"})}{const Ct=this.outlet.getLastRouteView(ht);return this.navCtrl.navigateRoot((null==Ct?void 0:Ct.url)||Je,{...null==Ct?void 0:Ct.savedExtras,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(K=>{const Ie=K.el.getAttribute("slot");Ie!==this.tabBarSlot&&(this.tabBarSlot=Ie,this.relocateTabBar())})}relocateTabBar(){const K=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(K):this.tabsInner.nativeElement.after(K)}}return ce.\u0275fac=function(K){return new(K||ce)(M.Y36(En))},ce.\u0275dir=M.lG2({type:ce,selectors:[["ion-tabs"]],viewQuery:function(K,Ie){if(1&K&&M.Gf(kt,7,M.SBq),2&K){let ht;M.iGM(ht=M.CRH())&&(Ie.tabsInner=ht.first)}},hostBindings:function(K,Ie){1&K&&M.NdJ("ionTabButtonClick",function(mt){return Ie.select(mt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}}),ce})();const wt=ce=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ce):"function"==typeof requestAnimationFrame?requestAnimationFrame(ce):setTimeout(ce);let Et=(()=>{class ce{constructor(K,Ie){this.injector=K,this.elementRef=Ie,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(K){this.elementRef.nativeElement.value=this.lastValue=K,xt(this.elementRef)}handleValueChange(K,Ie){K===this.elementRef.nativeElement&&(Ie!==this.lastValue&&(this.lastValue=Ie,this.onChange(Ie)),xt(this.elementRef))}_handleBlurEvent(K){K===this.elementRef.nativeElement&&(this.onTouched(),xt(this.elementRef))}registerOnChange(K){this.onChange=K}registerOnTouched(K){this.onTouched=K}setDisabledState(K){this.elementRef.nativeElement.disabled=K}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let K;try{K=this.injector.get(At.a5)}catch{}if(!K)return;K.statusChanges&&(this.statusChanges=K.statusChanges.subscribe(()=>xt(this.elementRef)));const Ie=K.control;Ie&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(mt=>{if(typeof Ie[mt]<"u"){const Je=Ie[mt].bind(Ie);Ie[mt]=(...Ct)=>{Je(...Ct),xt(this.elementRef)}}})}}return ce.\u0275fac=function(K){return new(K||ce)(M.Y36(M.zs3),M.Y36(M.SBq))},ce.\u0275dir=M.lG2({type:ce,hostBindings:function(K,Ie){1&K&&M.NdJ("ionBlur",function(mt){return Ie._handleBlurEvent(mt.target)})}}),ce})();const xt=ce=>{wt(()=>{const Ae=ce.nativeElement,K=null!=Ae.value&&Ae.value.toString().length>0,Ie=Kt(Ae);Tn(Ae,Ie);const ht=Ae.closest("ion-item");ht&&Tn(ht,K?[...Ie,"item-has-value"]:Ie)})},Kt=ce=>{const Ae=ce.classList,K=[];for(let Ie=0;Ie<Ae.length;Ie++){const ht=Ae.item(Ie);null!==ht&&pn(ht,"ng-")&&K.push(`ion-${ht.substring(3)}`)}return K},Tn=(ce,Ae)=>{const K=ce.classList;K.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),K.add(...Ae)},pn=(ce,Ae)=>ce.substring(0,Ae.length)===Ae;class mn{shouldDetach(Ae){return!1}shouldAttach(Ae){return!1}store(Ae,K){}retrieve(Ae){return null}shouldReuseRoute(Ae,K){if(Ae.routeConfig!==K.routeConfig)return!1;const Ie=Ae.params,ht=K.params,mt=Object.keys(Ie),Je=Object.keys(ht);if(mt.length!==Je.length)return!1;for(const Ct of mt)if(ht[Ct]!==Ie[Ct])return!1;return!0}}class Kn{constructor(Ae){this.ctrl=Ae}create(Ae){return this.ctrl.create(Ae||{})}dismiss(Ae,K,Ie){return this.ctrl.dismiss(Ae,K,Ie)}getTop(){return this.ctrl.getTop()}}},6728:(ln,nt,w)=>{"use strict";w.d(nt,{Br:()=>J,w:()=>lt,dr:()=>en,BJ:()=>$t,YG:()=>kt,Sm:()=>qt,PM:()=>An,FN:()=>Nn,Zi:()=>Zn,Dq:()=>kn,nz:()=>En,wI:()=>Yn,W2:()=>qn,jY:()=>Hr,Gu:()=>cr,gu:()=>fn,Xz:()=>bn,pK:()=>Ur,Ie:()=>ur,Q$:()=>Lr,q_:()=>Ir,z0:()=>te,fG:()=>B,ki:()=>Je,jP:()=>ce,Nd:()=>It,VI:()=>Qe,t9:()=>ir,n0:()=>Bn,yW:()=>Et,Bs:()=>Kt,wd:()=>Tn,sr:()=>Kn,Pc:()=>ai,HT:()=>vt,IN:()=>un,YI:()=>ht,Fo:()=>mt,QI:()=>cn,j9:()=>Xt});var l=w(9212),M=w(95),H=w(5472),Q=w(7582),_e=w(2438),le=w(6814),pe=w(3213),we=(w(6410),w(448),w(2619),w(9023),w(9203),w(3882)),xe=w(3365),rt=(w(1783),w(7612)),Le=(w(6225),w(5349));w(619);const je=we.i,Se=["*"];function Ve(I,me){if(1&I&&(l.TgZ(0,"div",1),l.GkF(1,2),l.qZA()),2&I){const x=l.oxw();l.xp6(1),l.Q6J("ngTemplateOutlet",x.template)}}let lt=(()=>{class I extends H.bk{constructor(x,Te){super(x,Te)}writeValue(x){this.elementRef.nativeElement.checked=this.lastValue=x,(0,H.vk)(this.elementRef)}_handleIonChange(x){this.handleValueChange(x,x.checked)}}return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.zs3),l.Y36(l.SBq))},I.\u0275dir=l.lG2({type:I,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(x,Te){1&x&&l.NdJ("ionChange",function(pr){return Te._handleIonChange(pr.target)})},features:[l._Bn([{provide:M.JU,useExisting:I,multi:!0}]),l.qOj]}),I})(),cn=(()=>{class I extends H.bk{constructor(x,Te){super(x,Te)}_handleChangeEvent(x){this.handleValueChange(x,x.value)}}return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.zs3),l.Y36(l.SBq))},I.\u0275dir=l.lG2({type:I,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(x,Te){1&x&&l.NdJ("ionChange",function(pr){return Te._handleChangeEvent(pr.target)})},features:[l._Bn([{provide:M.JU,useExisting:I,multi:!0}]),l.qOj]}),I})(),Xt=(()=>{class I extends H.bk{constructor(x,Te){super(x,Te)}_handleInputEvent(x){this.handleValueChange(x,x.value)}}return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.zs3),l.Y36(l.SBq))},I.\u0275dir=l.lG2({type:I,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(x,Te){1&x&&l.NdJ("ionInput",function(pr){return Te._handleInputEvent(pr.target)})},features:[l._Bn([{provide:M.JU,useExisting:I,multi:!0}]),l.qOj]}),I})();const tt=(I,me)=>{const x=I.prototype;me.forEach(Te=>{Object.defineProperty(x,Te,{get(){return this.el[Te]},set(ut){this.z.runOutsideAngular(()=>this.el[Te]=ut)},configurable:!0})})},he=(I,me)=>{const x=I.prototype;me.forEach(Te=>{x[Te]=function(){const ut=arguments;return this.z.runOutsideAngular(()=>this.el[Te].apply(this.el,ut))}})},ne=(I,me,x)=>{x.forEach(Te=>I[Te]=(0,_e.R)(me,Te))};function Ee(I){return function(x){const{defineCustomElementFn:Te,inputs:ut,methods:pr}=I;return void 0!==Te&&Te(),ut&&tt(x,ut),pr&&he(x,pr),x}}let en=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-app"]],ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({})],I),I})(),$t=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-avatar"]],ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({})],I),I})(),kt=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement,ne(this,this.el,["ionFocus","ionBlur"])}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],I),I})(),qt=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({inputs:["collapse"]})],I),I})(),An=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],I),I})(),Nn=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({inputs:["mode"]})],I),I})(),Zn=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({inputs:["color","mode","translucent"]})],I),I})(),kn=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({inputs:["color","mode"]})],I),I})(),En=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement,ne(this,this.el,["ionChange","ionFocus","ionBlur"])}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-checkbox"]],inputs:{alignment:"alignment",checked:"checked",color:"color",disabled:"disabled",indeterminate:"indeterminate",justify:"justify",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",name:"name",value:"value"},ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({inputs:["alignment","checked","color","disabled","indeterminate","justify","labelPlacement","legacy","mode","name","value"]})],I),I})(),Yn=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],I),I})(),qn=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement,ne(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],I),I})(),Hr=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({inputs:["fixed"]})],I),I})(),cr=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({inputs:["collapse","mode","translucent"]})],I),I})(),fn=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],I),I})(),bn=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement,ne(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({inputs:["alt","src"]})],I),I})(),Ur=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement,ne(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],I),I})(),ur=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],I),I})(),Lr=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({inputs:["color","mode","position"]})],I),I})(),Ir=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],I),I})(),te=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement,ne(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],I),I})(),B=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({inputs:["autoHide","color","disabled","menu","mode","type"]})],I),I})(),It=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-row"]],ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({})],I),I})(),Qe=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement,ne(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-searchbar"]],inputs:{animated:"animated",autocomplete:"autocomplete",autocorrect:"autocorrect",cancelButtonIcon:"cancelButtonIcon",cancelButtonText:"cancelButtonText",clearIcon:"clearIcon",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",mode:"mode",name:"name",placeholder:"placeholder",searchIcon:"searchIcon",showCancelButton:"showCancelButton",showClearButton:"showClearButton",spellcheck:"spellcheck",type:"type",value:"value"},ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({inputs:["animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","color","debounce","disabled","enterkeyhint","inputmode","mode","name","placeholder","searchIcon","showCancelButton","showClearButton","spellcheck","type","value"],methods:["setFocus","getInputElement"]})],I),I})(),ir=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement,ne(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",color:"color",compareWith:"compareWith",disabled:"disabled",expandedIcon:"expandedIcon",fill:"fill",interface:"interface",interfaceOptions:"interfaceOptions",justify:"justify",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",shape:"shape",toggleIcon:"toggleIcon",value:"value"},ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({inputs:["cancelText","color","compareWith","disabled","expandedIcon","fill","interface","interfaceOptions","justify","label","labelPlacement","legacy","mode","multiple","name","okText","placeholder","selectedText","shape","toggleIcon","value"],methods:["open"]})],I),I})(),Bn=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({inputs:["disabled","value"]})],I),I})(),Et=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({inputs:["color","mode"]})],I),I})(),Kt=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-thumbnail"]],ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({})],I),I})(),Tn=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({inputs:["color","size"]})],I),I})(),Kn=(()=>{let I=class{constructor(x,Te,ut){this.z=ut,x.detach(),this.el=Te.nativeElement}};return I.\u0275fac=function(x){return new(x||I)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Se,decls:1,vars:0,template:function(x,Te){1&x&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),I=(0,Q.gn)([Ee({inputs:["color","mode"]})],I),I})(),ce=(()=>{class I extends H.jP{constructor(x,Te,ut,pr,jr,_r,yr,Ui){super(x,Te,ut,pr,jr,_r,yr,Ui),this.parentOutlet=Ui}}return I.\u0275fac=function(x){return new(x||I)(l.$8M("name"),l.$8M("tabs"),l.Y36(le.Ye),l.Y36(l.SBq),l.Y36(pe.F0),l.Y36(l.R0b),l.Y36(pe.gz),l.Y36(I,12))},I.\u0275dir=l.lG2({type:I,selectors:[["ion-router-outlet"]],features:[l.qOj]}),I})(),ht=(()=>{class I extends H.j{}return I.\u0275fac=(()=>{let me;return function(Te){return(me||(me=l.n5z(I)))(Te||I)}})(),I.\u0275dir=l.lG2({type:I,selectors:[["","routerLink","",5,"a",5,"area"]],features:[l.qOj]}),I})(),mt=(()=>{class I extends H.H{}return I.\u0275fac=(()=>{let me;return function(Te){return(me||(me=l.n5z(I)))(Te||I)}})(),I.\u0275dir=l.lG2({type:I,selectors:[["a","routerLink",""],["area","routerLink",""]],features:[l.qOj]}),I})(),Je=(()=>{class I extends H.ki{}return I.\u0275fac=(()=>{let me;return function(Te){return(me||(me=l.n5z(I)))(Te||I)}})(),I.\u0275cmp=l.Xpm({type:I,selectors:[["ion-modal"]],features:[l.qOj],decls:1,vars:1,consts:[["class","ion-delegate-host ion-page",4,"ngIf"],[1,"ion-delegate-host","ion-page"],[3,"ngTemplateOutlet"]],template:function(x,Te){1&x&&l.YNc(0,Ve,2,1,"div",0),2&x&&l.Q6J("ngIf",Te.isCmpOpen||Te.keepContentsMounted)},dependencies:[le.O5,le.tP],encapsulation:2,changeDetection:0}),I})();const tn={provide:M.Cf,useExisting:(0,l.Gpc)(()=>Qt),multi:!0};let Qt=(()=>{class I extends M.Fd{}return I.\u0275fac=(()=>{let me;return function(Te){return(me||(me=l.n5z(I)))(Te||I)}})(),I.\u0275dir=l.lG2({type:I,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(x,Te){2&x&&l.uIk("max",Te._enabled?Te.max:null)},features:[l._Bn([tn]),l.qOj]}),I})();const tr={provide:M.Cf,useExisting:(0,l.Gpc)(()=>U),multi:!0};let U=(()=>{class I extends M.qQ{}return I.\u0275fac=(()=>{let me;return function(Te){return(me||(me=l.n5z(I)))(Te||I)}})(),I.\u0275dir=l.lG2({type:I,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(x,Te){2&x&&l.uIk("min",Te._enabled?Te.min:null)},features:[l._Bn([tr]),l.qOj]}),I})(),J=(()=>{class I extends H.xs{constructor(){super(rt.a)}}return I.\u0275fac=function(x){return new(x||I)},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),vt=(()=>{class I extends H.xs{constructor(){super(rt.l)}}return I.\u0275fac=function(x){return new(x||I)},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})(),un=(()=>{class I extends H.xs{constructor(){super(rt.m),this.angularDelegate=(0,l.f3M)(H.y4),this.injector=(0,l.f3M)(l.zs3),this.environmentInjector=(0,l.f3M)(l.lqb)}create(x){return super.create({...x,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return I.\u0275fac=function(x){return new(x||I)},I.\u0275prov=l.Yz7({token:I,factory:I.\u0275fac}),I})();class jt extends H.xs{constructor(){super(rt.c),this.angularDelegate=(0,l.f3M)(H.y4),this.injector=(0,l.f3M)(l.zs3),this.environmentInjector=(0,l.f3M)(l.lqb)}create(me){return super.create({...me,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const nr=(I,me,x)=>()=>{if(me.defaultView&&typeof window<"u"){(0,xe.s)({...I,_zoneGate:pr=>x.run(pr)});const ut="__zone_symbol__addEventListener"in me.body?"__zone_symbol__addEventListener":"addEventListener";return function qe(){var I=[];if(typeof window<"u"){var me=window;(!me.customElements||me.Element&&(!me.Element.prototype.closest||!me.Element.prototype.matches||!me.Element.prototype.remove||!me.Element.prototype.getRootNode))&&I.push(w.e(6748).then(w.t.bind(w,3342,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||me.NodeList&&!me.NodeList.prototype.forEach||!me.fetch||!function(){try{var Te=new URL("b","http://a");return Te.pathname="c%20d","http://a/c%20d"===Te.href&&Te.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&I.push(w.e(2214).then(w.t.bind(w,2668,23)))}return Promise.all(I)}().then(()=>((I,me)=>{if(!(typeof window>"u"))return je(),(0,Le.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"placeholder":["placeholderChanged"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"counterFormatter":["counterFormatterChanged"]}],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"],"checked":["styleChanged"],"color":["styleChanged"],"disabled":["styleChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]},null,{"value":["valueChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"legacy":[4]},null,{"checked":["styleChanged"],"disabled":["styleChanged"]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),me)})(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:H.Wn,jmp:pr=>x.runOutsideAngular(pr),ael(pr,jr,_r,yr){pr[ut](jr,_r,yr)},rel(pr,jr,_r,yr){pr.removeEventListener(jr,_r,yr)}}))}};let ai=(()=>{class I{static forRoot(x){return{ngModule:I,providers:[{provide:H.dy,useValue:x},{provide:l.ip1,useFactory:nr,multi:!0,deps:[H.dy,le.K0,l.R0b]},(0,H.DN)()]}}}return I.\u0275fac=function(x){return new(x||I)},I.\u0275mod=l.oAB({type:I}),I.\u0275inj=l.cJS({providers:[H.y4,un,jt],imports:[le.ez]}),I})()},3182:(ln,nt,w)=>{"use strict";w.d(nt,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=w(534);(0,l.registerVersion)("firebase","10.6.0","app")},7142:(ln,nt,w)=>{"use strict";w.d(nt,{Z:()=>l.Z});var l=w(3106);l.Z.registerVersion("firebase","10.6.0","app-compat")},6365:(ln,nt,w)=>{"use strict";w.r(nt);var l=w(5861),M=w(3106),H=w(4562),Q=w(9058),pe=(w(534),w(7879),w(4537));function ve(){return window}function fe(){return fe=(0,l.Z)(function*(B,R,b){var W;const{BuildInfo:ie}=ve();(0,H.au)(R.sessionId,"AuthEvent did not contain a session ID");const We=yield function Le(B){return ze.apply(this,arguments)}(R.sessionId),Ce={};return(0,H.av)()?Ce.ibi=ie.packageName:(0,H.aw)()?Ce.apn=ie.packageName:(0,H.ax)(B,"operation-not-supported-in-this-environment"),ie.displayName&&(Ce.appDisplayName=ie.displayName),Ce.sessionId=We,(0,H.ay)(B,b,R.type,void 0,null!==(W=R.eventId)&&void 0!==W?W:void 0,Ce)}),fe.apply(this,arguments)}function we(){return(we=(0,l.Z)(function*(B){const{BuildInfo:R}=ve(),b={};(0,H.av)()?b.iosBundleId=R.packageName:(0,H.aw)()?b.androidPackageName=R.packageName:(0,H.ax)(B,"operation-not-supported-in-this-environment"),yield(0,H.az)(B,b)})).apply(this,arguments)}function rt(){return(rt=(0,l.Z)(function*(B,R,b){const{cordova:W}=ve();let ie=()=>{};try{yield new Promise((We,Ce)=>{let Ge=null;function Dt(){var rn;We();const Fn=null===(rn=W.plugins.browsertab)||void 0===rn?void 0:rn.close;"function"==typeof Fn&&Fn(),"function"==typeof(null==b?void 0:b.close)&&b.close()}function gt(){Ge||(Ge=window.setTimeout(()=>{Ce((0,H.aB)(B,"redirect-cancelled-by-user"))},2e3))}function Mt(){"visible"===(null==document?void 0:document.visibilityState)&&gt()}R.addPassiveListener(Dt),document.addEventListener("resume",gt,!1),(0,H.aw)()&&document.addEventListener("visibilitychange",Mt,!1),ie=()=>{R.removePassiveListener(Dt),document.removeEventListener("resume",gt,!1),document.removeEventListener("visibilitychange",Mt,!1),Ge&&window.clearTimeout(Ge)}})}finally{ie()}})).apply(this,arguments)}function ze(){return(ze=(0,l.Z)(function*(B){const R=function dt(B){if((0,H.au)(/[0-9a-zA-Z]+/.test(B),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(B);const R=new ArrayBuffer(B.length),b=new Uint8Array(R);for(let W=0;W<B.length;W++)b[W]=B.charCodeAt(W);return b}(B),b=yield crypto.subtle.digest("SHA-256",R);return Array.from(new Uint8Array(b)).map(ie=>ie.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class je extends H.aD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(R=>{this.resolveInialized=R})}addPassiveListener(R){this.passiveListeners.add(R)}removePassiveListener(R){this.passiveListeners.delete(R)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(R){return this.resolveInialized(),this.passiveListeners.forEach(b=>b(R)),super.onEvent(R)}initialized(){var R=this;return(0,l.Z)(function*(){yield R.initPromise})()}}function ge(B){return X.apply(this,arguments)}function X(){return(X=(0,l.Z)(function*(B){const R=yield ft()._get(lt(B));return R&&(yield ft()._remove(lt(B))),R})).apply(this,arguments)}function Ve(){const B=[];for(let b=0;b<20;b++){const W=Math.floor(62*Math.random());B.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(W))}return B.join("")}function ft(){return(0,H.aE)(H.b)}function lt(B){return(0,H.aF)("authEvent",B.config.apiKey,B.name)}function cn(B){if(null==B||!B.includes("?"))return{};const[R,...b]=B.split("?");return(0,Q.zd)(b.join("?"))}const he=class tt{constructor(){this._redirectPersistence=H.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=H.aG,this._overrideRedirectResult=H.aH}_initialize(R){var b=this;return(0,l.Z)(function*(){const W=R._key();let ie=b.eventManagers.get(W);return ie||(ie=new je(R),b.eventManagers.set(W,ie),b.attachCallbackListeners(R,ie)),ie})()}_openPopup(R){(0,H.ax)(R,"operation-not-supported-in-this-environment")}_openRedirect(R,b,W,ie){var We=this;return(0,l.Z)(function*(){!function Be(B){var R,b,W,ie,We,Ce,Ge,Dt,gt,Mt;const rn=ve();(0,H.aC)("function"==typeof(null===(R=null==rn?void 0:rn.universalLinks)||void 0===R?void 0:R.subscribe),B,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,H.aC)(typeof(null===(b=null==rn?void 0:rn.BuildInfo)||void 0===b?void 0:b.packageName)<"u",B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,H.aC)("function"==typeof(null===(We=null===(ie=null===(W=null==rn?void 0:rn.cordova)||void 0===W?void 0:W.plugins)||void 0===ie?void 0:ie.browsertab)||void 0===We?void 0:We.openUrl),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.aC)("function"==typeof(null===(Dt=null===(Ge=null===(Ce=null==rn?void 0:rn.cordova)||void 0===Ce?void 0:Ce.plugins)||void 0===Ge?void 0:Ge.browsertab)||void 0===Dt?void 0:Dt.isAvailable),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.aC)("function"==typeof(null===(Mt=null===(gt=null==rn?void 0:rn.cordova)||void 0===gt?void 0:gt.InAppBrowser)||void 0===Mt?void 0:Mt.open),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(R);const Ce=yield We._initialize(R);yield Ce.initialized(),Ce.resetRedirect(),(0,H.aI)(),yield We._originValidation(R);const Ge=function Xe(B,R,b=null){return{type:R,eventId:b,urlResponse:null,sessionId:Ve(),postBody:null,tenantId:B.tenantId,error:(0,H.aB)(B,"no-auth-event")}}(R,W,ie);yield function Se(B,R){return ft()._set(lt(B),R)}(R,Ge);const Dt=yield function ue(B,R,b){return fe.apply(this,arguments)}(R,Ge,b),gt=yield function xe(B){const{cordova:R}=ve();return new Promise(b=>{R.plugins.browsertab.isAvailable(W=>{let ie=null;W?R.plugins.browsertab.openUrl(B):ie=R.InAppBrowser.open(B,(0,H.aA)()?"_blank":"_system","location=yes"),b(ie)})})}(Dt);return function Ke(B,R,b){return rt.apply(this,arguments)}(R,Ce,gt)})()}_isIframeWebStorageSupported(R,b){throw new Error("Method not implemented.")}_originValidation(R){const b=R._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function $e(B){return we.apply(this,arguments)}(R)),this.originValidationPromises[b]}attachCallbackListeners(R,b){const{universalLinks:W,handleOpenURL:ie,BuildInfo:We}=ve(),Ce=setTimeout((0,l.Z)(function*(){yield ge(R),b.onEvent(ne())}),500),Ge=function(){var Mt=(0,l.Z)(function*(rn){clearTimeout(Ce);const Fn=yield ge(R);let mr=null;Fn&&null!=rn&&rn.url&&(mr=function ke(B,R){var b,W;const ie=function Wt(B){const R=cn(B),b=R.link?decodeURIComponent(R.link):void 0,W=cn(b).link,ie=R.deep_link_id?decodeURIComponent(R.deep_link_id):void 0;return cn(ie).link||ie||W||b||B}(R);if(ie.includes("/__/auth/callback")){const We=cn(ie),Ce=We.firebaseError?function yt(B){try{return JSON.parse(B)}catch{return null}}(decodeURIComponent(We.firebaseError)):null,Ge=null===(W=null===(b=null==Ce?void 0:Ce.code)||void 0===b?void 0:b.split("auth/"))||void 0===W?void 0:W[1],Dt=Ge?(0,H.aB)(Ge):null;return Dt?{type:B.type,eventId:B.eventId,tenantId:B.tenantId,error:Dt,urlResponse:null,sessionId:null,postBody:null}:{type:B.type,eventId:B.eventId,tenantId:B.tenantId,sessionId:B.sessionId,urlResponse:ie,postBody:null}}return null}(Fn,rn.url)),b.onEvent(mr||ne())});return function(Fn){return Mt.apply(this,arguments)}}();typeof W<"u"&&"function"==typeof W.subscribe&&W.subscribe(null,Ge);const Dt=ie,gt=`${We.packageName.toLowerCase()}://`;ve().handleOpenURL=function(){var Mt=(0,l.Z)(function*(rn){if(rn.toLowerCase().startsWith(gt)&&Ge({url:rn}),"function"==typeof Dt)try{Dt(rn)}catch(Fn){console.error(Fn)}});return function(rn){return Mt.apply(this,arguments)}}()}};function ne(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,H.aB)("no-auth-event")}}function Ft(){var B;return(null===(B=null==self?void 0:self.location)||void 0===B?void 0:B.protocol)||null}function en(B=(0,Q.z$)()){return!("file:"!==Ft()&&"ionic:"!==Ft()&&"capacitor:"!==Ft()||!B.toLowerCase().match(/iphone|ipad|ipod|android/))}function At(){try{const B=self.localStorage,R=H.aN();if(B)return B.setItem(R,"1"),B.removeItem(R),!function St(B=(0,Q.z$)()){return function Cn(){return(0,Q.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Vt(B=(0,Q.z$)()){return/Edge\/\d+/.test(B)}(B)}()||(0,Q.hl)()}catch{return kt()&&(0,Q.hl)()}return!1}function kt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function qt(){return(function on(){return"http:"===Ft()||"https:"===Ft()}()||(0,Q.ru)()||en())&&!function $t(){return(0,Q.b$)()||(0,Q.UG)()}()&&At()&&!kt()}function An(){return en()&&typeof document<"u"}function Zn(){return(Zn=(0,l.Z)(function*(){return!!An()&&new Promise(B=>{const R=setTimeout(()=>{B(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(R),B(!0)})})})).apply(this,arguments)}const kn={LOCAL:"local",NONE:"none",SESSION:"session"},En=H.aC,Dr="persistence";function qn(B){return jn.apply(this,arguments)}function jn(){return(jn=(0,l.Z)(function*(B){yield B._initializationPromise;const R=Cr(),b=H.aF(Dr,B.config.apiKey,B.name);R&&R.setItem(b,B._getPersistence())})).apply(this,arguments)}function Cr(){var B;try{return(null===(B=function dn(){return typeof window<"u"?window:null}())||void 0===B?void 0:B.sessionStorage)||null}catch{return null}}const Mn=H.aC;class rr{constructor(){this.browserResolver=H.aE(H.k),this.cordovaResolver=H.aE(he),this.underlyingResolver=null,this._redirectPersistence=H.a,this._completeRedirectFn=H.aG,this._overrideRedirectResult=H.aH}_initialize(R){var b=this;return(0,l.Z)(function*(){return yield b.selectUnderlyingResolver(),b.assertedUnderlyingResolver._initialize(R)})()}_openPopup(R,b,W,ie){var We=this;return(0,l.Z)(function*(){return yield We.selectUnderlyingResolver(),We.assertedUnderlyingResolver._openPopup(R,b,W,ie)})()}_openRedirect(R,b,W,ie){var We=this;return(0,l.Z)(function*(){return yield We.selectUnderlyingResolver(),We.assertedUnderlyingResolver._openRedirect(R,b,W,ie)})()}_isIframeWebStorageSupported(R,b){this.assertedUnderlyingResolver._isIframeWebStorageSupported(R,b)}_originValidation(R){return this.assertedUnderlyingResolver._originValidation(R)}get _shouldInitProactively(){return An()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Mn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var R=this;return(0,l.Z)(function*(){if(R.underlyingResolver)return;const b=yield function Nn(){return Zn.apply(this,arguments)}();R.underlyingResolver=b?R.cordovaResolver:R.browserResolver})()}}function xn(B){return B.unwrap()}function cr(B){return bn(B)}function bn(B){const{_tokenResponse:R}=B instanceof Q.ZR?B.customData:B;if(!R)return null;if(!(B instanceof Q.ZR)&&"temporaryProof"in R&&"phoneNumber"in R)return H.P.credentialFromResult(B);const b=R.providerId;if(!b||b===H.p.PASSWORD)return null;let W;switch(b){case H.p.GOOGLE:W=H.X;break;case H.p.FACEBOOK:W=H.W;break;case H.p.GITHUB:W=H.Y;break;case H.p.TWITTER:W=H.$;break;default:const{oauthIdToken:ie,oauthAccessToken:We,oauthTokenSecret:Ce,pendingToken:Ge,nonce:Dt}=R;return We||Ce||ie||Ge?Ge?b.startsWith("saml.")?H.aQ._create(b,Ge):H.N._fromParams({providerId:b,signInMethod:b,pendingToken:Ge,idToken:ie,accessToken:We}):new H.Z(b).credential({idToken:ie,accessToken:We,rawNonce:Dt}):null}return B instanceof Q.ZR?W.credentialFromError(B):W.credentialFromResult(B)}function er(B,R){return R.catch(b=>{throw b instanceof Q.ZR&&function fn(B,R){var b;const W=null===(b=R.customData)||void 0===b?void 0:b._tokenResponse;if("auth/multi-factor-auth-required"===(null==R?void 0:R.code))R.resolver=new ur(B,H.as(B,R));else if(W){const ie=bn(R),We=R;ie&&(We.credential=ie,We.tenantId=W.tenantId||void 0,We.email=W.email||void 0,We.phoneNumber=W.phoneNumber||void 0)}}(B,b),b}).then(b=>{const ie=b.user;return{operationType:b.operationType,credential:cr(b),additionalUserInfo:H.aq(b),user:Dn.getOrCreate(ie)}})}function Nr(B,R){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,l.Z)(function*(B,R){const b=yield R;return{verificationId:b.verificationId,confirm:W=>er(B,b.confirm(W))}})).apply(this,arguments)}class ur{constructor(R,b){this.resolver=b,this.auth=function Hr(B){return B.wrapped()}(R)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(R){return er(xn(this.auth),this.resolver.resolveSignIn(R))}}class Dn{constructor(R){this._delegate=R,this.multiFactor=H.at(R)}static getOrCreate(R){return Dn.USER_MAP.has(R)||Dn.USER_MAP.set(R,new Dn(R)),Dn.USER_MAP.get(R)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(R){return this._delegate.getIdTokenResult(R)}getIdToken(R){return this._delegate.getIdToken(R)}linkAndRetrieveDataWithCredential(R){return this.linkWithCredential(R)}linkWithCredential(R){var b=this;return(0,l.Z)(function*(){return er(b.auth,H.a2(b._delegate,R))})()}linkWithPhoneNumber(R,b){var W=this;return(0,l.Z)(function*(){return Nr(W.auth,H.l(W._delegate,R,b))})()}linkWithPopup(R){var b=this;return(0,l.Z)(function*(){return er(b.auth,H.d(b._delegate,R,rr))})()}linkWithRedirect(R){var b=this;return(0,l.Z)(function*(){return yield qn(H.aJ(b.auth)),H.g(b._delegate,R,rr)})()}reauthenticateAndRetrieveDataWithCredential(R){return this.reauthenticateWithCredential(R)}reauthenticateWithCredential(R){var b=this;return(0,l.Z)(function*(){return er(b.auth,H.a3(b._delegate,R))})()}reauthenticateWithPhoneNumber(R,b){return Nr(this.auth,H.r(this._delegate,R,b))}reauthenticateWithPopup(R){return er(this.auth,H.e(this._delegate,R,rr))}reauthenticateWithRedirect(R){var b=this;return(0,l.Z)(function*(){return yield qn(H.aJ(b.auth)),H.h(b._delegate,R,rr)})()}sendEmailVerification(R){return H.ag(this._delegate,R)}unlink(R){var b=this;return(0,l.Z)(function*(){return yield H.ap(b._delegate,R),b})()}updateEmail(R){return H.al(this._delegate,R)}updatePassword(R){return H.am(this._delegate,R)}updatePhoneNumber(R){return H.u(this._delegate,R)}updateProfile(R){return H.ak(this._delegate,R)}verifyBeforeUpdateEmail(R,b){return H.ah(this._delegate,R,b)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Dn.USER_MAP=new WeakMap;const Qn=H.aC;let kr=(()=>{class B{constructor(b,W){if(this.app=b,W.isInitialized())return this._delegate=W.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:ie}=b.options;Qn(ie,"invalid-api-key",{appName:b.name}),Qn(ie,"invalid-api-key",{appName:b.name});const We=typeof window<"u"?rr:void 0;this._delegate=W.initialize({options:{persistence:Hn(ie,b.name),popupRedirectResolver:We}}),this._delegate._updateErrorMap(H.G),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Dn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(b){this._delegate.languageCode=b}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(b){this._delegate.tenantId=b}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(b,W){H.K(this._delegate,b,W)}applyActionCode(b){return H.a7(this._delegate,b)}checkActionCode(b){return H.a8(this._delegate,b)}confirmPasswordReset(b,W){return H.a6(this._delegate,b,W)}createUserWithEmailAndPassword(b,W){var ie=this;return(0,l.Z)(function*(){return er(ie._delegate,H.aa(ie._delegate,b,W))})()}fetchProvidersForEmail(b){return this.fetchSignInMethodsForEmail(b)}fetchSignInMethodsForEmail(b){return H.af(this._delegate,b)}isSignInWithEmailLink(b){return H.ad(this._delegate,b)}getRedirectResult(){var b=this;return(0,l.Z)(function*(){Qn(qt(),b._delegate,"operation-not-supported-in-this-environment");const W=yield H.j(b._delegate,rr);return W?er(b._delegate,Promise.resolve(W)):{credential:null,user:null}})()}addFrameworkForLogging(b){!function Re(B,R){(0,H.aJ)(B)._logFramework(R)}(this._delegate,b)}onAuthStateChanged(b,W,ie){const{next:We,error:Ce,complete:Ge}=Vn(b,W,ie);return this._delegate.onAuthStateChanged(We,Ce,Ge)}onIdTokenChanged(b,W,ie){const{next:We,error:Ce,complete:Ge}=Vn(b,W,ie);return this._delegate.onIdTokenChanged(We,Ce,Ge)}sendSignInLinkToEmail(b,W){return H.ac(this._delegate,b,W)}sendPasswordResetEmail(b,W){return H.a5(this._delegate,b,W||void 0)}setPersistence(b){var W=this;return(0,l.Z)(function*(){let ie;switch(function Yn(B,R){En(Object.values(kn).includes(R),B,"invalid-persistence-type"),(0,Q.b$)()?En(R!==kn.SESSION,B,"unsupported-persistence-type"):(0,Q.UG)()?En(R===kn.NONE,B,"unsupported-persistence-type"):kt()?En(R===kn.NONE||R===kn.LOCAL&&(0,Q.hl)(),B,"unsupported-persistence-type"):En(R===kn.NONE||At(),B,"unsupported-persistence-type")}(W._delegate,b),b){case kn.SESSION:ie=H.a;break;case kn.LOCAL:ie=(yield H.aE(H.i)._isAvailable())?H.i:H.b;break;case kn.NONE:ie=H.U;break;default:return H.ax("argument-error",{appName:W._delegate.name})}return W._delegate.setPersistence(ie)})()}signInAndRetrieveDataWithCredential(b){return this.signInWithCredential(b)}signInAnonymously(){return er(this._delegate,H.a0(this._delegate))}signInWithCredential(b){return er(this._delegate,H.a1(this._delegate,b))}signInWithCustomToken(b){return er(this._delegate,H.a4(this._delegate,b))}signInWithEmailAndPassword(b,W){return er(this._delegate,H.ab(this._delegate,b,W))}signInWithEmailLink(b,W){return er(this._delegate,H.ae(this._delegate,b,W))}signInWithPhoneNumber(b,W){return Nr(this._delegate,H.s(this._delegate,b,W))}signInWithPopup(b){var W=this;return(0,l.Z)(function*(){return Qn(qt(),W._delegate,"operation-not-supported-in-this-environment"),er(W._delegate,H.c(W._delegate,b,rr))})()}signInWithRedirect(b){var W=this;return(0,l.Z)(function*(){return Qn(qt(),W._delegate,"operation-not-supported-in-this-environment"),yield qn(W._delegate),H.f(W._delegate,b,rr)})()}updateCurrentUser(b){return this._delegate.updateCurrentUser(b)}verifyPasswordResetCode(b){return H.a9(this._delegate,b)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return B.Persistence=kn,B})();function Vn(B,R,b){let W=B;"function"!=typeof B&&({next:W,error:R,complete:b}=B);const ie=W;return{next:Ce=>ie(Ce&&Dn.getOrCreate(Ce)),error:R,complete:b}}function Hn(B,R){const b=function br(B,R){const b=Cr();if(!b)return[];const W=H.aF(Dr,B,R);switch(b.getItem(W)){case kn.NONE:return[H.U];case kn.LOCAL:return[H.i,H.a];case kn.SESSION:return[H.a];default:return[]}}(B,R);if(typeof self<"u"&&!b.includes(H.i)&&b.push(H.i),typeof window<"u")for(const W of[H.b,H.a])b.includes(W)||b.push(W);return b.includes(H.U)||b.push(H.U),b}class Lr{constructor(){this.providerId="phone",this._delegate=new H.P(xn(M.Z.auth()))}static credential(R,b){return H.P.credential(R,b)}verifyPhoneNumber(R,b){return this._delegate.verifyPhoneNumber(R,b)}unwrap(){return this._delegate}}Lr.PHONE_SIGN_IN_METHOD=H.P.PHONE_SIGN_IN_METHOD,Lr.PROVIDER_ID=H.P.PROVIDER_ID;const Ir=H.aC;class hr{constructor(R,b,W=M.Z.app()){var ie;Ir(null===(ie=W.options)||void 0===ie?void 0:ie.apiKey,"invalid-api-key",{appName:W.name}),this._delegate=new H.R(W.auth(),R,b),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function te(B){B.INTERNAL.registerComponent(new pe.wA("auth-compat",R=>{const b=R.getProvider("app-compat").getImmediate(),W=R.getProvider("auth");return new kr(b,W)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:H.A.EMAIL_SIGNIN,PASSWORD_RESET:H.A.PASSWORD_RESET,RECOVER_EMAIL:H.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:H.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:H.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:H.A.VERIFY_EMAIL}},EmailAuthProvider:H.V,FacebookAuthProvider:H.W,GithubAuthProvider:H.Y,GoogleAuthProvider:H.X,OAuthProvider:H.Z,SAMLAuthProvider:H._,PhoneAuthProvider:Lr,PhoneMultiFactorGenerator:H.m,RecaptchaVerifier:hr,TwitterAuthProvider:H.$,Auth:kr,AuthCredential:H.L,Error:Q.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),B.registerVersion("@firebase/auth-compat","0.4.9")}(M.Z)},5861:(ln,nt,w)=>{"use strict";function l(H,Q,_e,le,pe,ve,Ye){try{var ue=H[ve](Ye),fe=ue.value}catch($e){return void _e($e)}ue.done?Q(fe):Promise.resolve(fe).then(le,pe)}function M(H){return function(){var Q=this,_e=arguments;return new Promise(function(le,pe){var ve=H.apply(Q,_e);function Ye(fe){l(ve,le,pe,Ye,ue,"next",fe)}function ue(fe){l(ve,le,pe,Ye,ue,"throw",fe)}Ye(void 0)})}}w.d(nt,{Z:()=>M})},1180:(ln,nt,w)=>{"use strict";function l(_e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(le){return typeof le}:function(le){return le&&"function"==typeof Symbol&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le})(_e)}function Q(_e,le,pe){return(le=function H(_e){var le=function M(_e,le){if("object"!==l(_e)||null===_e)return _e;var pe=_e[Symbol.toPrimitive];if(void 0!==pe){var ve=pe.call(_e,le||"default");if("object"!==l(ve))return ve;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===le?String:Number)(_e)}(_e,"string");return"symbol"===l(le)?le:String(le)}(le))in _e?Object.defineProperty(_e,le,{value:pe,enumerable:!0,configurable:!0,writable:!0}):_e[le]=pe,_e}w.d(nt,{Z:()=>Q})},7582:(ln,nt,w)=>{"use strict";function Q(he,ne){var Re={};for(var Ee in he)Object.prototype.hasOwnProperty.call(he,Ee)&&ne.indexOf(Ee)<0&&(Re[Ee]=he[Ee]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var at=0;for(Ee=Object.getOwnPropertySymbols(he);at<Ee.length;at++)ne.indexOf(Ee[at])<0&&Object.prototype.propertyIsEnumerable.call(he,Ee[at])&&(Re[Ee[at]]=he[Ee[at]])}return Re}function _e(he,ne,Re,Ee){var Ft,at=arguments.length,pt=at<3?ne:null===Ee?Ee=Object.getOwnPropertyDescriptor(ne,Re):Ee;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pt=Reflect.decorate(he,ne,Re,Ee);else for(var on=he.length-1;on>=0;on--)(Ft=he[on])&&(pt=(at<3?Ft(pt):at>3?Ft(ne,Re,pt):Ft(ne,Re))||pt);return at>3&&pt&&Object.defineProperty(ne,Re,pt),pt}function $e(he,ne,Re,Ee){return new(Re||(Re=Promise))(function(pt,Ft){function on(Cn){try{$t(Ee.next(Cn))}catch(Vt){Ft(Vt)}}function en(Cn){try{$t(Ee.throw(Cn))}catch(Vt){Ft(Vt)}}function $t(Cn){Cn.done?pt(Cn.value):function at(pt){return pt instanceof Re?pt:new Re(function(Ft){Ft(pt)})}(Cn.value).then(on,en)}$t((Ee=Ee.apply(he,ne||[])).next())})}function qe(he){return this instanceof qe?(this.v=he,this):new qe(he)}function je(he,ne,Re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var at,Ee=Re.apply(he,ne||[]),pt=[];return at={},Ft("next"),Ft("throw"),Ft("return"),at[Symbol.asyncIterator]=function(){return this},at;function Ft(St){Ee[St]&&(at[St]=function(At){return new Promise(function(kt,qt){pt.push([St,At,kt,qt])>1||on(St,At)})})}function on(St,At){try{!function en(St){St.value instanceof qe?Promise.resolve(St.value.v).then($t,Cn):Vt(pt[0][2],St)}(Ee[St](At))}catch(kt){Vt(pt[0][3],kt)}}function $t(St){on("next",St)}function Cn(St){on("throw",St)}function Vt(St,At){St(At),pt.shift(),pt.length&&on(pt[0][0],pt[0][1])}}function Se(he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,ne=he[Symbol.asyncIterator];return ne?ne.call(he):(he=function rt(he){var ne="function"==typeof Symbol&&Symbol.iterator,Re=ne&&he[ne],Ee=0;if(Re)return Re.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&Ee>=he.length&&(he=void 0),{value:he&&he[Ee++],done:!he}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(he),Re={},Ee("next"),Ee("throw"),Ee("return"),Re[Symbol.asyncIterator]=function(){return this},Re);function Ee(pt){Re[pt]=he[pt]&&function(Ft){return new Promise(function(on,en){!function at(pt,Ft,on,en){Promise.resolve(en).then(function($t){pt({value:$t,done:on})},Ft)}(on,en,(Ft=he[pt](Ft)).done,Ft.value)})}}}w.d(nt,{FC:()=>je,KL:()=>Se,_T:()=>Q,gn:()=>_e,mG:()=>$e,qq:()=>qe}),"function"==typeof SuppressedError&&SuppressedError}},ln=>{ln(ln.s=353)}]);
"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9064],{8969:(U,x,u)=>{u.d(x,{j:()=>p});var d=u(5861),a=u(9212),i=u(7213),_=u(7104);let p=(()=>{var e;class C{constructor(l,c){this.ngFireAuth=l,this.firestore=c}registerUser(l,c,h,m){var T=this;return(0,d.Z)(function*(){try{var v,A;const f=yield T.ngFireAuth.createUserWithEmailAndPassword(l,c);return yield null===(v=f.user)||void 0===v?void 0:v.updateProfile({displayName:h}),yield T.firestore.collection("users").doc(null===(A=f.user)||void 0===A?void 0:A.uid).set({phoneNumber:m}),f}catch(f){throw f}})()}getUserCode(){var l=this;return(0,d.Z)(function*(){try{const c=yield l.ngFireAuth.currentUser;if(c){const m=(yield l.firestore.collection("users").doc(c.uid).get().toPromise()).data();if(m&&"object"==typeof m&&"phoneNumber"in m)return m.phoneNumber}}catch(c){return console.error("Error getting user phone number:",c),null}})()}loginUser(l,c){var h=this;return(0,d.Z)(function*(){return yield h.ngFireAuth.signInWithEmailAndPassword(l,c)})()}resetPassword(l){var c=this;return(0,d.Z)(function*(){return yield c.ngFireAuth.sendPasswordResetEmail(l)})()}signOut(){var l=this;return(0,d.Z)(function*(){return yield l.ngFireAuth.signOut()})()}getProlfile(){var l=this;return(0,d.Z)(function*(){return yield l.ngFireAuth.currentUser})()}getCurrentUser(){var l=this;return(0,d.Z)(function*(){return l.ngFireAuth.user})()}}return(e=C).\u0275fac=function(l){return new(l||e)(a.LFG(i.zQ),a.LFG(_.ST))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),C})()},9064:(U,x,u)=>{u.r(x),u.d(x,{SignupPageModule:()=>F});var d=u(6814),a=u(95),i=u(6728),_=u(3213),p=u(5861),e=u(9212),C=u(8969);function y(n,s){1&n&&(e.TgZ(0,"ion-text"),e._uU(1," Fullname is required "),e.qZA())}function l(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,y,2,0,"ion-text",24),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.errorControl.displayName||null==o.errorControl.displayName.errors?null:o.errorControl.displayName.errors.required)}}function c(n,s){1&n&&(e.TgZ(0,"ion-text"),e._uU(1," Code is required "),e.qZA())}function h(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,c,2,0,"ion-text",24),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.errorControl.phoneNumber||null==o.errorControl.phoneNumber.errors?null:o.errorControl.phoneNumber.errors.required)}}function m(n,s){1&n&&(e.TgZ(0,"ion-text"),e._uU(1," Email is required "),e.qZA())}function T(n,s){1&n&&(e.TgZ(0,"ion-text"),e._uU(1," Email should be valid "),e.qZA())}function v(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,m,2,0,"ion-text",24)(2,T,2,0,"ion-text",24),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.errorControl.email||null==o.errorControl.email.errors?null:o.errorControl.email.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.errorControl.email||null==o.errorControl.email.errors?null:o.errorControl.email.errors.pattern)}}function A(n,s){1&n&&(e.TgZ(0,"ion-text"),e._uU(1," Password is required "),e.qZA())}function f(n,s){1&n&&(e.TgZ(0,"ion-text"),e._uU(1," Password should be valid "),e.qZA())}function b(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,A,2,0,"ion-text",24)(2,f,2,0,"ion-text",24),e.qZA()),2&n){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",null==o.errorControl.password||null==o.errorControl.password.errors?null:o.errorControl.password.errors.required),e.xp6(1),e.Q6J("ngIf",null==o.errorControl.password||null==o.errorControl.password.errors?null:o.errorControl.password.errors.pattern)}}const S=[{path:"",component:(()=>{var n;class s{constructor(r,t,g,Z,P){this.formBuilder=r,this.loadingController=t,this.authService=g,this.router=Z,this.alertController=P}ngOnInit(){localStorage.getItem("isloggedAdmin")||this.router.navigate(["/login-admin"],{replaceUrl:!0}),this.regForm=this.formBuilder.group({displayName:["",[a.kI.required]],phoneNumber:["",[a.kI.required]],email:["",[a.kI.required,a.kI.email,a.kI.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$")]],password:["",a.kI.pattern(/^[a-zA-Z\d$@$!%#*?&]{8,15}$/)]})}get errorControl(){return this.regForm.controls}signUp(){var r=this;return(0,p.Z)(function*(){const t=yield r.loadingController.create();yield t.present();try{var g;null!==(g=r.regForm)&&void 0!==g&&g.valid&&((yield r.authService.registerUser(r.regForm.value.email,r.regForm.value.password,r.regForm.value.displayName,r.regForm.value.phoneNumber))?(t.dismiss(),r.presentAlert("Registro exitoso","Se ha registrado correctamente.")):(t.dismiss(),r.presentAlert("Error","Error durante el registro. Por favor, int\xe9ntalo de nuevo.")))}catch{}finally{t.dismiss()}})()}logout(){var r=this;return(0,p.Z)(function*(){if(yield r.confirmationAlert("Confirmaci\xf3n","\xbfEst\xe1s seguro de cerrar sesi\xf3n?"))try{yield r.authService.signOut(),localStorage.removeItem("isloggedAdmin"),r.router.navigate(["/login-admin"])}catch{}})()}confirmationAlert(r,t){var g=this;return(0,p.Z)(function*(){return new Promise(function(){var Z=(0,p.Z)(function*(P){yield(yield g.alertController.create({header:r,message:t,buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondard",handler:()=>{P(!1)}},{text:"Aceptar",handler:()=>{P(!0)}}]})).present()});return function(P){return Z.apply(this,arguments)}}())})()}presentAlert(r,t){var g=this;return(0,p.Z)(function*(){yield(yield g.alertController.create({header:r,message:t,buttons:["OK"]})).present()})()}}return(n=s).\u0275fac=function(r){return new(r||n)(e.Y36(a.qu),e.Y36(i.HT),e.Y36(C.j),e.Y36(_.F0),e.Y36(i.Br))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-signup"]],decls:64,vars:6,consts:[["contentId","main-content"],["routerLink","/data-users"],["name","home","slot","start"],["routerLink","/signup"],["name","person","slot","start"],["routerLink","/ajustes"],["name","settings","slot","start"],["routerLink","/notificaciones"],["name","notifications","slot","start"],["routerLink","/ayuda"],["name","help-circle","slot","start"],["id","main-content",1,"ion-page"],["slot","start"],["slot","end"],["fill","solid","color","light",1,"bordered",3,"click"],["color","custom","name","log-out"],[3,"fullscreen"],[1,"header"],[1,"title"],[1,"subTitle"],["novalidate","",3,"formGroup"],[1,"ion-padding","form-container"],["formControlName","displayName","placeholder","Nombre completo",1,"input"],["name","person-outline"],[4,"ngIf"],["formControlName","phoneNumber","placeholder","Secci\xf3n",1,"input"],["name","location-outline"],["formControlName","email","placeholder","Correo electr\xf3nico",1,"input"],["name","mail-outline"],["formControlName","password","placeholder","Contrase\xf1a",1,"input"],["name","lock-closed-outline"],["color","dark",1,"custom-button","form-container",3,"click"],["name","person"]],template:function(r,t){1&r&&(e.TgZ(0,"ion-menu",0)(1,"ion-header")(2,"ion-toolbar")(3,"ion-title"),e._uU(4,"Men\xfa"),e.qZA()()(),e.TgZ(5,"ion-content")(6,"ion-list")(7,"ion-item",1),e._UZ(8,"ion-icon",2),e.TgZ(9,"ion-label"),e._uU(10,"Inicio"),e.qZA()(),e.TgZ(11,"ion-item",3),e._UZ(12,"ion-icon",4),e.TgZ(13,"ion-label"),e._uU(14,"Registrar nuevo usuario"),e.qZA()(),e.TgZ(15,"ion-item",5),e._UZ(16,"ion-icon",6),e.TgZ(17,"ion-label"),e._uU(18,"Ajustes"),e.qZA()(),e.TgZ(19,"ion-item",7),e._UZ(20,"ion-icon",8),e.TgZ(21,"ion-label"),e._uU(22,"Notificaciones"),e.qZA()(),e.TgZ(23,"ion-item",9),e._UZ(24,"ion-icon",10),e.TgZ(25,"ion-label"),e._uU(26,"Ayuda"),e.qZA()()()()(),e.TgZ(27,"div",11)(28,"ion-header")(29,"ion-toolbar")(30,"ion-buttons",12),e._UZ(31,"ion-menu-button"),e.qZA(),e.TgZ(32,"ion-title"),e._uU(33,"INTEOEST"),e.qZA(),e.TgZ(34,"ion-buttons",13)(35,"ion-button",14),e.NdJ("click",function(){return t.logout()}),e._UZ(36,"ion-icon",15),e.qZA()()()(),e.TgZ(37,"ion-content",16)(38,"div",17)(39,"ion-title",18),e._uU(40,"Crear cuenta"),e.qZA(),e.TgZ(41,"p",19),e._uU(42,"Nuevo usuario"),e.qZA()(),e.TgZ(43,"form",20)(44,"div",21)(45,"ion-item"),e._UZ(46,"ion-input",22)(47,"ion-icon",23),e.qZA(),e.YNc(48,l,2,1,"div",24),e.TgZ(49,"ion-item"),e._UZ(50,"ion-input",25)(51,"ion-icon",26),e.qZA(),e.YNc(52,h,2,1,"div",24),e.TgZ(53,"ion-item"),e._UZ(54,"ion-input",27)(55,"ion-icon",28),e.qZA(),e.YNc(56,v,3,2,"div",24),e.TgZ(57,"ion-item"),e._UZ(58,"ion-input",29)(59,"ion-icon",30),e.qZA(),e.YNc(60,b,3,2,"div",24),e.qZA(),e.TgZ(61,"button",31),e.NdJ("click",function(){return t.signUp()}),e._UZ(62,"ion-icon",32),e._uU(63," Registrar\n"),e.qZA()()()()),2&r&&(e.xp6(37),e.Q6J("fullscreen",!0),e.xp6(6),e.Q6J("formGroup",t.regForm),e.xp6(5),e.Q6J("ngIf",t.regForm.controls.displayName.touched&&t.regForm.controls.displayName.invalid),e.xp6(4),e.Q6J("ngIf",t.regForm.controls.phoneNumber.touched&&t.regForm.controls.phoneNumber.invalid),e.xp6(4),e.Q6J("ngIf",t.regForm.controls.email.touched&&t.regForm.controls.email.invalid),e.xp6(4),e.Q6J("ngIf",t.regForm.controls.password.touched&&t.regForm.controls.password.invalid))},dependencies:[d.O5,a._Y,a.JJ,a.JL,i.YG,i.Sm,i.W2,i.Gu,i.gu,i.pK,i.Ie,i.Q$,i.q_,i.z0,i.fG,i.yW,i.wd,i.sr,i.j9,i.YI,a.sg,a.u,_.rH],styles:['@charset "UTF-8";.input[_ngcontent-%COMP%]{font-size:300}ion-item[_ngcontent-%COMP%]{--background: #f1f1f1;border-radius:10px;margin-bottom:16px}.header[_ngcontent-%COMP%]{margin-top:100px;margin-bottom:80px;text-align:center}.header[_ngcontent-%COMP%]   .subTitle[_ngcontent-%COMP%]{color:gray;font-size:.9rem}.signinLink[_ngcontent-%COMP%]{display:flex;margin:auto;flex-direction:row;align-content:center;position:absolute;justify-content:center;left:0;bottom:0;width:80%;right:0}.signinLink[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem}.signinLink[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.form-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}.centered-input[_ngcontent-%COMP%]{--padding-start: 0}.custom-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;padding:10px;font-size:16px;background-color:#333;color:#fff;border:none;border-radius:5px;cursor:pointer}.custom-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:8px}']}),s})()}];let N=(()=>{var n;class s{}return(n=s).\u0275fac=function(r){return new(r||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[_.Bz.forChild(S),_.Bz]}),s})(),F=(()=>{var n;class s{}return(n=s).\u0275fac=function(r){return new(r||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,a.u5,i.Pc,a.UX,N]}),s})()}}]);